"use strict";function ShoppingCart(a){this.cartName=a,this.clearCart=!1,this.checkoutParameters={},this.items=[],this.skuArray=[],this.totalWeight=0,this.taxRate=10,this.tax=null,this.campaignName="",this.objectives="",this.startDate="",this.endDate="",this.products=null,this.totalSpend=null,this.spendStats=null,this.age=[],this.income=[],this.loadItems()}function CartItem(a,b,c,d,e,f,g,h,i,j,k,l,m,n){this.sku=a,this.name=b,this.slug=c,this.image=g,this.category=h,this.size=i,this.mrp=d,this.price=1*e,this.quantity=1*f,this.weight=j,this.status=k,this.publisher=l,this.advertiser=m,this.uid=n}function checkoutParameters(a,b,c){this.serviceName=a,this.merchantID=b,this.options=c}if(angular.module("shopnxApp",["irontec.simpleChat","ngCookies","ngResource","ngAnimate","naif.base64","toastr","ngSanitize","btford.socket-io","ui.router","ui.bootstrap","tableSort","checklist-model","rzModule","infinite-scroll","darthwade.dwLoading","angularMoment","ui.select","ngFileUpload","luegg.directives","angular-simple-chat","ngMaterial","ngTable","smart-table","angular.filter","oitozero.ngSweetAlert","kendo.directives","ngPasswordStrength","CanvasViewer"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(a,b,c,d){b.otherwise("/"),c.html5Mode(!0),d.interceptors.push("authInterceptor")}]).factory("authInterceptor",["$rootScope","$q","$cookieStore","$location",function(a,b,c,d){return{request:function(a){return a.headers=a.headers||{},c.get("token")&&(a.headers.Authorization="Bearer "+c.get("token")),a},responseError:function(a){return 401===a.status?(d.path("/login"),c.remove("token"),b.reject(a)):b.reject(a)}}}]).run(["$rootScope","Auth","$state",function(a,b,c){a.$on("$stateChangeStart",function(a,d){b.isLoggedInAsync(function(e){d.authenticate&&!e&&(a.preventDefault(),b.saveAttemptUrl(),c.go("login"))})}),a.$on("$stateChangeSuccess",function(a,b){window.document.title=b.title+" - MediaBox"}),a.spinner={active:!1,on:function(){this.active=!0},off:function(){this.active=!1}}}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("login",{title:"Login to ",url:"/login",templateUrl:"app/account/login/login.html",controller:"LoginCtrl"}).state("signup",{title:"Signup for ",url:"/signup",templateUrl:"app/account/signup/signup.html",controller:"SignupCtrl"}).state("settings",{title:"Settings - Change Password ",url:"/settings",templateUrl:"app/account/settings/settings.html",controller:"SettingsCtrl",authenticate:!0}).state("terms",{title:"Terms",url:"/terms",templateUrl:"app/account/signup/terms.html",controller:"SignupCtrl"})}]),angular.module("shopnxApp").controller("LoginCtrl",["$scope","Auth","$location","$window",function(a,b,c,d){a.user={},a.errors={},a.login=function(c){a.submitted=!0,c.$valid&&b.login({email:a.user.email,password:a.user.password}).then(function(a){b.isAdmin()?b.redirectToAttemptedAdminUrl():b.redirectToAttemptedUrl()})["catch"](function(b){a.errors.other=b.message})},a.loginOauth=function(a){d.location.href="/auth/"+a}}]),angular.module("shopnxApp").controller("SettingsCtrl",["$scope","User","Auth","Settings","toastr",function(a,b,c,d,e){a.errors={},a.changePassword=function(b){a.submitted=!0,b.$valid&&c.changePassword(a.user.oldPassword,a.user.newPassword).then(function(){a.message="Password successfully changed."})["catch"](function(){b.password.$setValidity("mongoose",!1),a.errors.other="Incorrect password",a.message=""})}}]),angular.module("shopnxApp").directive("checkRequired",function(){return{require:"ngModel",restrict:"A",link:function(a,b,c,d){d.$validators.checkRequired=function(b,d){var e=b||d,f=a.$eval(c.ngTrueValue)||!0;return e&&f===e}}}}).controller("SignupCtrl",["$scope","Auth","$location","$window",function(a,b,c,d){a.user={},a.users={},a.errors={},a.terms=function(){swal({title:"Welcome!",imageUrl:"assets/img/logo.png",text:"Thanks you for signing up enjoy convenience redefined.",timer:7e3,showConfirmButton:!1})},a.register=function(c){console.log(a.user),a.submitted=!0,c.$valid&&b.createUser({name:a.user.name,email:a.user.email,password:a.user.password,lastname:a.user.lastname,phone:a.user.phone,website:a.user.website,company:a.user.company,currency:a.user.currency,role:a.user.role}).then(function(){swal({title:"Welcome!",imageUrl:"assets/img/logo.png",text:"Thanks you for signing up .Your Account will be verified soon .",timer:7e3,showConfirmButton:!1})})["catch"](function(b){b=b.data,a.errors={},angular.forEach(b.errors,function(b,d){c[d].$setValidity("mongoose",!1),a.errors[d]=b.message})})},a.loginOauth=function(a){d.location.href="/auth/"+a}}]),angular.module("shopnxApp").controller("AdminCtrl",["$scope","PaymentMethods","Settings","toastr",function(a,b,c,d){a.errors={},a.settings={},b.query({},function(b){a.payment=b[0]}),Setting.query({},function(b){a.settings=b[0]}),a.saveSettings=function(b){a.submitted=!0,b._id&&Setting.update({id:b._id},b).$promise.then(function(b){a.message="Shipping settings saved successfully."},function(a){if(console.log(a),a.data.errors){var b=a.data.errors;d.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;d.error(c)}})}}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("admin",{title:"Shop Settings - Payment Option ",url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminCtrl",authenticate:!0})}]),angular.module("shopnxApp").controller("BrandCtrl",function(){}),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("brand",{title:"Add, Remove, Edit Categories",url:"/brand",templateUrl:"app/brand/brand.html",controller:"BrandCtrl",authenticate:!0})}]),angular.module("shopnxApp").controller("CampaignCompletedCtrl",["$scope","$rootScope","$filter","Cart","$modal","$log","$timeout","$mdSidenav","Campaign","toastr","$loading",function(a,b,c,d,e,f,g,h,i,j,k){function l(b,c,d){var e;return function(){var d=a,f=Array.prototype.slice.call(arguments);g.cancel(e),e=g(function(){e=void 0,b.apply(d,f)},c||10)}}function m(a){return l(function(){h(a).toggle().then(function(){f.debug("toggle "+a+" is done")})},200)}function n(a){return function(){h(a).toggle().then(function(){f.debug("toggle "+a+" is done")})}}d.cart.clearItems(),d.cart.products=20,k.start("campaigns");var o=this;o.itemsGrid=[],o.toggleLeft=m("left"),o.toggleRight=n("right"),o.isOpenRight=function(){return h("right").isOpen()},o.items=["item1","item2","item3"],o.animationsEnabled=!0,o.open=function(a,c,d,g){console.log(d),b.toMerge=a,b.toMergeCreative=d;var h=e.open({animation:o.animationsEnabled,templateUrl:"creative.html",controller:"ModalInstanceCtrl",size:g,resolve:{items:function(){return c}}});h.result.then(function(a){o.selected=a},function(){f.info("Modal dismissed at: "+new Date)})},o.openCreative=function(a,c){console.log(a),b.toMergeCreative=a;var d=e.open({animation:o.animationsEnabled,templateUrl:"preview.html",controller:"ModalInstanceCtrl",size:c,resolve:{items:function(){return a}}});d.result.then(function(a){o.selected=a},function(){f.info("Modal dismissed at: "+new Date)})},o.openToggle=function(c,d,e,f){b.toMergeItems=d,b.toMergeCampaign=c,console.log(c),console.log(d),a.items=c},o.openChat=function(a,c,d,g){console.log(a._id),b.toDelete=a._id,b.toMerge=a;var h=e.open({animation:o.animationsEnabled,templateUrl:"chat.html",controller:"ChatInstanceCtrl",size:g,resolve:{items:function(){return c}}});h.result.then(function(a){o.selected=a},function(){f.info("Modal dismissed at: "+new Date)})},o.openRequest=function(a,c,d,g){console.log(a._id),b.toDelete=a._id,b.toMerge=a;var h=e.open({animation:o.animationsEnabled,templateUrl:"request.html",controller:"RequestInstanceCtrl",size:g,resolve:{items:function(){return c}}});h.result.then(function(a){o.selected=a},function(){f.info("Modal dismissed at: "+new Date)})},o.toggleAnimation=function(){o.animationsEnabled=!o.animationsEnabled},o.cmp={},o.campaignStatusLov=i.status,o.campaignStatus=[{name:"",val:402},{name:"Avail Check",val:201},{name:"Buy",val:202}],o.campaigns=i.my.query({},function(a){for(var b=a.length,c=0;c<a.length;c++){var d=0,e=a[c];console.log(e.campaignNo);for(var f=0;f<e.items.length;f++){var g=e.items[f].price,h=e.items[f].quantity;d+=g*h}a[c].totalWeight=d,k.finish("campaigns")}k.finish("campaigns"),a.totalCampaign=b,console.log(b)}),o.getTotal=function(a){for(var b=0,c=0;c<a.items.length;c++){var d=a.items[c].price,e=a.items[c].quantity;b+=d*e}return b};var p={};p.where={$and:[{uid:b.user.email},{endDate:{$lt:Date.now()}},{"items.status.name":"Approved"}]},o.mainGridOptions={dataSource:{transport:{read:function(a){i.my.query(p,function(b){a.success(b),console.log(b)})}},pageSize:10,serverPaging:!0,serverSorting:!0},toolbar:["excel","pdf"],excel:{allPages:!0,proxyURL:"//demos.telerik.com/kendo-ui/service/export",fileName:"Mediabox-campaigns.xlsx",filterable:!0},pdf:{allPages:!0,avoidLinks:!0,paperSize:"A4",margin:{top:"2cm",left:"1cm",right:"1cm",bottom:"1cm"},landscape:!0,repeatHeaders:!0,template:$("#page-template").html(),scale:.8},sortable:!0,pageable:!0,editable:"popup",filterable:!0,dataBound:function(){this.expandRow(this.tbody.find("tr.k-master-row").first())},columns:[{field:"campaignNo",title:"Campaign Id"},{field:"campaignName",title:"Campaign Name"},{field:"startDate",title:"Start Date",type:"datetime",template:"#=  (startDate == null)? '' : kendo.toString(kendo.parseDate(startDate, 'yyyy-MM-dd'), 'MM/dd/yy') #"},{field:"endDate",title:"End Date",type:"datetime",template:"#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #"},{field:"items[0].status.name",title:"Status"},{field:"totalSpend",title:"Total"}]},o.detailGridOptions=function(a){return{dataSource:{filter:{field:"id",operator:"eq",value:a.id},transport:{read:function(c){var d={};d.where={$and:[{uid:b.user.email},{endDate:{$lt:Date.now()}},{"items.status.name":"Approved"}]},i.my.query(d,function(b){console.log(b);for(var d=0,e=b.length,f=0;f<b.length;f++){d=0;for(var g=b[f],h=0;h<g.items.length;h++){var i={campaignNo:g.campaignNo,id:g._id,advertiser:g.items[h].advertiser,category:g.items[h].category,creative:g.items[h].creative,image:g.items[h].image,messages:g.items[h].messages,mrp:g.items[h].mrp,name:g.items[h].name,price:g.items[h].price,publisher:g.items[h].publisher,quantity:g.items[h].quantity,request:g.items[h].request,size:g.items[h].size,sku:g.items[h].sku,status:g.items[h].status,uid:g.items[h].uid},j=g.items[h].price,k=g.items[h].quantity;d+=j*k,b.totalSpend=d,o.itemsGrid.push(i)}}b.total=d,b.totalCampaign=e;for(var l=[],h=0;h<o.itemsGrid.length;h++){var g=o.itemsGrid[h];g.campaignNo==a.campaignNo&&l.push(g),c.success(l),console.log(l),o.data=[]}o.itemsGrid=[]})}},serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:5,filterable:!0},scrollable:!1,sortable:!0,pageable:!0,columns:[{field:"name",title:"Name",width:"70px"},{field:"price",title:"Price",width:"50px",template:function(a){return"<div></span><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$"+a.price+"</span></div>"}},{field:"quantity",title:"Quantity",width:"30px"},{title:"Status",width:"40px",template:function(a){return'<div ng-show= "dataItem.status.val==\'305\'" class="alert alert-success"><small>Approved</small></div><div  ng-show = "dataItem.status.val==\'402\'" class="alert alert-danger" ><small>Pending<small></div><div  ng-show = "dataItem.status.val==\'300\'" class="alert alert-success" ><small>Ready</small> </div><div  ng-show = "dataItem.status.val==\'500\'" class="alert alert-danger" ><small>Rejected</small> </div><div  ng-show = "dataItem.status.val==\'309\'" class="alert alert-success" ><small>Completed</small> </div>'}},{field:"creative",title:"Creative",width:"50px",template:function(a){return'<div ng-hide="dataItem.creative"><button  class="btn btn-danger" ng-hide="isAdmin()" ng-click="vm.openCreative(dataItem,\'md\')" ><i class="fa fa-image"></i><span class="glyphicon glyphicon-upload"></span></button></div></div><div ng-show="dataItem.creative"><button  class="btn btn-success" ng-hide="isAdmin()" ng-click="vm.openCreative(dataItem,\'md\')" ><i class="fa fa-image"></i><span class="glyphicon glyphicon-upload"></span></button></div></div>'}},{title:"Action",width:"50px",template:function(a){return'<div  ng-show= "dataItem.status.val==\'305\'" ><button class="btn-success btn-sm btn-success" ng-click="cart.addItem({sku:dataItem.sku, name:dataItem.name,slug:adspace.formart,mrp:dataItem.mrp, weight:dataItem.maxSize,size:dataItem.size,price:dataItem.price , publisher:dataItem.publisher,uid:dataItem.uid,category:dataItem.category,image:dataItem.image,quantity:1} ,true);" ng-show="checkCart(dataItem.name)"><i class="fa fa-shopping-cart" ></i></button></div>'}}]}},o.action=function(a){console.log(a),i["delete"]({id:a._id},function(){console.log("Campaign deleted"),i.save(a).$promise.then(function(){j.success("Campaign info saved successfully","Success")})})},o.changeStatus=function(a){i.update({id:a._id},a).$promise.then(function(a){console.log(a)},function(a){if(console.log(a),a.data.errors){var b=a.data.errors;j.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;j.error(c)}})}}]),angular.module("shopnxApp").controller("CampaignRunningCtrl",["$scope","$rootScope","$filter","Cart","$modal","$log","$timeout","$mdSidenav","Campaign","toastr","$loading",function(a,b,c,d,e,f,g,h,i,j,k){function l(b,c,d){var e;return function(){var d=a,f=Array.prototype.slice.call(arguments);g.cancel(e),e=g(function(){e=void 0,b.apply(d,f)},c||10)}}function m(a){return l(function(){h(a).toggle().then(function(){f.debug("toggle "+a+" is done")})},200)}function n(a){return function(){h(a).toggle().then(function(){f.debug("toggle "+a+" is done")})}}d.cart.clearItems(),d.cart.products=20,k.start("campaigns");var o=this;o.itemsGrid=[],o.toggleLeft=m("left"),o.toggleRight=n("right"),o.isOpenRight=function(){return h("right").isOpen()},o.items=["item1","item2","item3"],o.animationsEnabled=!0,o.open=function(a,c,d,g){console.log(d),b.toMerge=a,b.toMergeCreative=d;var h=e.open({animation:o.animationsEnabled,templateUrl:"creative.html",controller:"ModalInstanceCtrl",size:g,resolve:{items:function(){return c}}});h.result.then(function(a){o.selected=a},function(){f.info("Modal dismissed at: "+new Date)})},o.openCreative=function(a,c){b.toMergeCreative=a;var d=e.open({animation:o.animationsEnabled,templateUrl:"preview.html",controller:"ModalInstanceCtrl",size:c,resolve:{items:function(){return a}}});d.result.then(function(a){o.selected=a},function(){f.info("Modal dismissed at: "+new Date)})},o.openToggle=function(c,d,e,f){b.toMergeItems=d,b.toMergeCampaign=c,console.log(c),console.log(d),a.items=c},o.openChat=function(a,c,d,g){console.log(a._id),b.toDelete=a._id,b.toMerge=a;var h=e.open({animation:o.animationsEnabled,templateUrl:"chat.html",controller:"ChatInstanceCtrl",size:g,resolve:{items:function(){return c}}});h.result.then(function(a){o.selected=a},function(){f.info("Modal dismissed at: "+new Date)})},o.openRequest=function(a,c,d,g){console.log(a._id),b.toDelete=a._id,b.toMerge=a;var h=e.open({animation:o.animationsEnabled,templateUrl:"request.html",controller:"RequestInstanceCtrl",size:g,resolve:{items:function(){return c}}});h.result.then(function(a){o.selected=a},function(){f.info("Modal dismissed at: "+new Date)})},o.toggleAnimation=function(){o.animationsEnabled=!o.animationsEnabled},o.cmp={},o.campaignStatusLov=i.status,o.campaignStatus=[{name:"",val:402},{name:"Avail Check",val:201},{name:"Buy",val:202}],o.campaigns=i.my.query({},function(a){for(var b=a.length,c=0;c<a.length;c++){var d=0,e=a[c];console.log(e.campaignNo);for(var f=0;f<e.items.length;f++){var g=e.items[f].price,h=e.items[f].quantity;d+=g*h}a[c].totalWeight=d,k.finish("campaigns")}k.finish("campaigns"),a.totalCampaign=b,console.log(b)}),o.getTotal=function(a){for(var b=0,c=0;c<a.items.length;c++){var d=a.items[c].price,e=a.items[c].quantity;b+=d*e}return b};var p={};p.where={$and:[{uid:b.user.email},{startDate:{$lt:Date.now()}},{endDate:{$gt:Date.now()}},{"items.status.name":"Approved"}]},o.mainGridOptions={dataSource:{transport:{read:function(a){i.my.query(p,function(b){a.success(b),console.log(b)})}},pageSize:10,serverPaging:!0,serverSorting:!0},toolbar:["excel","pdf"],excel:{allPages:!0,proxyURL:"//demos.telerik.com/kendo-ui/service/export",fileName:"Mediabox-campaigns.xlsx",filterable:!0},pdf:{allPages:!0,avoidLinks:!0,paperSize:"A4",margin:{top:"2cm",left:"1cm",right:"1cm",bottom:"1cm"},landscape:!0,repeatHeaders:!0,template:$("#page-template").html(),scale:.8},sortable:!0,pageable:!0,editable:"popup",filterable:!0,dataBound:function(){this.expandRow(this.tbody.find("tr.k-master-row").first())},columns:[{field:"campaignNo",title:"Campaign Id"},{field:"campaignName",title:"Campaign Name"},{field:"startDate",title:"Start Date",type:"datetime",template:"#=  (startDate == null)? '' : kendo.toString(kendo.parseDate(startDate, 'yyyy-MM-dd'), 'MM/dd/yy') #"},{field:"endDate",title:"End Date",type:"datetime",template:"#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #"},{field:"items[0].status.name",title:"Status"},{field:"totalSpend",title:"Total"}]},o.detailGridOptions=function(a){return{dataSource:{filter:{field:"id",operator:"eq",value:a.id},transport:{read:function(c){var d={};d.where={$and:[{uid:b.user.email},{startDate:{$lt:Date.now()}},{endDate:{$gt:Date.now()}},{"items.status.name":"Approved"}]},i.my.query(d,function(b){console.log(b);for(var d=0,e=b.length,f=0;f<b.length;f++){d=0;for(var g=b[f],h=0;h<g.items.length;h++){var i={campaignNo:g.campaignNo,id:g._id,advertiser:g.items[h].advertiser,category:g.items[h].category,creative:g.items[h].creative,image:g.items[h].image,messages:g.items[h].messages,mrp:g.items[h].mrp,name:g.items[h].name,price:g.items[h].price,publisher:g.items[h].publisher,quantity:g.items[h].quantity,request:g.items[h].request,size:g.items[h].size,sku:g.items[h].sku,status:g.items[h].status,uid:g.items[h].uid},j=g.items[h].price,k=g.items[h].quantity;d+=j*k,b.totalSpend=d,o.itemsGrid.push(i)}}b.total=d,b.totalCampaign=e;for(var l=[],h=0;h<o.itemsGrid.length;h++){var g=o.itemsGrid[h];g.campaignNo==a.campaignNo&&l.push(g),c.success(l),console.log(l),o.data=[]}o.itemsGrid=[]})}},serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:5,filterable:!0},scrollable:!1,sortable:!0,pageable:!0,columns:[{field:"name",title:"Name",width:"70px"},{field:"price",title:"Price",width:"50px",template:function(a){return"<div></span><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$"+a.price+"</span></div>"}},{field:"quantity",title:"Quantity",width:"30px"},{title:"Status",width:"40px",template:function(a){return'<div ng-show= "dataItem.status.val==\'305\'" class="alert alert-success"><small>Approved</small></div><div  ng-show = "dataItem.status.val==\'402\'" class="alert alert-danger" ><small>Pending<small></div><div  ng-show = "dataItem.status.val==\'300\'" class="alert alert-success" ><small>Ready</small> </div><div  ng-show = "dataItem.status.val==\'500\'" class="alert alert-danger" ><small>Rejected</small> </div><div  ng-show = "dataItem.status.val==\'309\'" class="alert alert-success" ><small>Completed</small> </div>'}},{field:"creative",title:"Creative",width:"50px",template:function(a){return'<div ng-hide="dataItem.creative"><button  class="btn btn-danger"  ng-click="vm.openCreative(dataItem,\'md\')" ><i class="fa fa-image"></i><span class="glyphicon glyphicon-upload"></span></button></div></div><div ng-show="dataItem.creative"><button  class="btn btn-success"  ng-click="vm.openCreative(dataItem,\'md\')" ><i class="fa fa-image"></i><span class="glyphicon glyphicon-upload"></span></button></div></div>'}},{title:"Action",width:"50px",template:function(a){return'<div  ng-show= "dataItem.status.val==\'305\'" ><button class="btn-success btn-sm btn-success" ng-click="cart.addItem({sku:dataItem.sku, name:dataItem.name,slug:adspace.formart,mrp:dataItem.mrp, weight:dataItem.maxSize,size:dataItem.size,price:dataItem.price , publisher:dataItem.publisher,uid:dataItem.uid,category:dataItem.category,image:dataItem.image,quantity:1} ,true);" ng-show="checkCart(dataItem.name)"><i class="fa fa-shopping-cart" ></i></button></div>'}}]}},o.action=function(a){console.log(a),i["delete"]({id:a._id},function(){console.log("Campaign deleted"),i.save(a).$promise.then(function(){j.success("Campaign info saved successfully","Success")})})},o.changeStatus=function(a){i.update({id:a._id},a).$promise.then(function(a){console.log(a)},function(a){if(console.log(a),a.data.errors){var b=a.data.errors;j.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;j.error(c)}})}}]),angular.module("shopnxApp").controller("CampaignScheduledCtrl",["$scope","$rootScope","$filter","Cart","$modal","$log","$timeout","$mdSidenav","Campaign","toastr","$loading",function(a,b,c,d,e,f,g,h,i,j,k){function l(b,c,d){var e;return function(){var d=a,f=Array.prototype.slice.call(arguments);g.cancel(e),e=g(function(){e=void 0,b.apply(d,f)},c||10)}}function m(a){return l(function(){h(a).toggle().then(function(){f.debug("toggle "+a+" is done")})},200)}function n(a){return function(){h(a).toggle().then(function(){f.debug("toggle "+a+" is done")})}}d.cart.clearItems(),d.cart.products=20,k.start("campaigns");var o=this;o.itemsGrid=[],o.toggleLeft=m("left"),o.toggleRight=n("right"),o.isOpenRight=function(){return h("right").isOpen()},o.items=["item1","item2","item3"],o.animationsEnabled=!0,o.open=function(a,c,d,g){console.log(d),b.toMerge=a,b.toMergeCreative=d;var h=e.open({animation:o.animationsEnabled,templateUrl:"creative.html",controller:"ModalInstanceCtrl",size:g,resolve:{items:function(){return c}}});h.result.then(function(a){o.selected=a},function(){f.info("Modal dismissed at: "+new Date)})},o.openCreative=function(a,c){console.log(a),b.toMergeCreative=a;var d=e.open({animation:o.animationsEnabled,templateUrl:"preview.html",controller:"ModalInstanceCtrl",size:c,resolve:{items:function(){return a}}});d.result.then(function(a){o.selected=a},function(){f.info("Modal dismissed at: "+new Date)})},o.openToggle=function(c,d,e,f){b.toMergeItems=d,b.toMergeCampaign=c,console.log(c),console.log(d),a.items=c},o.openChat=function(a,c,d,g){console.log(a._id),b.toDelete=a._id,b.toMerge=a;var h=e.open({animation:o.animationsEnabled,templateUrl:"chat.html",controller:"ChatInstanceCtrl",size:g,resolve:{items:function(){return c}}});h.result.then(function(a){o.selected=a},function(){f.info("Modal dismissed at: "+new Date)})},o.openRequest=function(a,c,d,g){console.log(a._id),b.toDelete=a._id,b.toMerge=a;var h=e.open({animation:o.animationsEnabled,templateUrl:"request.html",controller:"RequestInstanceCtrl",size:g,resolve:{items:function(){return c}}});h.result.then(function(a){o.selected=a},function(){f.info("Modal dismissed at: "+new Date)})},o.toggleAnimation=function(){o.animationsEnabled=!o.animationsEnabled},o.cmp={},o.campaignStatusLov=i.status,o.campaignStatus=[{name:"",val:402},{name:"Avail Check",val:201},{name:"Buy",val:202}],o.campaigns=i.my.query({},function(a){for(var b=a.length,c=0;c<a.length;c++){for(var d=0,e=a[c],f=0;f<e.items.length;f++){var g=e.items[f].price,h=e.items[f].quantity;d+=g*h}a[c].totalWeight=d,k.finish("campaigns")}k.finish("campaigns"),a.totalCampaign=b}),o.getTotal=function(a){for(var b=0,c=0;c<a.items.length;c++){var d=a.items[c].price,e=a.items[c].quantity;b+=d*e}return b};var p={};p.where={$and:[{uid:b.user.email},{startDate:{$gt:Date.now()}},{"items.status.name":"Approved"}]},o.mainGridOptions={dataSource:{transport:{read:function(a){i.my.query(p,function(b){a.success(b)})}},pageSize:10,serverPaging:!0,serverSorting:!0},toolbar:["excel","pdf"],excel:{allPages:!0,proxyURL:"//demos.telerik.com/kendo-ui/service/export",fileName:"Mediabox-campaigns.xlsx",filterable:!0},pdf:{allPages:!0,avoidLinks:!0,paperSize:"A4",margin:{top:"2cm",left:"1cm",right:"1cm",bottom:"1cm"},landscape:!0,repeatHeaders:!0,template:$("#page-template").html(),scale:.8},sortable:!0,pageable:!0,editable:"popup",filterable:!0,dataBound:function(){this.expandRow(this.tbody.find("tr.k-master-row").first())},columns:[{field:"campaignNo",title:"Campaign Id"},{field:"campaignName",title:"Campaign Name"},{field:"startDate",title:"Start Date",type:"datetime",template:"#=  (startDate == null)? '' : kendo.toString(kendo.parseDate(startDate, 'yyyy-MM-dd'), 'MM/dd/yy') #"},{field:"endDate",title:"End Date",type:"datetime",template:"#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #"},{field:"items[0].status.name",title:"Status"},{field:"totalSpend",title:"Total"}]},o.detailGridOptions=function(a){return{dataSource:{filter:{field:"id",operator:"eq",value:a.id},transport:{read:function(c){var d={};d.where={$and:[{uid:b.user.email},{startDate:{$gt:Date.now()}},{"items.status.name":"Approved"}]},i.my.query(d,function(b){console.log(b);for(var d=0,e=b.length,f=0;f<b.length;f++){d=0;for(var g=b[f],h=0;h<g.items.length;h++){var i={campaignNo:g.campaignNo,id:g._id,advertiser:g.items[h].advertiser,category:g.items[h].category,creative:g.items[h].creative,image:g.items[h].image,messages:g.items[h].messages,mrp:g.items[h].mrp,name:g.items[h].name,price:g.items[h].price,publisher:g.items[h].publisher,quantity:g.items[h].quantity,request:g.items[h].request,size:g.items[h].size,sku:g.items[h].sku,status:g.items[h].status,uuid:g.items[h].uid},j=g.items[h].price,k=g.items[h].quantity;d+=j*k,b.totalSpend=d,o.itemsGrid.push(i)}}b.total=d,b.totalCampaign=e;for(var l=[],h=0;h<o.itemsGrid.length;h++){var g=o.itemsGrid[h];g.campaignNo==a.campaignNo&&l.push(g),c.success(l),console.log(l),o.data=[]}o.itemsGrid=[]})}},serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:5,filterable:!0},scrollable:!1,sortable:!0,pageable:!0,columns:[{field:"name",title:"Name",width:"70px"},{field:"price",title:"Price",width:"50px",template:function(a){return"<div></span><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$"+a.price+"</span></div>"}},{field:"quantity",title:"Quantity",width:"30px"},{title:"Status",width:"40px",template:function(a){return'<div ng-show= "dataItem.status.val==\'305\'" class="alert alert-success"><small>Approved</small></div><div  ng-show = "dataItem.status.val==\'402\'" class="alert alert-danger" ><small>Pending<small></div><div  ng-show = "dataItem.status.val==\'300\'" class="alert alert-success" ><small>Ready</small> </div><div  ng-show = "dataItem.status.val==\'500\'" class="alert alert-danger" ><small>Rejected</small> </div><div  ng-show = "dataItem.status.val==\'309\'" class="alert alert-success" ><small>Completed</small> </div>'}},{field:"creative",title:"Creative",width:"50px",template:function(a){return'<div ng-hide="dataItem.creative"><button  class="btn btn-danger" ng-hide="isAdmin()" ng-click="vm.openCreative(dataItem,\'md\')" ><i class="fa fa-image"></i><span class="glyphicon glyphicon-upload"></span></button></div></div><div ng-show="dataItem.creative"><button  class="btn btn-success" ng-hide="isAdmin()" ng-click="vm.openCreative(dataItem,\'md\')" ><i class="fa fa-image"></i><span class="glyphicon glyphicon-upload"></span></button></div></div>'}},{title:"Action",width:"50px",template:function(a){return'<div  ng-show= "dataItem.status.val==\'305\'" ><button class="btn-success btn-sm btn-success" ng-click="cart.addItem({sku:dataItem.sku, name:dataItem.name,slug:adspace.formart,mrp:dataItem.mrp, weight:dataItem.maxSize,size:dataItem.size,price:dataItem.price , publisher:dataItem.publisher,uid:dataItem.uuid,category:dataItem.category,image:dataItem.image,quantity:1} ,true);" ng-show="checkCart(dataItem.name)"><i class="fa fa-shopping-cart" ></i></button></div>'}}]}},o.action=function(a){console.log(a),i["delete"]({id:a._id},function(){console.log("Campaign deleted"),i.save(a).$promise.then(function(){j.success("Campaign info saved successfully","Success")})})},o.changeStatus=function(a){i.update({id:a._id},a).$promise.then(function(a){console.log(a)},function(a){if(console.log(a),a.data.errors){var b=a.data.errors;j.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;j.error(c)}})}}]),angular.module("shopnxApp").controller("LeftCtrl",["$scope","$timeout","$mdSidenav","$log",function(a,b,c,d){a.close=function(){c("left").close().then(function(){d.debug("close LEFT is done")})}}]).controller("RightCtrl",["$scope","$timeout","$mdSidenav","$log",function(a,b,c,d){a.close=function(){c("right").close().then(function(){d.debug("close RIGHT is done")})}}]).directive("showNotifications",["$interval",function(a){return{restrict:"A",link:function(b,c,d){$(c).click(function(){$(this).popover("open")}),a(function(){$(c).popover("open")},1e3)}}}]).controller("CampaignCtrl",["$scope","Auth","$rootScope","$filter","Cart","$modal","$log","$timeout","$mdSidenav","Campaign","toastr","$loading",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(b,c,d){var e;return function(){var d=a,f=Array.prototype.slice.call(arguments);h.cancel(e),e=h(function(){e=void 0,b.apply(d,f)},c||10)}}function n(a){return m(function(){i(a).toggle().then(function(){g.debug("toggle "+a+" is done")})},200)}function o(a){return function(){i(a).toggle().then(function(){g.debug("toggle "+a+" is done")})}}e.cart.clearItems(),e.cart.products=20,l.start("campaigns");var p=this;p.itemsGrid=[],p.toggleLeft=n("left"),p.toggleRight=o("right"),p.isOpenRight=function(){return i("right").isOpen()},p.items=["item1","item2","item3"],p.animationsEnabled=!0,p.open=function(a,b,d,e){console.log(d),c.toMerge=a,c.toMergeCreative=d;var h=f.open({animation:p.animationsEnabled,templateUrl:"creative.html",controller:"ModalInstanceCtrl",size:e,resolve:{items:function(){return b}}});h.result.then(function(a){p.selected=a},function(){g.info("Modal dismissed at: "+new Date)})},p.openCreative=function(a,b){console.log(a),c.toMergeCreative=a;var d=f.open({animation:p.animationsEnabled,templateUrl:"preview.html",controller:"ModalInstanceCtrl",size:b,resolve:{items:function(){return a}}});d.result.then(function(a){p.selected=a},function(){g.info("Modal dismissed at: "+new Date)})},p.openToggle=function(b,d,e,f){c.toMergeItems=d,c.toMergeCampaign=b,console.log(b),console.log(d),a.items=b,p.toggleRight()},p.openChat=function(a,b,d,e){console.log(a._id),c.toDelete=a._id,c.toMerge=a;var h=f.open({animation:p.animationsEnabled,templateUrl:"chat.html",controller:"ChatInstanceCtrl",size:e,resolve:{items:function(){return b}}});h.result.then(function(a){p.selected=a},function(){g.info("Modal dismissed at: "+new Date)})},p.openRequest=function(a,b,d,e){console.log(a._id),c.toDelete=a._id,c.toMerge=a;var h=f.open({animation:p.animationsEnabled,templateUrl:"request.html",controller:"RequestInstanceCtrl",size:e,resolve:{items:function(){return b}}});h.result.then(function(a){p.selected=a},function(){g.info("Modal dismissed at: "+new Date)})},p.toggleAnimation=function(){p.animationsEnabled=!p.animationsEnabled},p.cmp={},p.campaignStatusLov=j.status,p.campaignStatus=[{name:"",val:402},{name:"Avail Check",val:201},{name:"Buy",val:202}],p.you={userId:b.getCurrentUser().email,avatar:b.getCurrentUser().photo.base64,userName:b.getCurrentUser().company},p.messages=[{id:"535d625f898df4e80e2a125e",text:"Fotzu isoko vo adget ne uba in lup jedzow mi uvinifse epepo het ezezocic bahehufep lid pubuj.",userId:"user@codenx.com",avatar:"http://polyligne.be/wp-content/uploads/2014/06/Man_Avatar.gif",date:"1455110273886"},{id:"535f13ffee3b2a68112b9fc0",text:"Hu girucajam ifuolocag za nifjem ninze dak kadi wi zowolhim asa vouczu ci.",userId:"4562KDJYE72930DST283DFY202Dd",date:"1455110273886"},{id:"546a5843fd4c5d581efa263a",text:"Vad vo ujcofwag pelobhuz wonogmo cikutew imoissuv no doso jum govhi peva aj ven narzir gac rofbufubo il.",userId:"user@codenx.com",avatar:"http://polyligne.be/wp-content/uploads/2014/06/Man_Avatar.gif",
date:"1455110173886"},{id:"54764399ab43d1d4113abfd1",text:"Meug viedeloh cuwmaheba gunhe din mif kub ec limvimil boik fuj peze za sow.",userId:"4562KDJYE72930DST283DFY202Dd",date:"1455110283886"},{id:"547643aeab43d1d4113abfd2",text:"Leeczo gokurus cif wepke nidji dabuti wi itco aduzab anru cev do surakip.",userId:"user@codenx.com",avatar:"http://polyligne.be/wp-content/uploads/2014/06/Man_Avatar.gif",date:"1455110483886"},{id:"547815dbab43d1d4113abfef",text:"Piazwac cah opovi cipril sonetpa da bobren teekiril fac ma attu wone piuba de ojeseki.",userId:"4562KDJYE72930DST283DFY202Dd",date:"1455110583886"},{id:"547815dbaqsnod67892d4113abfef",text:"Dubehtak re bodeju em parobji leunvil fetpok iwipog gibzi teb navibahul girofip hikfib ge.",userId:"4562KDJYE72930DST283DFY202Dd",date:"1455112283886"}],p.sendMessage=function(a){console.log(a)},a.$on("simple-chat-message-posted",function(){console.log("onMessagePosted")}),p.campaigns=j.my.query({},function(a){var b=a.length;a.totalCampaign=b,l.finish("campaigns")});var q={};q.where={$and:[{uid:c.user.email},{"items.status.name":"New"}]},p.campaignsPending=j.my.query(q,function(a){var b=a.length;a.totalCampaign=b,l.finish("campaigns")});var r={};r.where={$and:[{uid:c.user.email},{startDate:{$gt:Date.now()}},{"items.status.name":"Approved"}]},p.campaignsScheduled=j.my.query(r,function(a){var b=a.length;a.totalCampaign=b,l.finish("campaigns")});var s={};s.where={$and:[{uid:c.user.email},{startDate:{$lt:Date.now()}},{endDate:{$gt:Date.now()}},{"items.status.name":"Approved"}]},p.campaignsRunning=j.my.query(s,function(a){var b=a.length;a.totalCampaign=b,l.finish("campaigns")});var t={};t.where={$and:[{uid:c.user.email},{endDate:{$lt:Date.now()}},{"items.status.name":"Approved"}]},p.campaignsCompleted=j.my.query(t,function(a){var b=a.length;a.totalCampaign=b,l.finish("campaigns")}),p.getTotal=function(a){for(var b=0,c=0;c<a.items.length;c++){var d=a.items[c].price,e=a.items[c].quantity;b+=d*e}return b};var u={};u.where={$and:[{uid:c.user.email},{"items.status.name":"New"}]},p.mainGridOptions={dataSource:{transport:{read:function(a){j.my.query(u,function(b){a.success(b)})}},pageSize:10,serverPaging:!0,serverSorting:!0},toolbar:["excel","pdf"],excel:{allPages:!0,proxyURL:"//demos.telerik.com/kendo-ui/service/export",fileName:"Mediabox-campaigns.xlsx",filterable:!0},pdf:{allPages:!0,avoidLinks:!0,paperSize:"A4",margin:{top:"2cm",left:"1cm",right:"1cm",bottom:"1cm"},landscape:!0,repeatHeaders:!0,template:$("#page-template").html(),scale:.8},sortable:!0,pageable:!0,editable:"popup",filterable:!0,dataBound:function(){this.expandRow(this.tbody.find("tr.k-master-row").first())},columns:[{field:"campaignNo",title:"Campaign ID"},{field:"campaignName",title:"Campaign Name"},{field:"startDate",title:"Start Date",type:"datetime",template:"#=  (startDate == null)? '' : kendo.toString(kendo.parseDate(startDate, 'yyyy-MM-dd'), 'MM/dd/yy') #"},{field:"endDate",title:"End Date",type:"datetime",template:"#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #"},{field:"items[0].status.name",title:"Status"},{field:"totalSpend",title:"Total"}]},p.detailGridOptions=function(a){return{dataSource:{filter:{field:"id",operator:"eq",value:a.id},transport:{read:function(b){var d={};d.where={$and:[{uid:c.user.email},{"items.status.name":"New"}]},j.my.query(d,function(c){for(var d=0,e=c.length,f=0;f<c.length;f++){d=0;for(var g=c[f],h=0;h<g.items.length;h++){var i={campaignNo:g.campaignNo,id:g._id,advertiser:g.items[h].advertiser,category:g.items[h].category,creative:g.items[h].creative,image:g.items[h].image,messages:g.items[h].messages,mrp:g.items[h].mrp,name:g.items[h].name,price:g.items[h].price,publisher:g.items[h].publisher,quantity:g.items[h].quantity,request:g.items[h].request,size:g.items[h].size,sku:g.items[h].sku,status:g.items[h].status,uid:g.items[h].uid},j=g.items[h].price,k=g.items[h].quantity;d+=j*k,c.totalSpend=d,p.itemsGrid.push(i)}}c.total=d,c.totalCampaign=e;for(var l=[],h=0;h<p.itemsGrid.length;h++){var g=p.itemsGrid[h];g.campaignNo==a.campaignNo&&l.push(g),b.success(l),console.log(l),p.data=[]}p.itemsGrid=[]})}},serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:5,filterable:!0},scrollable:!1,sortable:!0,pageable:!0,columns:[{field:"name",title:"Name",width:"70px"},{field:"price",title:"Price",width:"50px",template:function(a){return"<div></span><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$"+a.price+"</span></div>"}},{field:"quantity",title:"Quantity",width:"30px"},{title:"Status",width:"40px",template:function(a){return'<div ng-show= "dataItem.status.val==\'305\'" class="alert alert-success"><small>Approved</small></div><div  ng-show = "dataItem.status.val==\'402\'" class="alert alert-danger" ><small>Pending<small></div><div  ng-show = "dataItem.status.val==\'300\'" class="alert alert-success" ><small>Ready</small> </div><div  ng-show = "dataItem.status.val==\'500\'" class="alert alert-danger" ><small>Rejected</small> </div><div  ng-show = "dataItem.status.val==\'309\'" class="alert alert-success" ><small>Completed</small> </div>'}},{field:"creative",title:"Creative",width:"50px",template:function(a){return'<div ng-hide="dataItem.creative"><button  class="btn btn-danger" ng-hide="isAdmin()" ng-click="vm.openCreative(dataItem,\'md\')" ><i class="fa fa-image"></i><span class="glyphicon glyphicon-upload"></span></button></div></div><div ng-show="dataItem.creative"><button  class="btn btn-success" ng-hide="isAdmin()" ng-click="vm.openCreative(dataItem,\'md\')" ><i class="fa fa-image"></i><span class="glyphicon glyphicon-upload"></span></button></div></div>'}},{title:"Action",width:"50px",template:function(a){return'<div  ng-show= "dataItem.status.val==\'305\'" ><button class="btn-success btn-sm btn-success" ng-click="cart.addItem({sku:dataItem.sku, name:dataItem.name,slug:adspace.formart,mrp:dataItem.mrp, weight:dataItem.maxSize,size:dataItem.size,price:dataItem.price , publisher:dataItem.publisher,uid:dataItem.uid,category:dataItem.category,image:dataItem.image,quantity:1} ,true);" ng-show="checkCart(dataItem.name)"><i class="fa fa-shopping-cart" ></i></button></div><div   ><button class=" btn-sm " ng-click="vm.openToggle(cart.items,item,item.creative,\'md\')"><i class="fa fa-chat" ></i></button></div>'}}]}},p.action=function(a){j["delete"]({id:a._id},function(){j.save(a).$promise.then(function(){k.success("Campaign info saved successfully","Success")})})},p.changeStatus=function(a){j.update({id:a._id},a).$promise.then(function(a){},function(a){if(a.data.errors){var b=a.data.errors;k.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;k.error(c)}})}}]).controller("ModalInstanceCtrl",["$scope","$rootScope","Campaign","$modalInstance","toastr","items",function(a,b,c,d,e,f){b.toMergeCreative;a.items=f,a.ok=function(b){d.close(a.selected.item)},a.cancel=function(){d.dismiss("cancel")}}]).controller("ChatInstanceCtrl",["$scope","$rootScope","Auth","User","$cookieStore","Campaign","$modalInstance","toastr","items",function(a,b,c,d,e,f,g,h,i){var j=(b.toMerge,b.toDelete);console.log(j),e.get("token")&&(a.currentUser=d.get()),console.log(a.currentUser),a.items=i,a.items.creative={},a.selected={item:a.items[0]},a.you={userId:"4562KDJYE72930DST283DFY202Dd",avatar:"http://www.orangecountyjailministryorlando.com/wp-content/uploads/2015/01/Woman_Avatar.gif",userName:"Anna"},a.messages=i.messages,a.sendMessage=function(a){console.log("sendMessage"),i.messages.push(a),console.log();var c=_.merge(b.toMerge,i);console.log(c),f.update({id:b.toDelete},c).$promise.then(function(a){console.log(a)},function(a){if(console.log(a),a.data.errors){var b=a.data.errors;h.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;h.error(c)}}),console.log(b.toDelete)},a.$on("simple-chat-message-posted",function(){console.log("onMessagePosted")}),a.ok=function(b){g.close(a.selected.item)},a.cancel=function(){g.dismiss("cancel")}}]).controller("RequestInstanceCtrl",["$scope","$rootScope","Auth","User","$cookieStore","MockMessagesService","Campaign","$modalInstance","toastr","items",function(a,b,c,d,e,f,g,h,i,j){var k=(b.toMerge,b.toDelete);console.log(k),e.get("token")&&(a.currentUser=d.get()),console.log(a.currentUser),a.items=j,a.items.creative={},a.selected={item:a.items[0]},a.you={userId:"4562KDJYE72930DST283DFY202Dd",avatar:"http://www.orangecountyjailministryorlando.com/wp-content/uploads/2015/01/Woman_Avatar.gif",userName:"Anna"},a.messages=j.messages,a.sendMessage=function(a){console.log("sendMessage"),j.messages.push(a),console.log();var c=_.merge(b.toMerge,j);console.log(c),g.update({id:b.toDelete},c).$promise.then(function(a){console.log(a)},function(a){if(console.log(a),a.data.errors){var b=a.data.errors;i.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;i.error(c)}}),console.log(b.toDelete)},a.$on("simple-chat-message-posted",function(){console.log("onMessagePosted")}),a.ok=function(b){h.close(a.selected.item)},a.cancel=function(){h.dismiss("cancel")}}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("campaign",{title:"Campaigns created  in recent past",url:"/campaign",templateUrl:"app/campaign/campaign.html",authenticate:!0})}]),angular.module("shopnxApp").controller("CartCtrl",function(){}),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("cart",{title:"Details of items in your shopping cart",url:"/cart",templateUrl:"app/cart/cart.html"})}]),angular.module("shopnxApp").controller("CategoryCtrl",function(){}),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("category",{title:"Add, Remove, Edit categories",url:"/category",templateUrl:"app/category/category.html",controller:"CategoryCtrl",authenticate:!0})}]),angular.module("shopnxApp").controller("CheckoutCtrl",["$scope","$rootScope","Order","PaymentMethod","Shipping","Coupon","Country",function(a,b,c,d,e,f,g){a.msg="No items in cart.",a.customer={},a.coupon={},g.query().$promise.then(function(b){a.countries=b,a.customer.country={name:"Zimbabwe",dial_code:"+263",code:"ZW"}}),d.active.query().$promise.then(function(b){a.paymentMethods=b,a.customer.paymentMethod=b[0]}),e.best.query({country:"India",active:!0},function(b){a.shipping=b,a.cart.getTotalPriceAfterShipping(b,a.couponAmount)}),a.calculateShipping=function(b){e.best.query({country:b.name,active:!0},function(b){a.shipping=b,a.cart.getTotalPriceAfterShipping(b,a.couponAmount)})},a.placeOrder=function(d,e){console.log(d);var f={phone:a.customer.phone,name:a.customer.name,address:a.customer.address,city:a.customer.city,payment:"Pending",items:d,shipping:e,advertiser:b.user};c.save(f),a.msg="Processing Payment ..."},a.checkCoupon=function(b,c){var d={};d.where={code:b,active:!0,minimumCartValue:{$lte:c}},f.query(d,function(b){a.coupon=b[0]})}}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("checkout",{title:"Checkout with the items you selected",url:"/checkout",templateUrl:"app/checkout/checkout.html",controller:"CheckoutCtrl",authenticate:!0})}]),angular.module("shopnxApp").controller("ContactCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("contact",{title:"Contact Information",url:"/contact",templateUrl:"app/contact/contact.html",controller:"ContactCtrl"})}]),angular.module("shopnxApp").controller("CountryCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("country",{title:"All Shipping Countries ",url:"/country",templateUrl:"app/country/country.html",controller:"CountryCtrl"})}]),angular.module("shopnxApp").controller("CouponCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("coupon",{title:"Manage your shop coupons",url:"/coupon",templateUrl:"app/coupon/coupon.html",controller:"CouponCtrl"})}]),angular.module("shopnxApp").controller("CustomerCtrl",function(){}),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("customer",{title:"Customers Details",url:"/customer",templateUrl:"app/customer/customer.html",controller:"CustomerCtrl",authenticate:!0})}]),angular.module("shopnxApp").controller("DashboardCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("dashboard",{url:"/dashboard",templateUrl:"app/dashboard/dashboard.html",controller:"DashboardCtrl"})}]),angular.module("shopnxApp").filter("customFilter",["$filter",function(a){var b=a("filter"),c=function(a,b){return b=(""+b).toLowerCase(),(""+a).toLowerCase().indexOf(b)>-1};return function(a,d){function e(a,b){var d,e,f,g,h=b.before,i=b.after,j=b.lower,k=b.higher;if(ng.isObject(b)){if(b.before||b.after)try{return h&&(d=b.before,f=new Date(a),g=new Date(d),f>g)?!1:i&&(e=b.after,f=new Date(a),g=new Date(e),g>f)?!1:!0}catch(l){return!1}else if(j||k)return j&&(d=b.lower,a>d)?!1:k&&(e=b.higher,e>a)?!1:!0;return!0}return c(a,b)}var f=b(a,d,e);return f}}]).directive("exportTable",["$filter",function(a){return{scope:{exportTable:"="},templateUrl:"exportTable.html",link:function(b,c,d,e){var f=function(a){var b={};for(var c in a)if(a.hasOwnProperty(c))if("object"==typeof a[c]){var d=f(a[c]);for(var e in d)d.hasOwnProperty(e)&&(b[c+"_"+e]=d[e])}else-1==c.indexOf("_type")&&(b[c]=a[c]);return b};b.sync=function(){b.prettified=[];var c={};angular.forEach(b.exportTable,function(a){var b=f(a);angular.forEach(b,function(a,b){c[b]||(c[b]=b)})});var d=[];return angular.forEach(c,function(a,b){-1==b.indexOf(".")&&-1==b.indexOf("$")&&d.push(b)}),d=a("orderBy")(d,"toString()"),b.prettified.push(d),angular.forEach(b.exportTable,function(a){var c=[],e=f(a);angular.forEach(d,function(a){e[a]?c.push(e[a]):c.push("N/A")}),b.prettified.push(c)}),b.prettified}}}}]).directive("stDateRange",["$timeout",function(a){return{restrict:"E",require:"^stTable",scope:{before:"=",after:"="},templateUrl:"stDateRange.html",link:function(a,b,c,d){function e(b){return function(c){c.preventDefault(),c.stopPropagation(),b?a.isBeforeOpen=!0:a.isAfterOpen=!0}}var f=b.find("input"),g=angular.element(f[0]),h=angular.element(f[1]),i=c.predicate;[g,h].forEach(function(b){b.bind("blur",function(){var b={};a.isBeforeOpen||a.isAfterOpen||(a.before&&(b.before=a.before),a.after&&(b.after=a.after),a.$apply(function(){d.search(b,i)}))})}),a.openBefore=e(!0),a.openAfter=e()}}}]).directive("stNumberRange",["$timeout",function(a){return{restrict:"E",require:"^stTable",scope:{lower:"=",higher:"="},templateUrl:"stNumberRange.html",link:function(a,b,c,d){var e=b.find("input"),f=angular.element(e[0]),g=angular.element(e[1]),h=c.predicate;[f,g].forEach(function(b,c){b.bind("blur",function(){var b={};a.lower&&(b.lower=a.lower),a.higher&&(b.higher=a.higher),a.$apply(function(){d.search(b,h)})})})}}}]).directive("modal",function(){return{template:'<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"><div class="modal-dialog modal-sm"><div class="modal-content" ng-transclude><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="myModalLabel">Modal title</h4></div></div></div></div>',restrict:"E",transclude:!0,replace:!0,scope:{visible:"=",onSown:"&",onHide:"&"},link:function(a,b,c){$(b).modal({show:!1,keyboard:c.keyboard,backdrop:c.backdrop}),a.$watch(function(){return a.visible},function(a){1==a?$(b).modal("show"):$(b).modal("hide")}),$(b).on("shown.bs.modal",function(){a.$apply(function(){a.$parent[c.visible]=!0})}),$(b).on("shown.bs.modal",function(){a.$apply(function(){a.onSown({})})}),$(b).on("hidden.bs.modal",function(){a.$apply(function(){a.$parent[c.visible]=!1})}),$(b).on("hidden.bs.modal",function(){a.$apply(function(){a.onHide({})})})}}}).directive("modalHeader",function(){return{template:'<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">{{title}}</h4></div>',replace:!0,restrict:"E",scope:{title:"@"}}}).directive("modalBody",function(){return{template:'<div class="modal-body" ng-transclude></div>',replace:!0,restrict:"E",transclude:!0}}).directive("modalFooter",function(){return{template:'<div class="modal-footer" ng-transclude></div>',replace:!0,restrict:"E",transclude:!0}}).directive("crudTable",["Modal","$injector","$loading","socket","toastr","Settings",function(a,b,c,d,e,f){return{templateUrl:"app/directive/table.html",restrict:"EA",scope:{obj:"="},link:function(f,g,h){f.title=h.api+"s";var i=JSON.parse(h.cols),j=[];f.noedit=h.noedit,f.nodelete=h.nodelete,f.noadd=h.noadd,angular.forEach(i,function(a){angular.forEach(a,function(a,b){var c;c="number"===a||"float"===a||"integer"===a||"currency"===a?"parseFloat":"lowercase",j.push({heading:b,dataType:a,sortType:c})})}),f.cols=j;var k=b.get(h.api);f.data=[],c.start("crudTable"),f.data=k.query(function(){c.finish("crudTable"),d.syncUpdates(h.api.toLowerCase(),f.data)}),f.edit=function(b){var c;c=b._id?"Editing "+b._id:"Add New",a.show(b,{title:c,api:h.api,columns:j,disabledColumn:h.disabledcolumn})},f.changeActive=function(a){a.active=!a.active,k.update({id:a._id},a).$promise.then(function(){},function(b){console.log(b),e.error(b.statusText+" ("+b.status+")"),a.active=!a.active})},f["delete"]=function(a){k["delete"]({id:a._id})},f.$on("$destroy",function(){d.unsyncUpdates(h.api.toLowerCase())})}}}]).directive("modalWindow",["$timeout",function(a){return{priority:1,link:function(b,c){a(function(){var a=c[0].querySelector("input");a&&a.focus()})}}}]).directive("sortableColumns",[function(){return{restrict:"A",replace:!0,templateUrl:"views/sortable-columns.tpl.html",scope:{columns:"=",itemsToSort:"="},link:function(a){a.columnClicked=function(b){a.columns.columnToSort.predicate===b.predicate?a.columns.columnToSort.reverse=!a.columns.columnToSort.reverse:a.columns.columnToSort=b,a.sortBy(a.columns.columnToSort)},a.sortBy=function(b){console.log(b),a.itemsToSort=_.sortBy(a.itemsToSort,function(a){switch(b.dataType){case"number":return Number(a[b.predicate]);case"date":return new Date(a[b.predicate]);default:return a[b.predicate].toString()}}),b.reverse&&(a.itemsToSort=a.itemsToSort.reverse())},a.columns.columnToSort=a.columns[1],a.sortBy(a.columns.columnToSort)}}}]).directive("onlyNumbers",function(){return function(a,b,c){var d=[8,9,13,37,39,46,48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105,110,190];b.bind("keydown",function(b){-1===$.inArray(b.which,d)&&(a.$apply(function(){a.$eval(c.onlyNum),b.preventDefault()}),b.preventDefault())})}}).directive("passwordMatch",[function(){return{restrict:"A",scope:!0,require:"ngModel",link:function(a,b,c,d){var e=function(){var b=a.$eval(c.ngModel),d=a.$eval(c.passwordMatch);return null!==d?b===d:void 0};a.$watch(e,function(a){d.$setValidity("passwordNoMatch",a)})}}}]).directive("ngConfirmClick",["$modal",function(a){var b=function(a,b){a.ok=function(){b.close()},a.cancel=function(){b.dismiss("cancel")}};return b.$inject=["$scope","$modalInstance"],{restrict:"A",scope:{ngConfirmClick:"&",item:"="},link:function(c,d,e){d.bind("click",function(){var d=e.ngConfirmMessage||"Are you sure to delete? ",f='<div class="modal-header">Confirm Delete</div>';f+='<div class="modal-body">'+d+"</div>",f+='<div class="modal-footer"><button class="btn btn-danger" ng-click="ok()">Delete</button><button class="btn" ng-click="cancel()">Cancel</button></div>';var g=a.open({template:f,controller:b,windowClass:"modal-danger"});g.result.then(function(){c.ngConfirmClick({item:c.item})},function(){})})}}}]).directive("errSrc",[function(){return{link:function(a,b,c){b.bind("error",function(){c.src!==c.errSrc&&c.$set("src",c.errSrc)})}}}]),angular.module("irontec.simpleChat").run(["$templateCache",function(a){a.put("chatTemplate.html",'<div ng-show="visible" class="row chat-window col-xs-5 col-md-3 {{vm.theme}}" ng-class="{minimized: vm.isHidden}">\r\n    <div class="col-xs-12 col-md-12">\r\n        <div class="panel">\r\n            <div class="panel-heading chat-top-bar">\r\n                <div class="col-md-8 col-xs-8">\r\n                    <h3 class="panel-title"><span class="fa fa-comment-o"></span> {{vm.title}}</h3>\r\n                </div>\r\n                <div class="col-md-4 col-xs-4 window-actions" style="text-align: right;">\r\n                    <span class="fa" ng-class="vm.chatButtonClass" ng-click="vm.toggle()"></span>\r\n                    <span class="fa fa-close" ng-click="vm.close()"></span>\r\n                </div>\r\n            </div>\r\n            <div class="panel-body msg-container-base" ng-style="vm.panelStyle">\r\n                <div class="row msg-container" ng-repeat="message in vm.messages" ng-init="selfAuthored = vm.myUserId == message.fromUserId">\r\n                    <div class="col-md-12 col-xs-12">\r\n                        <div class="chat-msg" ng-class="{\'chat-msg-sent\': selfAuthored, \'chat-msg-recieved\': !selfAuthored}">\r\n                            <span class="hide">myUserId:{{vm.myUserId}}</span>\r\n                            <img ng-if="message.imageUrl" class="profile" ng-class="{\'pull-right\': selfAuthored, \'pull-left\': !selfAuthored}" ng-src="{{message.imageUrl}}" />\r\n                            <p>{{message.content}}</p>\r\n                            <div class="chat-msg-author">\r\n                                <strong>{{message.username}}</strong>&nbsp;\r\n                                <span class="date">{{message.date|date:hh:mm:a}}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="panel-footer chat-bottom-bar">\r\n                <form style="display:inherit" ng-submit="vm.submitFunction()">\r\n                    <div class="input-group" >\r\n                        <input type="text" class="form-control input-sm chat-input" placeholder="{{vm.inputPlaceholderText}}" ng-model="vm.writingMessage" />\r\n                        <span class="input-group-btn">\r\n                            <input type="submit" class="btn btn-sm chat-submit-button" value="{{vm.submitButtonText}}" />\r\n                        </span>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>')}]),angular.module("shopnxApp").controller("DocumentationCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("documentation",{title:"Documentation",url:"/documentation",templateUrl:"app/documentation/documentation.html",controller:"DocumentationCtrl"})}]),ShoppingCart.prototype.loadItems=function(){var a=null!==localStorage?localStorage[this.cartName+"_items"]:null;if(null!==a&&null!==JSON)try{a=JSON.parse(a);for(var b=0;b<a.length;b++){var c=a[b];null!==c.sku&&null!==c.name&&null!==c.price&&(c=new CartItem(c.sku,c.name,c.slug,c.mrp,c.price,c.quantity,c.image,c.category,c.size,c.weight,c.status,c.publisher,c.advertiser,c.uid,c.status),this.items.push(c),this.skuArray.push(c.sku),this.totalWeight=c.weight)}}catch(d){}},ShoppingCart.prototype.saveItems=function(){null!==localStorage&&null!==JSON&&(localStorage[this.cartName+"_items"]=JSON.stringify(this.items))},ShoppingCart.prototype.addItem=function(a,b){console.log(a);a.publisher;if(b=this.toNumber(b),0!==b){for(var c=!1,d=0;d<this.items.length&&!c;d++){var e=this.items[d];e.sku===a.sku&&(c=!0,e.quantity=this.toNumber(this.toNumber(e.quantity)+b),e.quantity<=0&&(this.items.splice(d,1),this.skuArray.splice(d,1)))}if(!c){console.log("new item");var f=new CartItem(a.sku,a.name,a.slug,a.mrp,a.price,a.quantity,a.image,a.category,a.size,a.weight,a.status,a.publisher,a.advertiser,a.uid);this.items.push(f),console.log(f),this.skuArray.push(f.sku)}this.saveItems()}},ShoppingCart.prototype.getTotalWeight=function(a){for(var b=0,c=0;c<this.items.length;c++){var d=this.items[c];(void 0===a||d.sku===a)&&(b+=this.toNumber(d.quantity*d.weight))}return b},ShoppingCart.prototype.getTotalPrice=function(a){for(var b=0,c=0;c<this.items.length;c++){var d=this.items[c];(void 0===a||d.sku===a)&&(b+=this.toNumber(d.quantity*d.price))}return b},ShoppingCart.prototype.getShippingCharge=function(a){var b,c=0,d=0,e=0,f={};c=this.getTotalWeight();for(var g=0;g<a.length;g++)e=a[g].freeShipping<e&&a[g].minWeight<c&&a[g].maxWeight>c?a[g].freeShipping:0,this.getTotalPrice()>=e?d=0:a[g].charge<d&&(d=a[g].charge,b="("+a[g].carrier+")");return f={charge:d,carrier:b,weight:c,minFreeShipping:e}},ShoppingCart.prototype.getTotalPriceAfterShipping=function(a,b){var c={};"undefined"==typeof a&&(a={});var d=0,e=0;d=this.getTotalPrice(),"undefined"==typeof b&&(b=0);var f=this.getShippingCharge(a);return e=d+f.charge-b,c={total:e,charge:f.charge,carrier:f.carrier,more:f.minFreeShipping-d,couponAmount:b}},ShoppingCart.prototype.getTotalCount=function(a){for(var b=0,c=0;c<this.items.length;c++){var d=this.items[c];(void 0===a||d.sku===a)&&(b+=this.toNumber(d.quantity))}return b},ShoppingCart.prototype.clearItems=function(){this.items=[],this.skuArray=[],this.saveItems()},ShoppingCart.prototype.toNumber=function(a){return a=1*a,isNaN(a)?0:a},ShoppingCart.prototype.addCheckoutParameters=function(a,b,c){if("VPayments"!=a&&"PayPal"!=a&&"PayNow"!=a&&"Google"!=a&&"Stripe"!=a&&"COD"!=a)throw"serviceName must be 'VPayments' PayPal' or 'Paynow' or 'Google' or 'Stripe' or 'Cash On Delivery'.";if(null==b)throw"A merchantID is required in order to checkout.";this.checkoutParameters[a]=new checkoutParameters(a,b,c)},ShoppingCart.prototype.checkout=function(a,b){if(a={name:a.paymentMethod.name,email:a.paymentMethod.email,options:a.options},this.addCheckoutParameters(a.name,a.email,a.options),this.addCheckoutParameters("COD","2lessons@gmail.com"),this.addCheckoutParameters("PayPal","smkorera@gmail.com"),this.addCheckoutParameters("PayNow","2230"),this.addCheckoutParameters("Google","2lessons@gmail.com",{ship_method_name_1:"UPS Next Day Air",ship_method_price_1:"20.00",ship_method_currency_1:"USD",ship_method_name_2:"UPS Ground",ship_method_price_2:"15.00",ship_method_currency_2:"USD"}),this.addCheckoutParameters("Stripe","pk_test_srKHaSHynBIVLX03r33xLszb",{chargeurl:"http://biri.in/order"}),null==a.name){var c=this.checkoutParameters[Object.keys(this.checkoutParameters)[0]];a=c.serviceName}if(null==a.name)throw"Use the 'addCheckoutParameters' method to define at least one checkout service.";var d=this.checkoutParameters[a.name];if(null==d)throw"Cannot get checkout parameters for '"+a.name+"'.";switch(d.serviceName){case"PayPal":this.checkoutPayPal(d,b);break;case"PayNow":this.checkoutPayNow(d,b);break;case"Google":this.checkoutGoogle(d,b);break;case"Stripe":this.checkoutStripe(d,b);break;case"COD":this.checkoutCOD(d,b);break;default:throw"Unknown checkout service: "+d.serviceName}},ShoppingCart.prototype.checkoutPayPal=function(a,b){var c={cmd:"_cart",business:a.merchantID,upload:"1",rm:"2",charset:"utf-8",cancel_return:"http://mediaboxzw.herokuapp.com/cart","return":"http://mediaboxzw.herokuapp.com/order"};console.log(a.options);for(var d=0;d<this.items.length;d++){var e=this.items[d],f=d+1;c["item_number_"+f]=e.sku,c["item_name_"+f]=e.name,c["quantity_"+f]=e.quantity,c["amount_"+f]=e.price.toFixed(2),c["currency_code_"+f]="USD"}var g=$("<form/></form>");g.attr("action","https://www.sandbox.paypal.com/cgi-bin/webscr"),g.attr("method","POST"),g.attr("style","display:none;"),this.addFormFields(g,c),a.options||(a.options={}),this.addFormFields(g,a.options),$("body").append(g),this.clearCart=null==b||b,g.submit(),g.remove()},ShoppingCart.prototype.checkoutPayNow=function(a,b){console.log(a.options);for(var c=0,d={},e=0;e<this.items.length;e++){var f=this.items[e],c=+(f.price*f.quantity),g=e+1;d["item_number_"+g]=f.sku,d["item_name_"+g]=f.name,d["quantity_"+g]=f.quantity,d["amount_"+g]=f.price.toFixed(2)}var h=jQuery.param({reference:"_cart",id:a.merchantID,additionalinfo:"",status:"message",ammount:c,authemail:"",resulturl:"http://mediaBox.co.zw/cart",returnurl:"http://mediaBox.co.zw/order"});encodeURI(h),this.createHash(h,"14d97a24-4ec8-4a81-ae7b-d28a18a07b3a")},ShoppingCart.prototype.checkoutGoogle=function(a,b){for(var c={},d=0;d<this.items.length;d++){var e=this.items[d],f=d+1;c["item_name_"+f]=e.sku,c["item_description_"+f]=e.name,c["item_price_"+f]=e.price.toFixed(2),c["item_quantity_"+f]=e.quantity,c["item_merchant_id_"+f]=a.merchantID}var g=$("<form/></form>");g.attr("action","https://sandbox.google.com/checkout/api/checkout/v2/checkoutForm/Merchant/"+a.merchantID),g.attr("method","POST"),g.attr("style","display:none;"),this.addFormFields(g,c),a.options||(a.options={}),this.addFormFields(g,a.options),$("body").append(g),this.clearCart=null==b||b,g.submit(),g.remove()},ShoppingCart.prototype.checkoutCOD=function(a,b){for(var c={},d=0;d<this.items.length;d++){var e=this.items[d],f=d+1;c["item_description  _"+f]=e.name}var g=$("<form/></form>");g.attr("action","/order"),g.attr("method","GET"),g.attr("style","display:none;"),this.addFormFields(g,c),a.options||(a.options={}),this.addFormFields(g,a.options),$("body").append(g),this.clearCart=null==b||b,g.submit(),g.remove()},ShoppingCart.prototype.checkoutStripe=function(a,b){for(var c={},d=0;d<this.items.length;d++){var e=this.items[d],f=d+1;c["item_name_"+f]=e.sku,c["item_description_"+f]=e.name,c["item_price_"+f]=e.price.toFixed(2),c["item_quantity_"+f]=e.quantity}var g=$(".form-stripe");g.empty(),g.attr("action",a.options.chargeurl),g.attr("method","POST"),g.attr("style","display:none;"),this.addFormFields(g,c),a.options||(a.options={}),this.addFormFields(g,a.options),$("body").append(g);var h=function(a){var c=$("<input type=hidden name=stripeToken />").val(a.id);$.blockUI({message:"Processing order..."}),g.append(c).submit(),this.clearCart=null==b||b,g.submit()},i=this.getTotalPriceAfterShipping();StripeCheckout.open({key:a.merchantID,address:!1,amount:100*i.grandTotal,currency:"usd",name:"Purchase",description:"Description",panelLabel:"Checkout",token:h})},ShoppingCart.prototype.addFormFields=function(a,b){null!==b&&$.each(b,function(b,c){if(null!==c){var d=$("<input></input>").attr("type","hidden").attr("name",b).val(c);a.append(d)}}),console.log(a)},ShoppingCart.prototype.createHash=function(a,b){var c="";angular.forEach(a,function(a,b){c.concat(a)}),c.concat(b);var d=this.sha512(c);return d.toUpperCase()},ShoppingCart.prototype.sha512=function(a){function b(a,b){this.highOrder=a,this.lowOrder=b}function c(a){return unescape(encodeURIComponent(a))}function d(a){for(var b=[],c=(1<<F)-1,d=a.length*F,e=0;d>e;e+=F)b[e>>5]|=(a.charCodeAt(e/F)&c)<<32-F-e%32;return b}function e(a){for(var b,c="0123456789abcdef",d="",e=4*a.length,f=0;e>f;f+=1)b=a[f>>2]>>8*(3-f%4),d+=c.charAt(b>>4&15)+c.charAt(15&b);return d}function f(a,c){var d,e,f,g;return d=(65535&a.lowOrder)+(65535&c.lowOrder),e=(a.lowOrder>>>16)+(c.lowOrder>>>16)+(d>>>16),f=(65535&e)<<16|65535&d,d=(65535&a.highOrder)+(65535&c.highOrder)+(e>>>16),e=(a.highOrder>>>16)+(c.highOrder>>>16)+(d>>>16),g=(65535&e)<<16|65535&d,new b(g,f)}function g(a,c,d,e){var f,g,h,i;return f=(65535&a.lowOrder)+(65535&c.lowOrder)+(65535&d.lowOrder)+(65535&e.lowOrder),g=(a.lowOrder>>>16)+(c.lowOrder>>>16)+(d.lowOrder>>>16)+(e.lowOrder>>>16)+(f>>>16),h=(65535&g)<<16|65535&f,f=(65535&a.highOrder)+(65535&c.highOrder)+(65535&d.highOrder)+(65535&e.highOrder)+(g>>>16),g=(a.highOrder>>>16)+(c.highOrder>>>16)+(d.highOrder>>>16)+(e.highOrder>>>16)+(f>>>16),i=(65535&g)<<16|65535&f,new b(i,h)}function h(a,c,d,e,f){var g,h,i,j;return g=(65535&a.lowOrder)+(65535&c.lowOrder)+(65535&d.lowOrder)+(65535&e.lowOrder)+(65535&f.lowOrder),h=(a.lowOrder>>>16)+(c.lowOrder>>>16)+(d.lowOrder>>>16)+(e.lowOrder>>>16)+(f.lowOrder>>>16)+(g>>>16),
i=(65535&h)<<16|65535&g,g=(65535&a.highOrder)+(65535&c.highOrder)+(65535&d.highOrder)+(65535&e.highOrder)+(65535&f.highOrder)+(h>>>16),h=(a.highOrder>>>16)+(c.highOrder>>>16)+(d.highOrder>>>16)+(e.highOrder>>>16)+(f.highOrder>>>16)+(g>>>16),j=(65535&h)<<16|65535&g,new b(j,i)}function i(a,c,d){return new b(a.highOrder&c.highOrder^a.highOrder&d.highOrder^c.highOrder&d.highOrder,a.lowOrder&c.lowOrder^a.lowOrder&d.lowOrder^c.lowOrder&d.lowOrder)}function j(a,c,d){return new b(a.highOrder&c.highOrder^~a.highOrder&d.highOrder,a.lowOrder&c.lowOrder^~a.lowOrder&d.lowOrder)}function k(a,c){return 32>=c?new b(a.highOrder>>>c|a.lowOrder<<32-c,a.lowOrder>>>c|a.highOrder<<32-c):new b(a.lowOrder>>>c|a.highOrder<<32-c,a.highOrder>>>c|a.lowOrder<<32-c)}function l(a){var c=k(a,28),d=k(a,34),e=k(a,39);return new b(c.highOrder^d.highOrder^e.highOrder,c.lowOrder^d.lowOrder^e.lowOrder)}function m(a){var c=k(a,14),d=k(a,18),e=k(a,41);return new b(c.highOrder^d.highOrder^e.highOrder,c.lowOrder^d.lowOrder^e.lowOrder)}function n(a){var c=k(a,1),d=k(a,8),e=p(a,7);return new b(c.highOrder^d.highOrder^e.highOrder,c.lowOrder^d.lowOrder^e.lowOrder)}function o(a){var c=k(a,19),d=k(a,61),e=p(a,6);return new b(c.highOrder^d.highOrder^e.highOrder,c.lowOrder^d.lowOrder^e.lowOrder)}function p(a,c){return 32>=c?new b(a.highOrder>>>c,a.lowOrder>>>c|a.highOrder<<32-c):new b(0,a.highOrder<<32-c)}var q,r,s,t,u,v,w,x,y,z,A,B,C=[new b(1779033703,4089235720),new b(3144134277,2227873595),new b(1013904242,4271175723),new b(2773480762,1595750129),new b(1359893119,2917565137),new b(2600822924,725511199),new b(528734635,4215389547),new b(1541459225,327033209)],D=[new b(1116352408,3609767458),new b(1899447441,602891725),new b(3049323471,3964484399),new b(3921009573,2173295548),new b(961987163,4081628472),new b(1508970993,3053834265),new b(2453635748,2937671579),new b(2870763221,3664609560),new b(3624381080,2734883394),new b(310598401,1164996542),new b(607225278,1323610764),new b(1426881987,3590304994),new b(1925078388,4068182383),new b(2162078206,991336113),new b(2614888103,633803317),new b(3248222580,3479774868),new b(3835390401,2666613458),new b(4022224774,944711139),new b(264347078,2341262773),new b(604807628,2007800933),new b(770255983,1495990901),new b(1249150122,1856431235),new b(1555081692,3175218132),new b(1996064986,2198950837),new b(2554220882,3999719339),new b(2821834349,766784016),new b(2952996808,2566594879),new b(3210313671,3203337956),new b(3336571891,1034457026),new b(3584528711,2466948901),new b(113926993,3758326383),new b(338241895,168717936),new b(666307205,1188179964),new b(773529912,1546045734),new b(1294757372,1522805485),new b(1396182291,2643833823),new b(1695183700,2343527390),new b(1986661051,1014477480),new b(2177026350,1206759142),new b(2456956037,344077627),new b(2730485921,1290863460),new b(2820302411,3158454273),new b(3259730800,3505952657),new b(3345764771,106217008),new b(3516065817,3606008344),new b(3600352804,1432725776),new b(4094571909,1467031594),new b(275423344,851169720),new b(430227734,3100823752),new b(506948616,1363258195),new b(659060556,3750685593),new b(883997877,3785050280),new b(958139571,3318307427),new b(1322822218,3812723403),new b(1537002063,2003034995),new b(1747873779,3602036899),new b(1955562222,1575990012),new b(2024104815,1125592928),new b(2227730452,2716904306),new b(2361852424,442776044),new b(2428436474,593698344),new b(2756734187,3733110249),new b(3204031479,2999351573),new b(3329325298,3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,1246189591)],E=new Array(64),F=8,a=c(a),G=a.length*F;a=d(a),a[G>>5]|=128<<24-G%32,a[(G+128>>10<<5)+31]=G;for(var y=0;y<a.length;y+=32){q=C[0],r=C[1],s=C[2],t=C[3],u=C[4],v=C[5],w=C[6],x=C[7];for(var z=0;80>z;z++)16>z?E[z]=new b(a[2*z+y],a[2*z+y+1]):E[z]=g(o(E[z-2]),E[z-7],n(E[z-15]),E[z-16]),A=h(x,m(u),j(u,v,w),D[z],E[z]),B=f(l(q),i(q,r,s)),x=w,w=v,v=u,u=f(t,A),t=s,s=r,r=q,q=f(A,B);C[0]=f(q,C[0]),C[1]=f(r,C[1]),C[2]=f(s,C[2]),C[3]=f(t,C[3]),C[4]=f(u,C[4]),C[5]=f(v,C[5]),C[6]=f(w,C[6]),C[7]=f(x,C[7])}for(var H=[],y=0;y<C.length;y++)H.push(C[y].highOrder),H.push(C[y].lowOrder);return e(H)},angular.module("shopnxApp").factory("Cart",["Setting","$location",function(a,b){var c=new ShoppingCart("MediaBox");a.query().$promise.then(function(a){c.addCheckoutParameters("PayPal",a[0].paypal)},function(a){console.log("fail",a)});return console.log(c),{cart:c}}]),angular.module("shopnxApp").factory("factory",[function(){var a=42;return{someMethod:function(){return a}}}]).factory("Product",["$resource",function(a){var b={};return b=a("/api/products/:id",null,{update:{method:"PUT"}}),b.my=a("/api/products/my",null,{update:{method:"PUT"}}),b.pub=a("/api/products/pub",null,{update:{method:"PUT"}}),b.count=a("/api/products/count",null,{update:{method:"PUT"}}),b}]).factory("Users",["$resource",function(a){var b={};return b=a("/api/users/:id",null,{update:{method:"PUT"}})}]).factory("Shipping",["$resource",function(a){var b={};return b=a("/api/shippings/:id",null,{update:{method:"PUT"}}),b.best=a("/api/shippings/best",null,{update:{method:"PUT"}}),b}]).factory("SortOptions",[function(){var a={};return a.server=[{name:"Low Price",val:{"variants.price":1}},{name:"Hign Price",val:{"variants.price":-1}},{name:"Name (A-Z)",val:{name:1}},{name:"Name (Z-A)",val:{name:-1}}],a.client=[{name:"Price Asc",val:"variants[0].price"},{name:"Price Desc",val:"-variants[0].price"},{name:"Name Asc",val:"name"},{name:"Name Desc",val:"-name"}],a}]).factory("Category",["$resource",function(a){var b={};return b=a("/api/category/:id",null,{update:{method:"PUT"}}),b.parent=a("/api/category/parent/:id",null,{update:{method:"PUT"}}),b.all=a("/api/category/all",null,{update:{method:"PUT"}}),b}]).factory("Country",["$resource",function(a){var b={};return b=a("/api/countries/:id",null,{update:{method:"PUT"}}),b.active=a("/api/countries/active",null,{update:{method:"PUT"}}),b}]).factory("Brand",["$resource",function(a){return a("/api/brands/:id",null,{update:{method:"PUT"}})}]).factory("Coupon",["$resource",function(a){return a("/api/coupons/:id",null,{update:{method:"PUT"}})}]).factory("Feature",["$resource",function(a){var b={};return b=a("/api/features/:id",null,{update:{method:"PUT"}}),b.group=a("/api/features/group",null,{update:{method:"PUT"}}),b}]).factory("Statistic",["$resource",function(a){var b={};return b=a("/api/statistics/:id",null,{update:{method:"PUT"}}),b.group=a("/api/statistics/group",null,{update:{method:"PUT"}}),b}]).factory("PaymentMethod",["$resource",function(a){var b={};return b=a("/api/PaymentMethods/:id",null,{update:{method:"PUT"}}),b.active=a("/api/PaymentMethods/active",null,{update:{method:"PUT"}}),b}]).factory("Customer",["$resource",function(a){return a("/api/customers/:id",null,{update:{method:"PUT"}})}]).factory("Setting",["$resource",function(a){return a("/api/settings/:id",null,{update:{method:"PUT"}})}]).factory("Order",["$resource",function(a){var b={};return b=a("/api/orders/:id",null,{update:{method:"PUT"}}),b.my=a("/api/orders/my",null,{update:{method:"PUT"}}),b.pub=a("/api/orders/pub",null,{update:{method:"PUT"}}),b.status=[{name:"Pending Payment",val:402},{name:"Order Placed",val:201},{name:"Order Accepted",val:202},{name:"Order Executed",val:302},{name:"Cancelled",val:204}],b}]).factory("Campaign",["$resource",function(a){var b={};return b=a("/api/campaigns/:id",null,{update:{method:"PUT"}}),b.my=a("/api/campaigns/my",null,{update:{method:"PUT"}}),b.pub=a("/api/campaigns/pub",null,{update:{method:"PUT"}}),b.count=a("/api/products/count",null,{update:{method:"PUT"}}),b.status=[{name:"New",val:402},{name:"Waiting Responds",val:201},{name:"Responds Recieved",val:200}],b}]),angular.module("shopnxApp").controller("FeatureCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("feature",{url:"/feature",templateUrl:"app/feature/feature.html",controller:"FeatureCtrl"})}]),angular.module("shopnxApp").filter("unique",function(){return function(a,b){for(var c={},d=[],e=0;e<a.length;e++)"undefined"==typeof c[a[e][b]]&&(c[a[e][b]]="",d.push(a[e]));return d}}).filter("labelCase",[function(){return function(a){return a?(a=a.replace(/([A-Z])/g," $1"),a[0].toUpperCase()+a.slice(1)):a}}]).filter("camelCase",[function(){return function(a){return a?a.toLowerCase().replace(/ (\w)/g,function(a,b){return b.toUpperCase()}):a}}]).filter("reverse",[function(){return function(a){return a?a.slice().reverse():a}}]).filter("active",[function(){return function(a){var b="I";return a===!0&&(b="A"),b}}]).filter("status",[function(){return function(a){console.log(a);var b="I";return"0"===a&&(b="A"),b}}]).filter("propsFilter",function(){return function(a,b){var c=[];return angular.isArray(a)?a.forEach(function(a){for(var d=!1,e=Object.keys(b),f=0;f<e.length;f++){var g=e[f];if(null==a[g])return;var h=b[g].toLowerCase();if(-1!==a[g].toString().toLowerCase().indexOf(h)){d=!0;break}}d&&c.push(a)}):c=a,c}}),angular.module("shopnxApp").controller("InventoryCtrl",["$scope","socket","Product","Modal","Settings",function(a,b,c,d,e){a.products=[],a.products=c.query(function(){b.syncUpdates("product",a.products)}),a.addProduct=function(){return e.demo?void toastr.error("Adding product won't happen in demo mode"):void(""!==a.product&&(c.save(a.product),a.product={}))},a.editProduct=function(a){d.show(a,{title:a.name})},a.deleteProduct=d["delete"](function(a){return e.demo?void toastr.error("Delete product will not work in demo mode"):void c["delete"]({id:a._id})}),a.$on("$destroy",function(){b.unsyncUpdates("product")})}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("inventory",{url:"/inventory",templateUrl:"app/inventory/inventory.html",controller:"InventoryCtrl"})}]),angular.module("shopnxApp").controller("InvoiceCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("invoice",{url:"/invoice",templateUrl:"app/invoice/invoice.html",controller:"InvoiceCtrl",authenticate:!0})}]),angular.module("shopnxApp").factory("formDataObject",function(){return function(a){var b=new FormData;return angular.forEach(a,function(a,c){b.append(c,a)}),b}}).controller("NewCampaignCtrl",["$scope","$rootScope","$http","$timeout","$compile","Upload","$modal","$log","toastr","Campaign","SweetAlert","Product","Category","socket","$stateParams","$location","$state","$injector",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=o.id;null!==localStorage&&null!==JSON&&null!==s&&(localStorage.productId=s);var t=null!==localStorage?localStorage.productId:null;a.product=l.get({id:t},function(b){n.syncUpdates("product",a.data),u("Category",b.category._id)}),a.categories=m.all.query(),a.i=0,a.changeIndex=function(b){a.i=b},a.open=function(a,c,d,e){console.log(d),b.toMerge=a,b.toMergeCreative=d;var f=g.open({templateUrl:"creative.html",controller:"CreativeModalInstanceCtrl",size:"lg",resolve:{items:function(){return c}}});f.result.then(function(a){},function(){h.info("Modal dismissed at: "+new Date)})},a.openCreative=function(a,c,d,e){console.log(d),b.toMerge=a,b.toMergeCreative=d;var f=g.open({templateUrl:"preview.html",controller:"CreativeModalInstanceCtrl",size:e,resolve:{items:function(){return c}}});f.result.then(function(a){},function(){h.info("Modal dismissed at: "+new Date)})},a.createCampaign=function(a){if((""==a.startDate||""==a.endDate||""==a.campaignName)&&i.error("Please fill all the required fields","error"),a.items[0].creative){console.log(a.startDate);var b=("End Date &nbsp;&nbsp;&nbsp;&nbsp;"+a.endDate+"<br>Start Date"+a.startDate+"<br/>Campaign Name"+a.campaignName+"<br>Budget"+a.getTotalPrice(),'<table class="table table-striped table-responsive"><tbody><tr><td class="col-md-4" style="text-align:left">Start Date</td><td class="col-md-8" style="text-align:left">'+new Date(a.startDate)+'</td></tr><tr><td class="col-md-4" style="text-align:left">End Date</td><td class="col-md-8" style="text-align:left">'+new Date(a.endDate)+'</td></tr><tr><td class="col-md-4" style="text-align:left">Campaign Name</td><td class="col-md-8" style="text-align:left">'+a.campaignName+'</td></tr><tr><td  class="col-md-4" style="text-align:left">Budget</td><td  class="col-md-8" style="text-align:left">$'+a.getTotalPrice());k.swal({title:"The following Proposal will be send to the publisher",text:b,type:"warning",showCancelButton:!0,confirmButtonColor:"#d9534f",confirmButtonText:"Yes, Send It!",cancelButtonText:"No, cancel !",closeOnConfirm:!1,showLoaderOnConfirm:!0,html:!0,closeOnCancel:!1},function(b){b?setTimeout(function(){k.swal("proposal Send!","Your proposal  has been send.","success"),j.save(a).$promise.then(function(){q.go("campaign")})},2e3):k.swal("Cancelled","Process cancelled :)","error")})}else i.error("Please Upload Your Creative","error")},a.navigate=function(a,b){b?p.replace().path(a+"/"+b.slug+"/"+b._id):p.replace().path("/")};var u=function(b,c){a.breadcrumb={},a.breadcrumb.items=[];var d=r.get(b);d.get({id:c}).$promise.then(function(c){a.breadcrumb.items.push(c),"Category"===b?a.breadcrumb.items.push({name:"All Categories"}):"Brand"===b&&a.breadcrumb.items.push({name:"All Brands"})})}}]).controller("ProductDetailsCtrl",["$scope","$rootScope","Product","Category","socket","$stateParams","$location","$state","$injector",function(a,b,c,d,e,f,g,h,i){var j=f.id;a.name="",a.size="",a.formart="",null!==localStorage&&null!==JSON&&null!==j&&(localStorage.productId=j);var k=null!==localStorage?localStorage.productId:null;a.product=c.get({id:k},function(b){e.syncUpdates("product",a.data),l("Category",b.category._id)}),a.categories=d.all.query(),a.i=0,a.changeIndex=function(b){a.i=b},a.preview=function(b){b.preview?a.fileInput="data:image/png;base64,"+b.preview.base64:a.fileInput="assets/img/preview.png",a.overlays=[{x:50,y:155,w:106,h:29,color:"#00FF00"}],a.options={controls:{toolbar:!0,fit:"width"}},a.$watch("fileInput",function(b){"string"!=typeof b&&(a.overlays=[])}),a.name=b.name,a.size=b.size,a.formart=b.formart},a.navigate=function(a,b){b?g.replace().path(a+"/"+b.slug+"/"+b._id):g.replace().path("/")};var l=function(b,c){a.breadcrumb={},a.breadcrumb.items=[];var d=i.get(b);d.get({id:c}).$promise.then(function(c){a.breadcrumb.items.push(c),132==c.parentCategory&&(a.outdoor=!0),"Newspapers"==c.name?a.newspapers=!0:"Magazines"==c.name?a.magazines=!0:"Radio"==c.name?a.radio=!0:"Television"==c.name?a.television=!0:"Cinema"==c.name?a.cinema=!0:"Outdoor"==c.name?a.outdoor=!0:"Airline"==c.name?a.airline=!0:a.nontraditional=!0,"Category"===b?a.breadcrumb.items.push({name:"All Categories"}):"Brand"===b&&a.breadcrumb.items.push({name:"All Brands"})})}}]).controller("MainCtrl",["$scope","Cart","$state","$stateParams","$location","Product","Brand","Category","Feature","socket","$rootScope","$injector","$loading",function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.cart.products=null,d.productSku&&(a.product=a.store.getProduct(d.productSku)),a.currencyFormatting=function(a){return"$ "+a.toString()},a.removeBrand=function(b){var c=a.fl.brands.indexOf(b);c>-1&&(a.fl.brands.splice(c,1),a.filter())},a.removeFeatures=function(b){console.log(a.fl.features,b)},a.removeCategory=function(){a.fl.categories=void 0,a.filter()},a.products={},a.filtered={},a.products.busy=!1,a.products.end=!1,a.products.after=0,a.products.items=[],a.fl={},a.fl.brands=[],a.fl.categories=[],a.priceSlider={},a.features=i.group.query(),a.navigate=function(a,b){if("sort"===a){delete b.$$hashKey;var d=JSON.stringify(b);c.go(c.current,{sort:d},{reload:!0})}else b?e.replace().path(a+"/"+b.slug+"/"+b._id):e.replace().path("/")};var n=function(b,c){a.breadcrumb.items=[];var d=l.get(b);d.get({id:c}).$promise.then(function(c){a.breadcrumb.items.push(c),"Category"===b?a.breadcrumb.items.push({name:"All Categories"}):"Brand"===b&&a.breadcrumb.items.push({name:"All Brands"})})},o=a.products.sort=d.sort,p={where:{active:!0},limit:10},q={};a.filter=function(){var b=[];if(!a.products.busy){if(a.products.busy=!0,a.fl.features&&angular.forEach(a.fl.features,function(a,c){a.length>0&&b.push({"features.key":c,"features.val":{$in:a}})}),a.fl.brands&&a.fl.brands.length>0){var c=[];angular.forEach(a.fl.brands,function(a){c.push(a._id)}),b.push({"brand._id":{$in:c}})}if(a.fl.categories&&a.fl.categories.length>0){var d=[];angular.forEach(a.fl.categories,function(a){d.push(a._id)}),b.push({"category._id":{$in:d}})}b.push({"variants.price":{$gt:a.priceSlider.min,$lt:a.priceSlider.max}}),b.length>0?p.where={$and:b}:p.where={},r(p,!0)}},a.filterFeatures=function(){a.products.busy||(a.products.busy=!0,q.fl=[],a.fl.features&&(angular.forEach(a.fl.features,function(a,b){a.length>0&&q.fl.push({"features.key":b,"features.val":{$in:a}})}),q.fl.length>0&&q.br&&q.price?p.where={$and:[q.price,q.br,{$and:q.fl}]}:q.br&&q.price?p.where={$and:[q.price,q.br]}:q.br?p.where={$and:[q.br]}:p.where={},r(p,!0)))},a.sortNow=function(a){p.sort=a,r(p,!0)};var r=function(b,c){c&&(b.skip=0,a.products.items=[],a.products.end=!1,a.products.after=0),m.start("products"),a.products.busy=!0,f.query(b,function(b){for(var c=0;c<b.length;c++)a.products.items.push(b[c]);console.log(b),a.filtered.count=b.length+a.products.after,b.length>=5?a.products.after=a.products.after+b.length:a.products.end=!0,a.products.busy=!1,m.finish("products")},function(){a.products.busy=!1,m.finish("products")}),f.count.query(b,function(b){a.products.count=b[0].count})};if(a.resetPriceRange=function(){a.priceSlider={min:0,max:1e4,ceil:1e4,floor:0},a.filter()},"page"in d){d.page&&d._id?(a.products.brand={_id:d._id},a.breadcrumb={type:d.page},n(d.page,d._id),"Category"===d.page?a.fl.categories.push({_id:d._id,name:d.slug}):"Brand"===d.page&&a.fl.brands.push({_id:d._id,name:d.slug}),a.resetPriceRange()):p={sort:o,limit:10},a.filter()}else p={limit:10};a.scroll=function(){a.products.busy||a.products.end||(a.products.busy=!1,p.skip=a.products.after,r(p))},a.resetPriceRange()}]).controller("CreativeModalInstanceCtrl",["$scope","$rootScope","$http","$timeout","$compile","Upload","Campaign","$modalInstance","toastr","items",function($scope,$rootScope,$http,$timeout,$compile,Upload,Campaign,$modalInstance,toastr,items){function uploadUsingUpload(a,b){a.upload=Upload.upload({url:""+$scope.getReqParams(),resumeSizeUrl:b?"http://localhost:9000/api/upload?name="+encodeURIComponent(a.name):null,resumeChunkSize:b?$scope.chunkSize:null,headers:{"optional-header":"header-value"},data:{username:$scope.username,file:a}}),a.upload.then(function(b){$timeout(function(){a.result=b.data})},function(a){a.status>0&&($scope.errorMsg=a.status+": "+a.data)},function(b){a.progress=Math.min(100,parseInt(100*b.loaded/b.total))}),a.upload.xhr(function(a){})}function uploadUsing$http(a){a.upload=Upload.http({url:"http://localhost:9000/api/upload"+$scope.getReqParams(),method:"POST",headers:{"Content-Type":a.type},transformRequest:function(a,b){var c=new FormData;angular.forEach(a,function(a,b){c.append(b,a)});var d=b();return delete d["Content-Type"],c},data:{filefield:a}}),a.upload.then(function(b){a.result=b.data},function(a){a.status>0&&($scope.errorMsg=a.status+": "+a.data),console.log($scope.errorMsg)}),a.upload.progress(function(b){a.progress=Math.min(100,parseInt(100*b.loaded/b.total))})}function uploadS3(a){a.upload=Upload.upload({url:$scope.s3url,method:"POST",data:{key:a.name,AWSAccessKeyId:$scope.AWSAccessKeyId,acl:$scope.acl,policy:$scope.policy,signature:$scope.signature,"Content-Type":null===a.type||""===a.type?"application/octet-stream":a.type,filename:a.name,file:a}}),a.upload.then(function(b){$timeout(function(){a.result=b.data})},function(a){a.status>0&&($scope.errorMsg=a.status+": "+a.data)}),a.upload.progress(function(b){a.progress=Math.min(100,parseInt(100*b.loaded/b.total))}),storeS3UploadConfigInLocalStore()}function storeS3UploadConfigInLocalStore(){3===$scope.howToSend&&localStorage&&(localStorage.setItem("s3url",$scope.s3url),localStorage.setItem("AWSAccessKeyId",$scope.AWSAccessKeyId),localStorage.setItem("acl",$scope.acl),localStorage.setItem("success_action_redirect",$scope.success_action_redirect),localStorage.setItem("policy",$scope.policy),localStorage.setItem("signature",$scope.signature))}var version="11.0.0";$scope.howToSend=2;var toMergeCampaign=$rootScope.toMerge,toMergeCreative=$rootScope.toMergeCreative,items;console.log(items),console.log(toMergeCampaign),$scope.items=items,$scope.ok=function(){$modalInstance.close()},$scope.cancel=function(){$modalInstance.dismiss("cancel")},$scope.usingFlash=FileAPI&&null!=FileAPI.upload,$scope.changeAngularVersion=function(){window.location.hash=$scope.angularVersion,window.location.reload(!0)},$scope.angularVersion=window.location.hash.length>1?1===window.location.hash.indexOf("/")?window.location.hash.substring(2):window.location.hash.substring(1):"1.2.24",$scope.invalidFiles=[],$scope.$watch("files",function(a){if($scope.formUpload=!1,null!=a){if(!angular.isArray(a))return void $timeout(function(){$scope.files=a=[a]});for(var b=0;b<a.length;b++)Upload.imageDimensions(a[b]).then(function(a){$scope.d=a}),$scope.errorMsg=null,function(a){$scope.upload(a,!0)}(a[b])}}),$scope.uploadPic=function(a){$scope.formUpload=!0,null!=a&&$scope.upload(a)},$scope.upload=function(a,b){if(console.log(a),"image/jpeg"==a.type){var c=a,d=window.URL||window.webkitURL,e=d.createObjectURL(c);console.log("image source="+e);var f=new FileReader;f.onload=function(a){console.log(a.target.result)};var e=f.readAsBinaryString(c)}$scope.errorMsg=null,1===$scope.howToSend?uploadUsingUpload(a,b):2==$scope.howToSend?uploadUsing$http(a):uploadS3(a)},$scope.isResumeSupported=Upload.isResumeSupported(),$scope.restart=function(a){Upload.isResumeSupported()?$http.get("http://localhost:9000/api/upload?restart=true&name="+encodeURIComponent(a.name)).then(function(){$scope.upload(a,!0)}):$scope.upload(a)},$scope.chunkSize=1e5,$scope.generateSignature=function(){$http.post("/s3sign?aws-secret-key="+encodeURIComponent($scope.AWSSecretKey),$scope.jsonPolicy).success(function(a){$scope.policy=a.policy,$scope.signature=a.signature})},localStorage&&($scope.s3url=localStorage.getItem("s3url"),$scope.AWSAccessKeyId=localStorage.getItem("AWSAccessKeyId"),$scope.acl=localStorage.getItem("acl"),$scope.success_action_redirect=localStorage.getItem("success_action_redirect"),$scope.policy=localStorage.getItem("policy"),$scope.signature=localStorage.getItem("signature")),$scope.success_action_redirect=$scope.success_action_redirect||window.location.protocol+"//"+window.location.host,$scope.jsonPolicy=$scope.jsonPolicy||'{\n  "expiration": "2020-01-01T00:00:00Z",\n  "conditions": [\n    {"bucket": "angular-file-upload"},\n    ["starts-with", "$key", ""],\n    {"acl": "private"},\n    ["starts-with", "$Content-Type", ""],\n    ["starts-with", "$filename", ""],\n    ["content-length-range", 0, 524288000]\n  ]\n}',$scope.acl=$scope.acl||"private",$scope.confirm=function(){return confirm("Are you sure? Your local changes will be lost.")},$scope.getReqParams=function(){return $scope.generateErrorOnServer?"?errorCode="+$scope.serverErrorCode+"&errorMessage="+$scope.serverErrorMsg:""},angular.element(window).bind("dragover",function(a){a.preventDefault()}),angular.element(window).bind("drop",function(a){a.preventDefault()}),$scope.modelOptionsObj={},$scope.$watch("validate+dragOverClass+modelOptions+resize+resizeIf",function(v){$scope.validateObj=eval("(function(){return "+$scope.validate+";})()"),$scope.dragOverClassObj=eval("(function(){return "+$scope.dragOverClass+";})()"),$scope.modelOptionsObj=eval("(function(){return "+$scope.modelOptions+";})()"),$scope.resizeObj=eval("(function($file){return "+$scope.resize+";})()"),$scope.resizeIfFn=eval("(function(){var fn = function($file, $width, $height){return "+$scope.resizeIf+";};return fn;})()")}),$timeout(function(){$scope.capture=localStorage.getItem("capture"+version)||"camera",$scope.pattern=localStorage.getItem("pattern"+version)||"image/*,audio/*,video/*",$scope.acceptSelect=localStorage.getItem("acceptSelect"+version)||"image/*,audio/*,video/*",$scope.modelOptions=localStorage.getItem("modelOptions"+version)||"{debounce:100}",$scope.dragOverClass=localStorage.getItem("dragOverClass"+version)||"{accept:'dragover', reject:'dragover-err', pattern:'image/*,audio/*,video/*,text/*'}",$scope.disabled="true"==localStorage.getItem("disabled"+version)||!1,$scope.multiple="true"==localStorage.getItem("multiple"+version)||!1,$scope.allowDir="true"==localStorage.getItem("allowDir"+version)||!0,$scope.validate=localStorage.getItem("validate"+version)||"{size: {max: '20MB', min: '10B'}, height: {max: 12000}, width: {max: 12000}, duration: {max: '5m'}}",$scope.keep="true"==localStorage.getItem("keep"+version)||!1,$scope.keepDistinct="true"==localStorage.getItem("keepDistinct"+version)||!1,$scope.orientation="true"==localStorage.getItem("orientation"+version)||!1,$scope.resize=localStorage.getItem("resize"+version)||"{width: 1000, height: 1000, centerCrop: true}",$scope.resizeIf=localStorage.getItem("resizeIf"+version)||"$width > 5000 || $height > 5000",$scope.dimensions=localStorage.getItem("dimensions"+version)||"$width < 12000 || $height < 12000",$scope.duration=localStorage.getItem("duration"+version)||"$duration < 10000",$scope.$watch("validate+capture+pattern+acceptSelect+disabled+capture+multiple+allowDir+keep+orientation+keepDistinct+modelOptions+dragOverClass+resize+resizeIf",function(){localStorage.setItem("capture"+version,$scope.capture),localStorage.setItem("pattern"+version,$scope.pattern),localStorage.setItem("acceptSelect"+version,$scope.acceptSelect),localStorage.setItem("disabled"+version,$scope.disabled),localStorage.setItem("multiple"+version,$scope.multiple),localStorage.setItem("allowDir"+version,$scope.allowDir),localStorage.setItem("validate"+version,$scope.validate),localStorage.setItem("keep"+version,$scope.keep),localStorage.setItem("orientation"+version,$scope.orientation),localStorage.setItem("keepDistinct"+version,$scope.keepDistinct),localStorage.setItem("dragOverClass"+version,$scope.dragOverClass),localStorage.setItem("modelOptions"+version,$scope.modelOptions),localStorage.setItem("resize"+version,$scope.resize),localStorage.setItem("resizeIf"+version,$scope.resizeIf)})})}]).directive("fileModel",["$parse",function(a){return{restrict:"A",link:function(b,c,d){var e=a(d.fileModel),f=e.assign;c.bind("change",function(){b.$apply(function(){f(b,c[0].files[0])})})}}}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("main",{title:"MediaBox",url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl",params:{sort:null}}).state("productDetail",{title:"Details of selected product",params:{id:null,slug:null},url:"/p/:slug",templateUrl:"app/main/product-details.html",controller:"ProductDetailsCtrl"}).state("newCampaign",{title:"New Campaign",url:"/newcampaign",templateUrl:"app/main/campaign.html",controller:"NewCampaignCtrl",authenticate:!0}).state("SubProduct",{title:"All products under current category or brand",url:"/:page/:slug/:_id",templateUrl:"app/main/main.html",controller:"MainCtrl",params:{id:null,sort:null,brand:null,category:null,price1:0,price2:1e5}})}]),angular.module("shopnxApp").controller("MediaFinishedCtrl",["$scope","$rootScope","$modal","$log","Campaign","$timeout","$mdSidenav","$loading","toastr",function(a,b,c,d,e,f,g,h,i){function j(b,c,d){var e;return function(){var d=a,g=Array.prototype.slice.call(arguments);f.cancel(e),e=f(function(){e=void 0,b.apply(d,g)},c||10)}}function k(a){return j(function(){g(a).toggle().then(function(){d.debug("toggle "+a+" is done")})},200)}function l(a){return function(){g(a).toggle().then(function(){d.debug("toggle "+a+" is done")})}}var m=this;h.start("vm.items"),m.itemsGrid=[],m.dataItem="",m.uCampaign="";var n=["January","February","March","April","May","June","July","August","September","October","November","December"];m.toggleLeft=k("left"),m.toggleRight=l("right"),m.isOpenRight=function(){return g("right").isOpen()},m.selectedTab=0,m.changeTab=function(){2===m.selectedTab?m.selectedTab=0:m.selectedTab++},m.items=["item1","item2","item3"],m.animationsEnabled=!0,m.open=function(a,e,f,g){console.log(f),b.toMerge=a,b.toMergeCreative=f;var h=c.open({animation:m.animationsEnabled,templateUrl:"creative.html",controller:"ModalInstanceCtrl",size:g,resolve:{items:function(){return e}}});h.result.then(function(a){m.selected=a},function(){d.info("Modal dismissed at: "+new Date)})},m.openCreative=function(a,e){console.log(a),b.toMergeCreative=a;var f=c.open({animation:m.animationsEnabled,templateUrl:"preview.html",controller:"ModalInstanceCtrl",size:e,resolve:{items:function(){return a}}});f.result.then(function(a){m.selected=a},function(){d.info("Modal dismissed at: "+new Date)})},m.openToggle=function(b,c,d,e){console.log(b),console.log(c),a.items=b},a.request=function(a){console.log(a),console.log(a),e["delete"]({id:updated._id},function(){console.log("Campaign deleted"),e.save(updated).$promise.then(function(){i.success("Campaign info saved successfully","Success")})})},m.openChat=function(a,e,f,g){console.log(a),b.toMerge=a;var h=c.open({animation:m.animationsEnabled,templateUrl:"chat.html",controller:"ChatInstanceCtrl",size:g,resolve:{items:function(){return e}}});h.result.then(function(a){m.selected=a},function(){d.info("Modal dismissed at: "+new Date)})},m.toggleAnimation=function(){m.animationsEnabled=!m.animationsEnabled},m.cmp={},m.campaignStatusLov=e.status,m.campaignStatus=[{name:"",val:402},{name:"Approved",val:305},{name:"Reject",val:500}],m.campaignStatusCreativeAdded=[{name:"Completed",val:309}],m.items=e.pub.query({},function(a){for(var b=0,c=0;c<a.length;c++){var d=new Date(a[c].campaignDate);a[c].date={d:d.getDate(),m:n[d.getMonth()],y:d.getFullYear()},b=0;for(var e=a[c],f=0;f<e.items.length;f++){var g=e.items[f].price,i=e.items[f].quantity;b+=g*i}}a.total=b,h.finish("vm.items")});var o={};o.where={$and:[{"items.uid":b.user.email},{endDate:{$lt:Date.now()}},{"items.status.name":"Approved"}]},m.mainGridOptions={dataSource:{transport:{read:function(a){e.pub.query(o,function(b){a.success(b)})}},pageSize:10,serverPaging:!0,serverSorting:!0},toolbar:["excel","pdf"],excel:{allPages:!0,proxyURL:"//demos.telerik.com/kendo-ui/service/export",fileName:"Mediabox-campaigns.xlsx",filterable:!0},pdf:{allPages:!0,avoidLinks:!0,paperSize:"A4",margin:{top:"2cm",left:"1cm",right:"1cm",bottom:"1cm"},landscape:!0,repeatHeaders:!0,template:$("#page-template").html(),scale:.8},sortable:!0,pageable:!0,filterable:!0,dataBound:function(){this.expandRow(this.tbody.find("tr.k-master-row").first())},columns:[{field:"campaignNo",title:"Campaign ID"},{field:"campaignName",title:"Campaign Name"},{field:"startDate",title:"Start Date",type:"datetime",template:"#=  (startDate == null)? '' : kendo.toString(kendo.parseDate(startDate, 'yyyy-MM-dd'), 'MM/dd/yy') #"},{field:"endDate",title:"End Date",type:"datetime",template:"#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #"},{field:"totalSpend",title:"Total"},{field:"items[0].status.name",title:"Status"}]},m.detailGridOptions=function(a){return m.dataItem=a,m.uCampaign=a,console.log(m.dataItem),{dataSource:{filter:{field:"id",operator:"eq",value:a.id},transport:{read:function(c){var d={};d.where={$and:[{"items.uid":b.user.email},{endDate:{$lt:Date.now()}},{"items.status.name":"Approved"}]},e.pub.query(d,function(b){for(var d=0,e=b.length,f=0;f<b.length;f++){d=0;for(var g=b[f],h=0;h<g.items.length;h++){var i={campaignNo:g.campaignNo,dateBooked:g.campaignDate,id:g._id,advertiser:g.items[h].advertiser,category:g.items[h].category,
creative:g.items[h].creative,image:g.items[h].image,messages:g.items[h].messages,mrp:g.items[h].mrp,name:g.items[h].name,price:g.items[h].price,publisher:g.items[h].publisher,quantity:g.items[h].quantity,request:g.items[h].request,size:g.items[h].size,sku:g.items[h].sku,status:g.items[h].status,email:g.items[h].uid},j=g.items[h].price,k=g.items[h].quantity;d+=j*k,b.totalSpend=d,m.itemsGrid.push(i)}}b.total=d,b.totalCampaign=e;for(var l=[],h=0;h<m.itemsGrid.length;h++){var g=m.itemsGrid[h];g.campaignNo==a.campaignNo&&l.push(g),c.success(l),console.log(l),m.data=[]}m.itemsGrid=[]})}},serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:5,filterable:!0},scrollable:!1,sortable:!0,pageable:!0,columns:[{field:"campaignNo",title:"Campaign #",width:"70px"},{field:"publisher",title:"Publisher",width:"100px"},{field:"name",title:"Name",width:"70px"},{field:"price",title:"Price",width:"50px",template:function(a){return"<div><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$"+a.price+"</span></div>"}},{field:"quantity",title:"Quantity",width:"50px"},{field:"creative",title:"Creative",width:"50px",template:function(a){return'<div ng-hide="dataItem.creative"><button  class="btn btn-danger"  ng-click="vm.openCreative(dataItem,\'md\')" ><i class="fa fa-image"></i><span class="glyphicon glyphicon-upload"></span></button></div></div><div ng-show="dataItem.creative"><button  class="btn btn-success"  ng-click="vm.openCreative(dataItem,\'md\')" ><i class="fa fa-image"></i><span class="glyphicon glyphicon-upload"></span></button></div></div>'}},{field:"status.name",title:"Status",width:"40px",template:function(a){return"<div><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>"+a.status.name+"</span></div>"}},{title:"Action",width:"50px",template:function(a){return'<div  ng-if = "dataItem.status.val==\'402\'"><select ng-model="dataItem.status" ng-options="p.name for p in vm.campaignStatus track by p.val" ng-change="vm.action(dataItem)" class="k-select" style="max-width: 150px"></select></div><div  ng-show = "!dataItem.status.val==\'402\'" ><select ng-model="dataItem.status" ng-options="p.name for p in vm.campaignStatusCreativeAdded track by p.val" ng-change="vm.action(o)" class="k-select"  style="max-width: 150px"></select></div>'}}]}},m.getTotal=function(a){for(var b=0,c=0;c<a.items.length;c++){var d=a.items[c].price,e=a.items[c].quantity;b+=d*e}return b},m.action=function(a){a&&(console.log(m.uCampaign._id),console.log(a),e.update({id:m.uCampaign._id},a).$promise.then(function(a){i.success("Update Successful","Success")},function(a){if(a.data.errors){var b=a.data.errors;i.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;i.error(c)}}))},m.changeStatus=function(a){e.update({id:a._id},a).$promise.then(function(a){},function(a){if(a.data.errors){var b=a.data.errors;i.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;i.error(c)}})}}]).controller("ChatInstanceCtrl",["$scope","$rootScope","Auth","User","$cookieStore","MockMessagesService","Campaign","$modalInstance","toastr","items",function(a,b,c,d,e,f,g,h,i,j){b.toMerge;e.get("token")&&(a.currentUser=d.get()),a.items=j,a.items.creative={},a.selected={item:a.items[0]},a.messages=j.messages,a.sendMessage=function(a){j.messages.push(a);var c=_.merge(b.toMerge,j);g["delete"]({id:c._id},function(){g.save(c).$promise.then(function(){i.success("Campaign info saved successfully","Success")})})},a.$on("simple-chat-message-posted",function(){}),a.ok=function(b){h.close(a.selected.item)},a.cancel=function(){h.dismiss("cancel")}}]),angular.module("shopnxApp").controller("MediaRunningCtrl",["$scope","$rootScope","$modal","$log","Campaign","$timeout","$mdSidenav","$loading","toastr",function(a,b,c,d,e,f,g,h,i){function j(b,c,d){var e;return function(){var d=a,g=Array.prototype.slice.call(arguments);f.cancel(e),e=f(function(){e=void 0,b.apply(d,g)},c||10)}}function k(a){return j(function(){g(a).toggle().then(function(){d.debug("toggle "+a+" is done")})},200)}function l(a){return function(){g(a).toggle().then(function(){d.debug("toggle "+a+" is done")})}}var m=this;h.start("vm.items"),m.itemsGrid=[],m.dataItem="",m.uCampaign="";var n=["January","February","March","April","May","June","July","August","September","October","November","December"];m.toggleLeft=k("left"),m.toggleRight=l("right"),m.isOpenRight=function(){return g("right").isOpen()},m.selectedTab=0,m.changeTab=function(){2===m.selectedTab?m.selectedTab=0:m.selectedTab++},m.items=["item1","item2","item3"],m.animationsEnabled=!0,m.open=function(a,e,f,g){console.log(f),b.toMerge=a,b.toMergeCreative=f;var h=c.open({animation:m.animationsEnabled,templateUrl:"creative.html",controller:"ModalInstanceCtrl",size:g,resolve:{items:function(){return e}}});h.result.then(function(a){m.selected=a},function(){d.info("Modal dismissed at: "+new Date)})},m.openCreative=function(a,e){b.toMergeCreative=a;var f=c.open({animation:m.animationsEnabled,templateUrl:"preview.html",controller:"ModalInstanceCtrl",size:e,resolve:{items:function(){return a}}});f.result.then(function(a){m.selected=a},function(){d.info("Modal dismissed at: "+new Date)})},m.openToggle=function(b,c,d,e){console.log(b),console.log(c),a.items=b},a.request=function(a){console.log(a),console.log(a),e["delete"]({id:updated._id},function(){console.log("Campaign deleted"),e.save(updated).$promise.then(function(){i.success("Campaign info saved successfully","Success")})})},m.openChat=function(a,e,f,g){console.log(a),b.toMerge=a;var h=c.open({animation:m.animationsEnabled,templateUrl:"chat.html",controller:"ChatInstanceCtrl",size:g,resolve:{items:function(){return e}}});h.result.then(function(a){m.selected=a},function(){d.info("Modal dismissed at: "+new Date)})},m.toggleAnimation=function(){m.animationsEnabled=!m.animationsEnabled},m.cmp={},m.campaignStatusLov=e.status,m.campaignStatus=[{name:"",val:402},{name:"Approved",val:305},{name:"Reject",val:500}],m.campaignStatusCreativeAdded=[{name:"Completed",val:309}],m.items=e.pub.query({},function(a){for(var b=0,c=0;c<a.length;c++){var d=new Date(a[c].campaignDate);a[c].date={d:d.getDate(),m:n[d.getMonth()],y:d.getFullYear()},b=0;for(var e=a[c],f=0;f<e.items.length;f++){var g=e.items[f].price,i=e.items[f].quantity;b+=g*i}}a.total=b,h.finish("vm.items")});var o={};o.where={$and:[{"items.uid":b.user.email},{startDate:{$lt:Date.now()}},{endDate:{$gt:Date.now()}},{"items.status.name":"Approved"}]},m.mainGridOptions={dataSource:{transport:{read:function(a){e.pub.query(o,function(b){a.success(b)})}},pageSize:10,serverPaging:!0,serverSorting:!0},toolbar:["excel","pdf"],excel:{allPages:!0,proxyURL:"//demos.telerik.com/kendo-ui/service/export",fileName:"Mediabox-campaigns.xlsx",filterable:!0},pdf:{allPages:!0,avoidLinks:!0,paperSize:"A4",margin:{top:"2cm",left:"1cm",right:"1cm",bottom:"1cm"},landscape:!0,repeatHeaders:!0,template:$("#page-template").html(),scale:.8},sortable:!0,pageable:!0,filterable:!0,dataBound:function(){this.expandRow(this.tbody.find("tr.k-master-row").first())},columns:[{field:"campaignNo",title:"Campaign ID"},{field:"campaignName",title:"Campaign Name"},{field:"startDate",title:"Start Date",type:"datetime",template:"#=  (startDate == null)? '' : kendo.toString(kendo.parseDate(startDate, 'yyyy-MM-dd'), 'MM/dd/yy') #"},{field:"endDate",title:"End Date",type:"datetime",template:"#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #"},{field:"totalSpend",title:"Total"},{field:"items[0].status.name",title:"Status"}]},m.detailGridOptions=function(a){return m.dataItem=a,m.uCampaign=a,console.log(m.dataItem),{dataSource:{filter:{field:"id",operator:"eq",value:a.id},transport:{read:function(c){var d={};d.where={$and:[{"items.uid":b.user.email},{startDate:{$lt:Date.now()}},{endDate:{$gt:Date.now()}},{"items.status.name":"Approved"}]},e.pub.query(d,function(b){for(var d=0,e=b.length,f=0;f<b.length;f++){d=0;for(var g=b[f],h=0;h<g.items.length;h++){var i={campaignNo:g.campaignNo,dateBooked:g.campaignDate,id:g._id,advertiser:g.items[h].advertiser,category:g.items[h].category,creative:g.items[h].creative,image:g.items[h].image,messages:g.items[h].messages,mrp:g.items[h].mrp,name:g.items[h].name,price:g.items[h].price,publisher:g.items[h].publisher,quantity:g.items[h].quantity,request:g.items[h].request,size:g.items[h].size,sku:g.items[h].sku,status:g.items[h].status,email:g.items[h].uid},j=g.items[h].price,k=g.items[h].quantity;d+=j*k,b.totalSpend=d,m.itemsGrid.push(i)}}b.total=d,b.totalCampaign=e;for(var l=[],h=0;h<m.itemsGrid.length;h++){var g=m.itemsGrid[h];g.campaignNo==a.campaignNo&&l.push(g),c.success(l),console.log(l),m.data=[]}m.itemsGrid=[]})}},serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:5,filterable:!0},scrollable:!1,sortable:!0,pageable:!0,columns:[{field:"publisher",title:"Publisher",width:"100px"},{field:"name",title:"Name",width:"70px"},{field:"price",title:"Price",width:"50px",template:function(a){return"<div><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$"+a.price+"</span></div>"}},{field:"quantity",title:"Quantity",width:"50px"},{field:"creative",title:"Creative",width:"50px",template:function(a){return'<div ng-hide="dataItem.creative"><button  class="btn btn-danger"  ng-click="vm.openCreative(dataItem,\'md\')" ><i class="fa fa-image"></i><span class="glyphicon glyphicon-upload"></span></button></div></div><div ng-show="dataItem.creative"><button  class="btn btn-success"  ng-click="vm.openCreative(dataItem,\'md\')" ><i class="fa fa-image"></i><span class="glyphicon glyphicon-upload"></span></button></div></div>'}},{field:"status.name",title:"Status",width:"40px",template:function(a){return"<div><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>"+a.status.name+"</span></div>"}},{title:"Action",width:"50px",template:function(a){return'<div  ng-if = "dataItem.status.val==\'402\'"><select ng-model="dataItem.status" ng-options="p.name for p in vm.campaignStatus track by p.val" ng-change="vm.action(dataItem)" class="k-select" style="max-width: 150px"></select></div><div  ng-show = "!dataItem.status.val==\'402\'" ><select ng-model="dataItem.status" ng-options="p.name for p in vm.campaignStatusCreativeAdded track by p.val" ng-change="vm.action(o)" class="k-select"  style="max-width: 150px"></select></div>'}}]}},m.getTotal=function(a){for(var b=0,c=0;c<a.items.length;c++){var d=a.items[c].price,e=a.items[c].quantity;b+=d*e}return b},m.action=function(a){a&&(console.log(m.uCampaign._id),console.log(a),e.update({id:m.uCampaign._id},a).$promise.then(function(a){i.success("Update Successful","Success")},function(a){if(a.data.errors){var b=a.data.errors;i.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;i.error(c)}}))},m.changeStatus=function(a){e.update({id:a._id},a).$promise.then(function(a){},function(a){if(a.data.errors){var b=a.data.errors;i.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;i.error(c)}})}}]).controller("ChatInstanceCtrl",["$scope","$rootScope","Auth","User","$cookieStore","MockMessagesService","Campaign","$modalInstance","toastr","items",function(a,b,c,d,e,f,g,h,i,j){b.toMerge;e.get("token")&&(a.currentUser=d.get()),a.items=j,a.items.creative={},a.selected={item:a.items[0]},a.messages=j.messages,a.sendMessage=function(a){j.messages.push(a);var c=_.merge(b.toMerge,j);g["delete"]({id:c._id},function(){g.save(c).$promise.then(function(){i.success("Campaign info saved successfully","Success")})})},a.$on("simple-chat-message-posted",function(){}),a.ok=function(b){h.close(a.selected.item)},a.cancel=function(){h.dismiss("cancel")}}]),angular.module("shopnxApp").controller("MediaScheduledCtrl",["$scope","$rootScope","$modal","$log","Campaign","$timeout","$mdSidenav","$loading","toastr",function(a,b,c,d,e,f,g,h,i){function j(b,c,d){var e;return function(){var d=a,g=Array.prototype.slice.call(arguments);f.cancel(e),e=f(function(){e=void 0,b.apply(d,g)},c||10)}}function k(a){return j(function(){g(a).toggle().then(function(){d.debug("toggle "+a+" is done")})},200)}function l(a){return function(){g(a).toggle().then(function(){d.debug("toggle "+a+" is done")})}}var m=this;h.start("vm.items"),m.itemsGrid=[],m.dataItem="",m.uCampaign="";var n=["January","February","March","April","May","June","July","August","September","October","November","December"];m.toggleLeft=k("left"),m.toggleRight=l("right"),m.isOpenRight=function(){return g("right").isOpen()},m.selectedTab=0,m.changeTab=function(){2===m.selectedTab?m.selectedTab=0:m.selectedTab++},m.items=["item1","item2","item3"],m.animationsEnabled=!0,m.open=function(a,e,f,g){console.log(f),b.toMerge=a,b.toMergeCreative=f;var h=c.open({animation:m.animationsEnabled,templateUrl:"creative.html",controller:"ModalInstanceCtrl",size:g,resolve:{items:function(){return e}}});h.result.then(function(a){m.selected=a},function(){d.info("Modal dismissed at: "+new Date)})},m.openCreative=function(a,e){console.log(a),b.toMergeCreative=a;var f=c.open({animation:m.animationsEnabled,templateUrl:"preview.html",controller:"ModalInstanceCtrl",size:e,resolve:{items:function(){return a}}});f.result.then(function(a){m.selected=a},function(){d.info("Modal dismissed at: "+new Date)})},m.openToggle=function(b,c,d,e){console.log(b),console.log(c),a.items=b},a.request=function(a){console.log(a),console.log(a),e["delete"]({id:updated._id},function(){console.log("Campaign deleted"),e.save(updated).$promise.then(function(){i.success("Campaign info saved successfully","Success")})})},m.openChat=function(a,e,f,g){console.log(a),b.toMerge=a;var h=c.open({animation:m.animationsEnabled,templateUrl:"chat.html",controller:"ChatInstanceCtrl",size:g,resolve:{items:function(){return e}}});h.result.then(function(a){m.selected=a},function(){d.info("Modal dismissed at: "+new Date)})},m.toggleAnimation=function(){m.animationsEnabled=!m.animationsEnabled},m.cmp={},m.campaignStatusLov=e.status,m.campaignStatus=[{name:"",val:402},{name:"Approved",val:305},{name:"Reject",val:500}],m.campaignStatusCreativeAdded=[{name:"Completed",val:309}],m.items=e.pub.query({},function(a){for(var b=0,c=0;c<a.length;c++){var d=new Date(a[c].campaignDate);a[c].date={d:d.getDate(),m:n[d.getMonth()],y:d.getFullYear()},b=0;for(var e=a[c],f=0;f<e.items.length;f++){var g=e.items[f].price,i=e.items[f].quantity;b+=g*i}}a.total=b,h.finish("vm.items")});var o={};o.where={$and:[{"items.uid":b.user.email},{startDate:{$gt:Date.now()}},{"items.status.name":"Approved"}]},m.mainGridOptions={dataSource:{transport:{read:function(a){e.pub.query(o,function(b){a.success(b)})}},pageSize:10,serverPaging:!0,serverSorting:!0},toolbar:["excel","pdf"],excel:{allPages:!0,proxyURL:"//demos.telerik.com/kendo-ui/service/export",fileName:"Mediabox-campaigns.xlsx",filterable:!0},pdf:{allPages:!0,avoidLinks:!0,paperSize:"A4",margin:{top:"2cm",left:"1cm",right:"1cm",bottom:"1cm"},landscape:!0,repeatHeaders:!0,template:$("#page-template").html(),scale:.8},sortable:!0,pageable:!0,filterable:!0,dataBound:function(){this.expandRow(this.tbody.find("tr.k-master-row").first())},columns:[{field:"campaignNo",title:"Campaign ID"},{field:"campaignName",title:"Campaign Name"},{field:"startDate",title:"Start Date",type:"datetime",template:"#=  (startDate == null)? '' : kendo.toString(kendo.parseDate(startDate, 'yyyy-MM-dd'), 'MM/dd/yy') #"},{field:"endDate",title:"End Date",type:"datetime",template:"#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #"},{field:"totalSpend",title:"Total"},{field:"items[0].status.name",title:"Status"}]},m.detailGridOptions=function(a){return m.dataItem=a,m.uCampaign=a,console.log(m.dataItem),{dataSource:{filter:{field:"id",operator:"eq",value:a.id},transport:{read:function(c){var d={};d.where={$and:[{"items.uid":b.user.email},{startDate:{$gt:Date.now()}},{"items.status.name":"Approved"}]},e.pub.query(d,function(b){for(var d=0,e=b.length,f=0;f<b.length;f++){d=0;for(var g=b[f],h=0;h<g.items.length;h++){var i={campaignNo:g.campaignNo,dateBooked:g.campaignDate,id:g._id,advertiser:g.items[h].advertiser,category:g.items[h].category,creative:g.items[h].creative,image:g.items[h].image,messages:g.items[h].messages,mrp:g.items[h].mrp,name:g.items[h].name,price:g.items[h].price,publisher:g.items[h].publisher,quantity:g.items[h].quantity,request:g.items[h].request,size:g.items[h].size,sku:g.items[h].sku,status:g.items[h].status,email:g.items[h].uid},j=g.items[h].price,k=g.items[h].quantity;d+=j*k,b.totalSpend=d,m.itemsGrid.push(i)}}b.total=d,b.totalCampaign=e;for(var l=[],h=0;h<m.itemsGrid.length;h++){var g=m.itemsGrid[h];g.campaignNo==a.campaignNo&&l.push(g),c.success(l),console.log(l),m.data=[]}m.itemsGrid=[]})}},serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:5,filterable:!0},scrollable:!1,sortable:!0,pageable:!0,columns:[{field:"publisher",title:"Publisher",width:"100px"},{field:"name",title:"Name",width:"70px"},{field:"price",title:"Price",width:"50px",template:function(a){return"<div><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$"+a.price+"</span></div>"}},{field:"quantity",title:"Quantity",width:"50px"},{field:"creative",title:"Creative",width:"50px",template:function(a){return'<div ng-hide="dataItem.creative"><button  class="btn btn-danger"  ng-click="vm.openCreative(dataItem,\'md\')" ><i class="fa fa-image"></i><span class="glyphicon glyphicon-upload"></span></button></div></div><div ng-show="dataItem.creative"><button  class="btn btn-success"  ng-click="vm.openCreative(dataItem,\'md\')" ><i class="fa fa-image"></i><span class="glyphicon glyphicon-upload"></span></button></div></div>'}},{field:"status.name",title:"Status",width:"40px",template:function(a){return'<div ng-show= "dataItem.status.val==\'305\'" class="alert alert-success"><small>Approved</small></div><div  ng-show = "dataItem.status.val==\'402\'" class="alert alert-danger" ><small>Pending<small></div><div  ng-show = "dataItem.status.val==\'300\'" class="alert alert-success" ><small>Ready</small> </div><div  ng-show = "dataItem.status.val==\'500\'" class="alert alert-danger" ><small>Rejected</small> </div><div  ng-show = "dataItem.status.val==\'309\'" class="alert alert-success" ><small>Completed</small> </div>'}},{title:"Action",width:"50px",template:function(a){return'<div  ng-if = "dataItem.status.val==\'402\'"><select ng-model="dataItem.status" ng-options="p.name for p in vm.campaignStatus track by p.val" ng-change="vm.action(dataItem)" class="k-select" style="max-width: 150px"></select></div><div  ng-show = "!dataItem.status.val==\'402\'" ><select ng-model="dataItem.status" ng-options="p.name for p in vm.campaignStatusCreativeAdded track by p.val" ng-change="vm.action(o)" class="k-select"  style="max-width: 150px"></select></div>'}}]}},m.getTotal=function(a){for(var b=0,c=0;c<a.items.length;c++){var d=a.items[c].price,e=a.items[c].quantity;b+=d*e}return b},m.action=function(a){a&&(console.log(m.uCampaign._id),console.log(a),e.update({id:m.uCampaign._id},a).$promise.then(function(a){i.success("Update Successful","Success")},function(a){if(a.data.errors){var b=a.data.errors;i.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;i.error(c)}}))},m.changeStatus=function(a){e.update({id:a._id},a).$promise.then(function(a){},function(a){if(a.data.errors){var b=a.data.errors;i.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;i.error(c)}})}}]).controller("ChatInstanceCtrl",["$scope","$rootScope","Auth","User","$cookieStore","MockMessagesService","Campaign","$modalInstance","toastr","items",function(a,b,c,d,e,f,g,h,i,j){b.toMerge;e.get("token")&&(a.currentUser=d.get()),a.items=j,a.items.creative={},a.selected={item:a.items[0]},a.messages=j.messages,a.sendMessage=function(a){j.messages.push(a);var c=_.merge(b.toMerge,j);g["delete"]({id:c._id},function(){g.save(c).$promise.then(function(){i.success("Campaign info saved successfully","Success")})})},a.$on("simple-chat-message-posted",function(){}),a.ok=function(b){h.close(a.selected.item)},a.cancel=function(){h.dismiss("cancel")}}]),angular.module("shopnxApp").directive("dividerCollectionRepeat",["$parse",function(a){function b(a,b){var c=b.itemHeight||"73";b.$set("itemHeight","item.isDivider ? 37 : "+c),a.children().attr("ng-hide","item.isDivider"),a.prepend('<div class="divider custom-item-divider ng-hide" ng-show="item.isDivider" ng-bind="item.divider"></div>')}return{priority:1001,compile:b}}]).filter("groupByMonthYear",["$parse",function(a){var b={};return function(a){if(a&&a.length){for(var c,d,e,f=[],g=0,h=a.length;h>g&&(c=a[g]);g++){if(e=moment(c.campaignDate),!d||e.month()!=d.month()||e.year()!=d.year()){var i=e.format("MMYYYY");b[i]||(b[i]={isDivider:!0,divider:e.format("MMMM YYYY")}),f.push(b[i])}f.push(c),d=e}return f}}}]).directive("showNotifications",["$interval",function(a){return{restrict:"A",link:function(b,c,d){$(c).click(function(){$(this).popover("open")}),a(function(){$(c).popover("open")},1e3)}}}]).controller("LeftCtrl",["$scope","$timeout","$mdSidenav","$log",function(a,b,c,d){a.close=function(){c("left").close().then(function(){d.debug("close LEFT is done")})}}]).controller("RightCtrl",["$scope","$rootScope","$timeout","Campaign","$mdSidenav","$log",function(a,b,c,d,e,f){var g=b.toMergeCampaign,h=b.toMergeItems;a.close=function(a){var b={name:"Waiting Responds",val:201};a&&(h.status={},h.status=b);var c=_.merge(g,a.itemToMergeItem);console.log(c),e("right").close().then(function(){f.debug("close RIGHT is done")})}}]).controller("MediaCtrl",["$scope","$rootScope","$modal","$log","Campaign","$timeout","$mdSidenav","$loading","toastr",function(a,b,c,d,e,f,g,h,i){function j(b,c,d){var e;return function(){var d=a,g=Array.prototype.slice.call(arguments);f.cancel(e),e=f(function(){e=void 0,b.apply(d,g)},c||10)}}function k(a){return j(function(){g(a).toggle().then(function(){d.debug("toggle "+a+" is done")})},200)}function l(a){return function(){g(a).toggle().then(function(){d.debug("toggle "+a+" is done")})}}var m=this;h.start("vm.items"),m.itemsGrid=[],m.dataItem="",m.uCampaign="";var n=["January","February","March","April","May","June","July","August","September","October","November","December"];m.toggleLeft=k("left"),m.toggleRight=l("right"),m.isOpenRight=function(){return g("right").isOpen()},m.selectedTab=0,m.changeTab=function(){2===m.selectedTab?m.selectedTab=0:m.selectedTab++},m.items=["item1","item2","item3"],m.animationsEnabled=!0,m.open=function(a,e,f,g){console.log(f),b.toMerge=a,b.toMergeCreative=f;var h=c.open({animation:m.animationsEnabled,templateUrl:"creative.html",controller:"ModalInstanceCtrl",size:g,resolve:{items:function(){return e}}});h.result.then(function(a){m.selected=a},function(){d.info("Modal dismissed at: "+new Date)})},m.openCreative=function(a,e){console.log(a),b.toMergeCreative=a;var f=c.open({animation:m.animationsEnabled,templateUrl:"preview.html",controller:"ModalInstanceCtrl",size:e,resolve:{items:function(){return a}}});f.result.then(function(a){m.selected=a},function(){d.info("Modal dismissed at: "+new Date)})},m.openToggle=function(b,c,d,e){console.log(b),console.log(c),a.items=b},a.request=function(a){console.log(a),console.log(a),e["delete"]({id:updated._id},function(){console.log("Campaign deleted"),e.save(updated).$promise.then(function(){i.success("Campaign info saved successfully","Success")})})},m.openChat=function(a,e,f,g){console.log(a),b.toMerge=a;var h=c.open({animation:m.animationsEnabled,templateUrl:"chat.html",controller:"ChatInstanceCtrl",size:g,resolve:{items:function(){return e}}});h.result.then(function(a){m.selected=a},function(){d.info("Modal dismissed at: "+new Date)})},m.toggleAnimation=function(){m.animationsEnabled=!m.animationsEnabled},m.cmp={},m.campaignStatusLov=e.status,m.campaignStatus=[{name:"",val:402},{name:"Approved",val:305},{name:"Reject",val:500}],m.campaignStatusCreativeAdded=[{name:"Completed",val:309}],m.campaigns=e.pub.query({},function(a){var b=a.length;a.totalCampaign=b,console.log(b),h.finish("campaigns")});var o={};o.where={$and:[{"items.uid":b.user.email},{"items.status.name":"New"}]},m.campaignsPending=e.pub.query(o,function(a){var b=a.length;a.totalCampaign=b,console.log(b),h.finish("campaigns")});var p={};p.where={$and:[{"items.uid":b.user.email},{startDate:{$gt:Date.now()}},{"items.status.name":"Approved"}]},m.campaignsScheduled=e.pub.query(p,function(a){var b=a.length;a.totalCampaign=b,console.log(b),h.finish("campaigns")});var q={};q.where={$and:[{"items.uid":b.user.email},{startDate:{$lt:Date.now()}},{endDate:{$gt:Date.now()}},{"items.status.name":"Approved"}]},m.campaignsRunning=e.pub.query(q,function(a){var b=a.length;a.totalCampaign=b,console.log(b),h.finish("campaigns")});var r={};r.where={$and:[{"items.uid":b.user.email},{endDate:{$lt:Date.now()}},{"items.status.name":"Approved"}]},m.campaignsCompleted=e.pub.query(r,function(a){var b=a.length;a.totalCampaign=b,console.log(b),h.finish("campaigns")}),m.items=e.pub.query({},function(a){for(var b=0,c=0;c<a.length;c++){var d=new Date(a[c].campaignDate);a[c].date={d:d.getDate(),m:n[d.getMonth()],y:d.getFullYear()},b=0;for(var e=a[c],f=0;f<e.items.length;f++){var g=e.items[f].price,i=e.items[f].quantity;b+=g*i}}a.total=b,h.finish("vm.items")});var s={};s.where={$and:[{"items.uid":b.user.email},{"items.status.name":"New"}]},m.mainGridOptions={dataSource:{transport:{read:function(a){e.pub.query(s,function(b){a.success(b)})}},pageSize:10,serverPaging:!0,serverSorting:!0},toolbar:["excel","pdf"],excel:{allPages:!0,proxyURL:"//demos.telerik.com/kendo-ui/service/export",fileName:"Mediabox-campaigns.xlsx",filterable:!0},pdf:{allPages:!0,avoidLinks:!0,paperSize:"A4",margin:{top:"2cm",left:"1cm",right:"1cm",bottom:"1cm"},landscape:!0,repeatHeaders:!0,template:$("#page-template").html(),scale:.8},sortable:!0,pageable:!0,filterable:!0,dataBound:function(){this.expandRow(this.tbody.find("tr.k-master-row").first())},columns:[{field:"campaignNo",title:"Campaign ID"},{field:"campaignName",title:"Campaign Name"},{field:"startDate",title:"Start Date",type:"datetime",template:"#=  (startDate == null)? '' : kendo.toString(kendo.parseDate(startDate, 'yyyy-MM-dd'), 'MM/dd/yy') #"},{field:"endDate",title:"End Date",type:"datetime",template:"#=  (endDate == null)? '' : kendo.toString(kendo.parseDate(endDate, 'yyyy-MM-dd'), 'MM/dd/yy') #"},{field:"totalSpend",title:"Total"},{field:"items[0].status.name",title:"Status"}]},m.detailGridOptions=function(a){return m.dataItem=a,m.uCampaign=a,console.log(m.dataItem),{dataSource:{filter:{field:"id",operator:"eq",value:a.id},transport:{read:function(c){var d={};d.where={$and:[{"items.uid":b.user.email},{"items.status.name":"New"}]},e.pub.query(d,function(b){for(var d=0,e=b.length,f=0;f<b.length;f++){d=0;for(var g=b[f],h=0;h<g.items.length;h++){var i={campaignNo:g.campaignNo,dateBooked:g.campaignDate,id:g._id,advertiser:g.items[h].advertiser,creative:g.items[h].creative,category:g.items[h].category,image:g.items[h].image,messages:g.items[h].messages,mrp:g.items[h].mrp,name:g.items[h].name,price:g.items[h].price,publisher:g.items[h].publisher,quantity:g.items[h].quantity,request:g.items[h].request,size:g.items[h].size,sku:g.items[h].sku,status:g.items[h].status,email:g.items[h].uid},j=g.items[h].price,k=g.items[h].quantity;d+=j*k,b.totalSpend=d,m.itemsGrid.push(i)}}b.total=d,b.totalCampaign=e;for(var l=[],h=0;h<m.itemsGrid.length;h++){var g=m.itemsGrid[h];g.campaignNo==a.campaignNo&&l.push(g),c.success(l),console.log(l),m.data=[]}m.itemsGrid=[]})}},serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:5,filterable:!0},scrollable:!1,sortable:!0,pageable:!0,columns:[{field:"publisher",title:"Publisher",width:"100px"},{field:"name",title:"Name",width:"70px"},{field:"price",title:"Price",width:"50px",template:function(a){return"<div><span style='display:inline-block;width:75%;text-align:left;white-space:nowrap;'>$"+a.price+"</span></div>"}},{field:"quantity",title:"Quantity",width:"50px"},{field:"creative",title:"Creative",width:"50px",template:function(a){return'<div ng-hide="dataItem.creative"><button  class="btn btn-danger"  ng-click="vm.openCreative(dataItem,\'md\')" ><i class="fa fa-image"></i><span class="glyphicon glyphicon-upload"></span></button></div></div><div ng-show="dataItem.creative"><button  class="btn btn-success"  ng-click="vm.openCreative(dataItem,\'md\')" ><i class="fa fa-image"></i><span class="glyphicon glyphicon-upload"></span></button></div></div>'}},{field:"status.name",title:"Status",width:"40px",template:function(a){return'<div ng-show= "dataItem.status.val==\'305\'" class="alert alert-success"><small>Approved</small></div><div  ng-show = "dataItem.status.val==\'402\'" class="alert alert-danger" ><small>Pending<small></div><div  ng-show = "dataItem.status.val==\'300\'" class="alert alert-success" ><small>Ready</small> </div><div  ng-show = "dataItem.status.val==\'500\'" class="alert alert-danger" ><small>Rejected</small> </div><div  ng-show = "dataItem.status.val==\'309\'" class="alert alert-success" ><small>Completed</small> </div>'}},{title:"Action",width:"50px",template:function(a){return'<div  ng-if = "dataItem.status.val==\'402\'"><select ng-model="dataItem.status" ng-options="p.name for p in vm.campaignStatus track by p.val" ng-change="vm.action(dataItem)" class="k-select" style="max-width: 150px"></select></div><div  ng-show = "!dataItem.status.val==\'402\'" ><select ng-model="dataItem.status" ng-options="p.name for p in vm.campaignStatusCreativeAdded track by p.val" ng-change="vm.action(o)" class="k-select"  style="max-width: 150px"></select></div>'}}]}},m.getTotal=function(a){for(var b=0,c=0;c<a.items.length;c++){var d=a.items[c].price,e=a.items[c].quantity;b+=d*e}return b},m.action=function(a){a&&(console.log(m.uCampaign._id),console.log(a),e.update({id:m.uCampaign._id},a).$promise.then(function(a){i.success("Campaign has been Approved","Success")},function(a){if(a.data.errors){var b=a.data.errors;i.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;i.error(c)}}))},m.changeStatus=function(a){e.update({id:a._id},a).$promise.then(function(a){},function(a){if(a.data.errors){var b=a.data.errors;i.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;i.error(c)}})}}]).controller("ChatInstanceCtrl",["$scope","$rootScope","Auth","User","$cookieStore","MockMessagesService","Campaign","$modalInstance","toastr","items",function(a,b,c,d,e,f,g,h,i,j){b.toMerge;e.get("token")&&(a.currentUser=d.get()),a.items=j,a.items.creative={},a.selected={item:a.items[0]},a.messages=j.messages,a.sendMessage=function(a){j.messages.push(a);var c=_.merge(b.toMerge,j);g["delete"]({id:c._id},function(){g.save(c).$promise.then(function(){i.success("Campaign info saved successfully","Success")})})},a.$on("simple-chat-message-posted",function(){}),a.ok=function(b){h.close(a.selected.item)},a.cancel=function(){h.dismiss("cancel")}}]).filter("timelogGroupingFilter",function(){return function(a,b,c){function d(a,b,c){for(var d=0;d<a.length;d++)if(a[d].date==c)return a[d].logtimes.push(b),!0;return!1}function e(a,b,c){a.push({date:c,item:[b]})}if(!(a instanceof Array))return a;if(0==a.length)return a;var f=[],g=[],h=0;for(h=0;h<a.length;h++)0==h||b(a[h],a[h-1])?g.push(a[h]):(f.push({id:c(a[h-1]),items:g}),g=[a[h]]);f.push({id:c(a[a.length-1]),items:g});var i=function(a){return moment(a.logdate).format("YYYY-MM-DD")},j=function(a){for(var b=[],c=0;c<a.length;c++){var f=a[c],g=i(f),h=d(b,f,g);(0==b.length||0==h)&&e(b,f,g)}return{campaigns:b}};for(h=0;h<f.length;h++){var k=j(f[h].items);f[h].data=k.item_list,f[h].$$hashKey=h}return f}}),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("media",{title:"Campaigns created  in recent past",url:"/media",templateUrl:"app/media/media.html",authenticate:!0})}]),angular.module("shopnxApp").controller("OrderCtrl",["$scope","Order","toastr","$loading",function(a,b,c,d){
var e=this;e.itemsGrid=[],d.start("orders"),a.orderStatusLov=b.status,a.orders=b.my.query({},function(a){for(var b=0,c=0;c<a.length;c++){for(var e=a[c],f=0;f<e.items.length;f++){var g=e.items[f].price,h=e.items[f].quantity;b+=g*h}console.log(b),d.finish("orders")}d.finish("orders"),a.total=b}),e.mainGridOptions={dataSource:{transport:{read:function(a){b.my.query(function(b){a.success(b),console.log(b)})}},pageSize:10,serverPaging:!0,serverSorting:!0},toolbar:["excel","pdf"],excel:{allPages:!0,proxyURL:"//demos.telerik.com/kendo-ui/service/export",fileName:"Mediabox-Orders.xlsx",filterable:!0},pdf:{allPages:!0,avoidLinks:!0,paperSize:"A4",margin:{top:"2cm",left:"1cm",right:"1cm",bottom:"1cm"},landscape:!0,repeatHeaders:!0,template:$("#page-template").html(),scale:.8},sortable:!0,pageable:!0,filterable:!0,dataBound:function(){this.expandRow(this.tbody.find("tr.k-master-row").first())},columns:[{field:"orderNo",title:"Order Number"},{field:"orderDate",title:" Date",type:"datetime",template:"#=  (orderDate == null)? '' : kendo.toString(kendo.parseDate(orderDate, 'yyyy-MM-dd'), 'MM/dd/yy') #"},{field:"status.name",title:"Status"},{field:"payment",title:"Payment"},{field:"totalSpend",title:"Total"}]},e.detailGridOptions=function(a){return{dataSource:{transport:{read:function(c){b.my.query({},function(b){for(var d=0,f=b.length,g=0;g<b.length;g++){d=0;for(var h=b[g],i=0;i<h.items.length;i++){var j={orderNo:h.orderNo,id:h.items[i]._id,advertiser:h.items[i].advertiser,category:h.items[i].category,mrp:h.items[i].mrp,name:h.items[i].name,price:h.items[i].price,publisher:h.items[i].publisher,quantity:h.items[i].quantity,size:h.items[i].size,sku:h.items[i].sku,uid:h.items[i].uid},k=h.items[i].price,l=h.items[i].quantity;d+=k*l,b.totalSpend=d,e.itemsGrid.push(j)}}b.total=d,b.totalOrder=f;for(var m=[],i=0;i<e.itemsGrid.length;i++){var h=e.itemsGrid[i];h.orderNo==a.orderNo&&m.push(h),c.success(m),e.data=[]}e.itemsGrid=[]})}},serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:5,filter:{field:"orderNo",operator:"eq",value:a.orderNo}},scrollable:!1,sortable:!0,pageable:!0,columns:[{field:"orderNo",title:"Order #",width:"50px"},{field:"publisher",title:"Publisher",width:"100px"},{field:"category",title:"Category",width:"100px"},{field:"name",title:"Name",width:"100px"},{field:"price",title:"Price",width:"50px"},{field:"quantity",title:"Quantity",width:"50px"}]}},a.getTotal=function(a){for(var b=0,c=0;c<a.items.length;c++){var d=a.items[c].price,e=a.items[c].quantity;b+=d*e}return b},console.log(a.orders),a.changeStatus=function(a){b.update({id:a._id},a).$promise.then(function(a){console.log(a)},function(a){if(console.log(a),a.data.errors){var b=a.data.errors;c.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var d=a.data.message;c.error(d)}})}}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("order",{title:"Orders placed in recent past",url:"/order",templateUrl:"app/order/order.html",controller:"OrderCtrl",authenticate:!0})}]),angular.module("shopnxApp").controller("PaymentMethodCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("paymentMethod",{title:"Define payment Methods",url:"/paymentMethod",templateUrl:"app/paymentMethod/paymentMethod.html",controller:"PaymentMethodCtrl"})}]),angular.module("shopnxApp").controller("ProductCtrl",["$scope","socket","Product","Category","Brand","Statistic","Feature","Modal","toastr","$loading","Settings",function(a,b,c,d,e,f,g,h,i,j,k){var l=[{heading:"sku",dataType:"text",sortType:"lowercase"},{heading:"name",dataType:"text",sortType:"lowercase"},{heading:"info",dataType:"text",sortType:"lowercase"}];a.file={},a.products=[],a.product={},a.variant={},a.stats={},a.feature={},a.newStats={},a.newFeature={},a.newKF={},a.product.logo=[],a.product.stats=[],a.product.variants=[],a.product.features=[],a.product.keyFeatures=[],a.features=g.query(),a.statistics=f.query(),a.executionDetails=[{key:"Booking Deadline",val:"0.0"},{key:"Onshelf Date",val:"0.0"},{key:"ArtWork Submission",val:"0.0"}],j.start("products"),a.products=c.pub.query({},function(){j.finish("products"),b.syncUpdates("product",a.products)}),a.categories=d.query(function(){b.syncUpdates("category",a.categories)}),a.brands=e.query(function(){b.syncUpdates("brand",a.brands)}),a.edit=function(a){var b;b=a.name?"Editing "+a.name:"Add New",h.show(a,{title:b,api:"Product",columns:l})},a["delete"]=function(a){confirm("Are you sure to delete the product?")&&c["delete"]({id:a._id})},a.preview=function(a){console.log(a)},a.save=function(b){console.log(b),a.product=b,"variants"in a.product||(a.product.variants=[]),"keyFeatures"in a.product||(a.product.keyFeatures=[]),"features"in a.product||(a.product.features=[]),"stats"in a.product||(a.product.features=[]),"name"in a.variant&&a.product.variants.push(a.variant),"val"in a.newKF&&(a.product.keyFeatures.push(a.newKF),console.log(a.product.keyFeatures)),"key"in a.newFeature&&a.product.features.push(a.newFeature),"key"in a.newStats&&(console.log(a.newStats),a.product.stats.push(a.newStats)),"_id"in b?c["delete"]({id:b._id},function(){console.log("product deleted"),c.save(a.product).$promise.then(function(){i.success("Product info saved successfully","Success")})}):c.save(a.product).$promise.then(function(){i.success("Product info saved successfully","Success")},function(a){var b=a.data.errors;i.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}),a.variant={},a.newKF={},a.newFeature={},a.newStats={}},a.changeActive=function(a){a.active=!a.active,c.update({id:a._id},a).$promise.then(function(){},function(b){i.error(b.statusText+" ("+b.status+")"),a.active=!a.active})},a.deleteFeature=function(b,c){a.product.features.splice(b,1),a.save(c)},a.deleteKF=function(b,c){a.product.keyFeatures.splice(b,1),a.save(c)},a.deleteStats=function(b,c){a.product.stats.splice(b,1),a.save(c)},a.deleteVariants=function(b,c){a.product.variants.splice(b,1),a.save(c)},a.productDetail=function(b){b?a.product=b:a.product={}}}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("product",{title:"Products administration (Add, Remove, Edit)",url:"/product",templateUrl:"app/product/product.html",controller:"ProductCtrl",authenticate:!0})}]),angular.module("shopnxApp").controller("ProfileCtrl",["$scope","socket","Users","Product","Category","Brand","Statistic","Feature","Modal","toastr","$loading","Settings",function(a,b,c,d,e,f,g,h,i,j,k,l){a.save=function(b){console.log(b),a.user=b,"_id"in b&&c.update({id:b._id},b).$promise.then(function(a){console.log(a),j.success("Profile info saved successfully","Success")},function(a){console.log(a);var b=a.data.errors;j.error(b[Object.keys(b)].message,b[Object.keys(b)].name)})},a.changeActive=function(a){a.active=!a.active,d.update({id:a._id},a).$promise.then(function(){},function(b){j.error(b.statusText+" ("+b.status+")"),a.active=!a.active})},a.profileDetail=function(b){b?a.profile=b:a.profile={}}}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("profile",{title:"MediaBox Profile",url:"/profile",templateUrl:"app/profile/profile.html",controller:"ProfileCtrl",authenticate:!0})}]),angular.module("shopnxApp").controller("PubOrderCtrl",["$scope","Order","User","toastr","$loading",function(a,b,c,d,e){var f=this;f.itemsGrid=[],e.start("orders"),a.orderStatusLov=b.status,a.orders=b.pub.query({},function(a){for(var b=0,c=0;c<a.length;c++){for(var d=a[c],f=0;f<d.items.length;f++){var g=d.items[f].price,h=d.items[f].quantity;b+=g*h}console.log(b),e.finish("orders")}e.finish("orders"),a.total=b}),a.getTotal=function(a){for(var b=0,c=0;c<a.items.length;c++){var d=a.items[c].price,e=a.items[c].quantity;b+=d*e}return b},f.mainGridOptions={dataSource:{transport:{read:function(a){b.pub.query(function(b){a.success(b),console.log(b)})}},pageSize:10,serverPaging:!0,serverSorting:!0},toolbar:["excel","pdf"],excel:{allPages:!0,proxyURL:"//demos.telerik.com/kendo-ui/service/export",fileName:"Mediabox-Orders.xlsx",filterable:!0},pdf:{allPages:!0,avoidLinks:!0,paperSize:"A4",margin:{top:"2cm",left:"1cm",right:"1cm",bottom:"1cm"},landscape:!0,repeatHeaders:!0,template:$("#page-template").html(),scale:.8},sortable:!0,pageable:!0,filterable:!0,dataBound:function(){this.expandRow(this.tbody.find("tr.k-master-row").first())},columns:[{field:"orderNo",title:"Order Number"},{field:"orderDate",title:" Date",type:"datetime",template:"#=  (orderDate == null)? '' : kendo.toString(kendo.parseDate(orderDate, 'yyyy-MM-dd'), 'MM/dd/yy') #"},{field:"status.name",title:"Status"},{field:"payment",title:"Payment"},{field:"totalSpend",title:"Total"}]},f.detailGridOptions=function(c){return a.dataItem=c,console.log(a.dataItem),{dataSource:{transport:{read:function(a){b.pub.query({},function(b){for(var d=0,e=b.length,g=0;g<b.length;g++){d=0;for(var h=b[g],i=0;i<h.items.length;i++){var j={orderNo:h.orderNo,id:h.items[i]._id,advertiser:h.uid,category:h.items[i].category,mrp:h.items[i].mrp,name:h.items[i].name,price:h.items[i].price,publisher:h.items[i].publisher,quantity:h.items[i].quantity,size:h.items[i].size,sku:h.items[i].sku,uid:h.items[i].uid},k=h.items[i].price,l=h.items[i].quantity;d+=k*l,b.totalSpend=d,f.itemsGrid.push(j)}}b.total=d,b.totalOrder=e;for(var m=[],i=0;i<f.itemsGrid.length;i++){var h=f.itemsGrid[i];h.orderNo==c.orderNo&&m.push(h),a.success(m),f.data=[]}f.itemsGrid=[]})}},serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:5,filter:{field:"orderNo",operator:"eq",value:c.orderNo}},scrollable:!1,sortable:!0,pageable:!0,columns:[{field:"orderNo",title:"Order #",width:"50px"},{field:"advertiser",title:"Advertiser",width:"100px"},{field:"name",title:"Name",width:"100px"},{field:"price",title:"Price",width:"50px"},{field:"quantity",title:"Quantity",width:"50px"}]}},a.getUser=function(a){var b=0;return b},console.log(a.orders),a.changeStatus=function(a){b.update({id:a._id},a).$promise.then(function(a){console.log(a)},function(a){if(console.log(a),a.data.errors){var b=a.data.errors;d.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;d.error(c)}})}}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("puborder",{title:"Orders placed in recent past",url:"/puborder",templateUrl:"app/puborder/puborder.html",controller:"PubOrderCtrl",authenticate:!0})}]),function(){angular.module("shopnxApp").constant("Settings",{demo:!0,menu:{pages:[{text:"Books",icon:"book",url:"book",authenticate:!0},{text:"Movies",icon:"movie",url:"movie",authenticate:!0},{text:"Contacts",icon:"contacts",url:"contact",authenticate:!0},{text:"Customers",icon:"people",url:"customer",authenticate:!0},{text:"Tasks",icon:"assignment",url:"task",authenticate:!0},{text:"Documentation",icon:"description",url:"documentation"}],auth:[{text:"login",icon:"login",url:"login"},{text:"signup",icon:"login",url:"signup"}],admin:[{text:"Change Password",icon:"settings",url:"settings"},{text:"logout",icon:"logout",url:"logout"}]}})}(),angular.module("shopnxApp").controller("ShippingCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("shipping",{title:"Shipping Settings",url:"/shipping",templateUrl:"app/shipping/shipping.html",controller:"ShippingCtrl"})}]),angular.module("shopnxApp").controller("ShopCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("shop",{url:"/shop",templateUrl:"app/shop/shop.html",controller:"ShopCtrl"})}]),angular.module("shopnxApp").value("redirectToUrlAfterLogin",{url:"/"}).factory("Auth",["$location","$rootScope","$http","User","$cookieStore","$q","redirectToUrlAfterLogin",function(a,b,c,d,e,f,g){var h={};return e.get("token")&&(h=d.get()),{login:function(a,b){var g=b||angular.noop,i=f.defer();return c.post("/auth/local",{email:a.email,password:a.password}).success(function(a){return e.put("token",a.token),h=d.get(),i.resolve(a),g()}).error(function(a){return this.logout(),i.reject(a),g(a)}.bind(this)),i.promise},logout:function(){e.remove("token"),h={}},saveAttemptUrl:function(){"/login"!==a.path().toLowerCase()||"/signup"!==a.path().toLowerCase()?g.url=a.path():g.url="/"},redirectToAttemptedUrl:function(){a.path(g.url)},redirectToAttemptedAdminUrl:function(){a.path("/media")},createUser:function(a,b){var c=b||angular.noop;return d.save(a,function(b){return e.put("token",b.token),h=d.get(),c(a)},function(a){return this.logout(),c(a)}.bind(this)).$promise},changePassword:function(a,b,c){var e=c||angular.noop;return d.changePassword({id:h._id},{oldPassword:a,newPassword:b},function(a){return e(a)},function(a){return e(a)}).$promise},getCurrentUser:function(){return h},isLoggedIn:function(){return h.hasOwnProperty("role")},isLoggedInAsync:function(a){h.hasOwnProperty("$promise")?h.$promise.then(function(){a(!0)})["catch"](function(){a(!1)}):a(h.hasOwnProperty("role")?!0:!1)},isAdmin:function(){return"admin"===h.role},getToken:function(){return e.get("token")}}}]),angular.module("shopnxApp").factory("User",["$resource",function(a){return a("/api/users/:id/:controller",{id:"@_id"},{changePassword:{method:"PUT",params:{controller:"password"}},get:{method:"GET",params:{id:"me"}}})}]),angular.module("shopnxApp").factory("Modal",["$rootScope","$modal",function(a,b){var c={},d=function(a,b,c,d,e,f,g){var h=c.get(e.api);a.data=angular.copy(d),a.options=e,a.saveItem=function(c){if(a.data._id)h.update({id:a.data._id},a.data).$promise.then(function(){},function(a){if(a.data.errors){var b=a.data.errors;f.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;f.error(c)}});else{if(angular.equals({},a.data))return f.warning("Nothing to save"),void b.close(c);h.save(a.data).$promise.then(function(){},function(a){if(a.data.errors){var b=a.data.errors;f.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;f.error(c)}})}b.close(c)},a.cancel=function(){b.dismiss("cancel")}};return d.$inject=["$scope","$modalInstance","$injector","data","options","toastr","Settings"],c.show=function(a,c){var e={templateUrl:"components/modal/modal.html",controller:d,controllerAs:"modal",size:"md",windowClass:"modal-danger",resolve:{data:function(){return a},options:function(){return c}}};b.open(e)},c}]),angular.module("shopnxApp").directive("mongooseError",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){b.on("keydown",function(){return d.$setValidity("mongoose",!0)})}}}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(jQuery),+function(a){var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){f.trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(jQuery),+function(a){var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.isLoading=!1};b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",f.resetText||d.data("resetText",d[e]()),d[e](f[b]||this.options[b]),setTimeout(a.proxy(function(){"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},b.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}a&&this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()})}(jQuery),+function(a){var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){return this.sliding?void 0:this.slide("next")},b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}if(e.hasClass("active"))return this.sliding=!1;var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});return this.$element.trigger(j),j.isDefaultPrevented()?void 0:(this.sliding=!0,f&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")?(e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*d.css("transition-duration").slice(0,-1))):(d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),f&&this.cycle(),this)};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=d.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(jQuery),+function(a){var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("collapse in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?void this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);!e&&f.toggle&&"show"==c&&(c=!c),e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":d.data(),i=d.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(d).addClass("collapsed"),d[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)})}(jQuery),+function(a){function b(b){a(d).remove(),a(e).each(function(){var d=c(a(this)),e={relatedTarget:this};d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown",e)),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown",e))})}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}var d=".dropdown-backdrop",e="[data-toggle=dropdown]",f=function(b){a(b).on("click.bs.dropdown",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown",h),e.focus()}return!1}},f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var f=c(d),g=f.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&f.find(e).focus(),d.click();var h=" li:not(.divider):visible a",i=f.find("[role=menu]"+h+", [role=listbox]"+h);if(i.length){var j=i.index(i.filter(":focus"));38==b.keyCode&&j>0&&j--,40==b.keyCode&&j<i.length-1&&j++,~j||(j=0),i.eq(j).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new f(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=f,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,f.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu], [role=listbox]",f.prototype.keydown)}(jQuery),+function(a){var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show().scrollTop(0),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());c.is("a")&&b.preventDefault(),e.modal(f,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(jQuery),+function(a){var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this,d=this.tip();this.setContent(),this.options.animation&&d.addClass("fade");var e="function"==typeof this.options.placement?this.options.placement.call(this,d[0],this.$element[0]):this.options.placement,f=/\s?auto?\s?/i,g=f.test(e);g&&(e=e.replace(f,"")||"top"),d.detach().css({top:0,left:0,display:"block"}).addClass(e),this.options.container?d.appendTo(this.options.container):d.insertAfter(this.$element);
var h=this.getPosition(),i=d[0].offsetWidth,j=d[0].offsetHeight;if(g){var k=this.$element.parent(),l=e,m=document.documentElement.scrollTop||document.body.scrollTop,n="body"==this.options.container?window.innerWidth:k.outerWidth(),o="body"==this.options.container?window.innerHeight:k.outerHeight(),p="body"==this.options.container?0:k.offset().left;e="bottom"==e&&h.top+h.height+j-m>o?"top":"top"==e&&h.top-m-j<0?"bottom":"right"==e&&h.right+i>n?"left":"left"==e&&h.left-i<p?"right":e,d.removeClass(l).addClass(e)}var q=this.getCalculatedOffset(e,h,i,j);this.applyPlacement(q,e),this.hoverState=null;var r=function(){c.$element.trigger("shown.bs."+c.type)};a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,r).emulateTransitionEnd(150):r()}},b.prototype.applyPlacement=function(b,c){var d,e=this.tip(),f=e[0].offsetWidth,g=e[0].offsetHeight,h=parseInt(e.css("margin-top"),10),i=parseInt(e.css("margin-left"),10);isNaN(h)&&(h=0),isNaN(i)&&(i=0),b.top=b.top+h,b.left=b.left+i,a.offset.setOffset(e[0],a.extend({using:function(a){e.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),e.addClass("in");var j=e[0].offsetWidth,k=e[0].offsetHeight;if("top"==c&&k!=g&&(d=!0,b.top=b.top+g-k),/bottom|top/.test(c)){var l=0;b.left<0&&(l=-2*b.left,b.left=0,e.offset(b),j=e[0].offsetWidth,k=e[0].offsetHeight),this.replaceArrow(l-f+j,j,"left")}else this.replaceArrow(k-g,k,"top");d&&e.offset(b)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach(),c.$element.trigger("hidden.bs."+c.type)}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.hoverState=null,this)},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;(e||"destroy"!=c)&&(e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]())})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(jQuery),+function(a){var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;(e||"destroy"!=c)&&(e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]())})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(jQuery),+function(a){function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(a(c).is("body")?window:c),this.$body=a("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?"offset":"position";this.offsets=a([]),this.targets=a([]);var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);if(g&&b<=e[0])return g!=(a=f[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(jQuery),+function(a){var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),f.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(jQuery),+function(a){var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0},b.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(b.RESET).addClass("affix");var a=this.$window.scrollTop(),c=this.$element.offset();return this.pinnedOffset=c.top-a},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"top"==this.affixed&&(e.top+=d),"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top(this.$element)),"function"==typeof h&&(h=f.bottom(this.$element));var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&g>=d?"top":!1;if(this.affixed!==i){this.unpin&&this.$element.css("top","");var j="affix"+(i?"-"+i:""),k=a.Event(j+".bs.affix");this.$element.trigger(k),k.isDefaultPrevented()||(this.affixed=i,this.unpin="bottom"==i?this.getPinnedOffset():null,this.$element.removeClass(b.RESET).addClass(j).trigger(a.Event(j.replace("affix","affixed"))),"bottom"==i&&this.$element.offset({top:c-h-this.$element.height()}))}}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(jQuery),angular.module("shopnxApp").controller("NavbarCtrl",["$scope","$rootScope","$location","Auth","$modal","Cart","Category","Brand","SortOptions","$q","Product","$state",function(a,b,c,d,e,f,g,h,i,j,k,l){a.hideSubMenu=function(){},b.cart=f.cart,a.menu=[{title:"Home",link:"/"}],b.brands=h.query({active:!0}),b.sortOptions=i.server,a.isCollapsed=!0,a.isCollapsed1=!0,b.isLoggedIn=d.isLoggedIn,b.isAdmin=d.isAdmin,a.getCurrentUser=d.getCurrentUser;var m=a.getCurrentUser();console.log(m),b.user=m,b.checkCart=function(b){return _.contains(a.cart.skuArray,b)?!1:!0},b.getQuantity=function(b){for(var c=0;c<a.cart.items.length;c++)if(a.cart.items[c].sku===b)return a.cart.items[c].quantity},a.logout=function(){d.logout(),c.path("/login")},a.isActive=function(a){return a===c.path()},a.onSelectProduct=function(b){l.go("productDetail",{id:b._id,slug:b.slug},{reload:!1}),a.search=""},a.categories=g.all.query(),a.globalSearch=function(c){c=c.toLowerCase();var d=j.defer();return c?k.query({where:{nameLower:{$regex:c},active:!0},limit:10,select:{id:1,name:1,slug:1}},function(c){console.log(c),a.$$phase?d.resolve(c):b.$apply(function(){d.resolve(c)})},function(c){a.$$phase?d.reject("Server rejected with status "+c.status):b.$apply(function(){d.reject("Server rejected with status "+c.status)})}):a.$$phase?d.reject("No search query "):b.$apply(function(){d.reject("No search query ")}),d.promise},a.openCart=function(b){b=a.cart=b;var c={templateUrl:"app/cart/cart.html",controller:n,controllerAs:"modal",windowClass:"ab-modal-window",resolve:{cart:function(){return b}}};e.open(c)};var n=function(a,b,c){a.cart=c,a.cancel=function(){b.dismiss("Close")}};n.$inject=["$scope","$modalInstance","cart"]}]),angular.module("shopnxApp").factory("socket",["socketFactory",function(a){var b=io("",{path:"/socket.io-client"}),c=a({ioSocket:b});return{socket:c,syncUpdates:function(a,b,d){d=d||angular.noop,c.on(a+":save",function(a){var c=_.find(b,{_id:a._id}),e=b.indexOf(c),f="created";c?(b.splice(e,1,a),f="updated"):b.push(a),d(f,a,b)}),c.on(a+":remove",function(a){var c="deleted";_.remove(b,{_id:a._id}),d(c,a,b)})},unsyncUpdates:function(a){c.removeAllListeners(a+":save"),c.removeAllListeners(a+":remove")}}}]),angular.module("shopnxApp").run(["$templateCache",function(a){a.put("app/account/login/login.html",'<div class=container><div class=row><div class=col-md-4><div class=box><p class=lead>Already our customer?</p><p class=text-muted translate>Be a master of effiency with the all in one platform for all your advertising content.</p></div></div><div class=col-md-1></div><div class=col-md-7><div style="width: 50%"><h1>Login</h1><form ng-submit=login(form) name=form novalidate><div class=form-group><label for=email>Email</label><input type=email name=email class=form-control ng-model=user.email required placeholder="Your email id"><p class=help-block ng-show="form.email.$dirty && form.email.$error.required">Please enter your email.</p></div><div class=form-group><label for=password>Password</label><input type=password name=password class=form-control ng-model=user.password required placeholder=Password><p class=help-block ng-show="form.password.$dirty && form.password.$error.required">Please enter your password.</p></div><div class="form-group has-error"><p class=help-block ng-show="form.email.$error.required && form.password.$error.required && submitted">Please enter your email and password.</p><p class=help-block ng-show="form.email.$error.email && submitted">Please enter a valid email.</p><p class=help-block>{{ errors.other }}</p></div><div class=text-center><button class="btn btn-inverse btn-lg btn-login btn-danger" type=submit ng-disabled="form.$dirty && form.$invalid">Login</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href=/signup>Sign up</a></div></form></div></div></div><hr></div>'),a.put("app/account/settings/settings.html",'<div class=container><div class=row><div class=col-md-3></div><div class=col-md-6><div class=box><h1>Change Password</h1><form class=form name=form ng-submit=changePassword(form) novalidate><div class=form-group><label>Current Password</label><input type=password name=password class=form-control ng-model=user.oldPassword mongoose-error placeholder="Old password"><p class=help-block ng-show=form.password.$error.mongoose>{{ errors.other }}</p></div><div class=form-group><label>New Password</label><input type=password name=newPassword class=form-control ng-model=user.newPassword ng-minlength=3 required placeholder="Set a new password"><p class=help-block ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || submitted)">Password must be at least 3 characters.</p></div><p class=help-block>{{ message }}</p><button class="btn btn-lg btn-primary" type=submit>Save changes</button></form></div></div><div class=col-md-3></div></div></div>'),a.put("app/account/signup/signup.html",'<div class=container><div class=row><div class=col-md-4><div class=box><p class=lead>Not our registered customer yet?</p><p class=text-muted>If you have any questions, please feel free to <a href=/contact>contact us</a>, our customer service center is working for you 24/7.</p><hr></div></div><div class=col-md-1></div><div class=col-md-7><div style="width: 60%"><h1>New account</h1><form ng-submit=register(form) novalidate name=form><div class=form-group ng-class="{ \'has-success\': form.name.$valid && submitted,\n                                                  \'has-error\': form.name.$invalid && submitted }"><label>First Name</label><input name=name class=form-control ng-model=user.name required placeholder="Your name"><p class=help-block ng-show="form.name.$error.required && submitted">A name is required</p></div><div class=form-group ng-class="{ \'has-success\': form.lastname.$valid && submitted,\n                                                  \'has-error\': form.lastname.$invalid && submitted }"><label>Last Name</label><input name=lastname class=form-control ng-model=user.lastname required placeholder="Your last name"><p class=help-block ng-show="form.name.$error.required && submitted">A Last name is required</p></div><div class=form-group ng-class="{ \'has-success\': form.email.$valid && submitted,\n                                                  \'has-error\': form.email.$invalid && submitted }"><label>Email</label><input type=email name=email class=form-control ng-model=user.email required mongoose-error placeholder="Email ID"><p class=help-block ng-show="form.email.$error.email && submitted">Doesn\'t look like a valid email.</p><p class=help-block ng-show="form.email.$error.required && submitted">What\'s your email address?</p><p class=help-block ng-show=form.email.$error.mongoose>{{ errors.email }}</p></div><div class=form-group ng-class="{ \'has-success\': form.name.$valid && submitted,\n                                                  \'has-error\': form.name.$invalid && submitted }"><label>Phone</label><input name=phone class=form-control ng-model=user.phone required placeholder="Your Phone"><p class=help-block ng-show="form.phone.$error.required && submitted">A phone number is required</p></div><div class=form-group ng-class="{ \'has-success\': form.company.$valid && submitted,\n                                                  \'has-error\': form.company.$invalid && submitted }"><label>Company</label><input name=company class=form-control ng-model=user.company required placeholder="Your company name"><p class=help-block ng-show="form.company.$error.required && submitted">A Company name is required</p></div><div class=form-group ng-class="{ \'has-success\': form.currency.$valid && submitted,\n                                                  \'has-error\': form.currency.$invalid && submitted }"><label>Website</label><input type=url name=website class=form-control ng-model=user.website required placeholder="Your website"><p class=help-block ng-show="form.website.$error.required && submitted">A website is required</p></div><hr><div class=form-group ng-class="{ \'has-success\': form.password.$valid && submitted,\n                                                  \'has-error\': form.password.$invalid && submitted }"><label>Password</label><input type=password name=password class=form-control ng-model=user.password ng-minlength=5 required mongoose-error placeholder="Password"><p class=help-block ng-show="(form.password.$error.minlength || form.password.$error.required) && submitted">Password must be at least 5 characters.</p><p class=help-block ng-show=form.password.$error.mongoose>{{ errors.password }}</p></div><hr><div class=form-group ng-class="{ \'has-success\': form.password.$valid && submitted,\n                                                  \'has-error\': form.password.$invalid && submitted }"><label>Confirm Password</label><input ng-model=user.password_verify class=form-control type=password name=confirm_password placeholder="confirm password" required data-password-verify=user.password><div ng-show=form.confirm_password.$error.required><font style=color:red>Field required!</font></div><div ng-show=form.confirm_password.$error.passwordVerify>Password Mismatch!</div><p class=help-block ng-show="(form.password.$error.minlength || form.password.$error.required) && submitted">Password must be at least 5 characters.</p><p class=help-block ng-show=form.password.$error.mongoose>{{ errors.password }}</p><p><div class=help-block><div ng-password-strength=user.password strength=passStrength inner-class=progress-bar inner-class-prefix=progress-bar-></div><br>Password strength is <strong>{{passStrength}} %</strong></div></p></div><input type=checkbox value=admin ng-model="user.role">Publisher &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <input type=checkbox value=user ng-model="users.role">Advertiser<hr><input type=checkbox value=terms checklist-model=terms checklist-value="terms">I have read and agree with the <a href=/terms>terms and conditions</a><br><hr><div class=text-center><button type=submit class="btn btn-danger"><i class="fa fa-user-md"></i> Sign up</button> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=/login>Login</a></div></form></div></div></div><hr></div>'),a.put("app/account/signup/terms.html",'<div class=col-md-12><ul class=breadcrumb><li><a href="/">Home</a></li><li>Legal</li><li>Terms</li></ul></div><div class=col-md-2></div><div class=col-md-8><div class=box id=contact><h1>Terms and Conditions</h1>Effective Date: August 1, 2016In order to maintain a safe and trusted marketplace www.mediabox.co.zw and all related and affiliated websites (the “Site”) and to avoid use of the Site for unauthorized or unintended purposes, we require you and all other users of the Site (each, a “User”) to agree to and comply with these Terms of Use (the “Terms”). These Terms set forth the acceptable and prohibited uses of our Site .By accessing the Site or using any of the Site Services after the effective date, you agree to these Terms. You are also independently responsible for complying with all applicable laws related to your use of the Site or the Site Services whether or not covered by the Terms.1. PROHIBITED SITE USEThe uses described in these Terms are prohibited regardless of where on the Site they occur. For example, the activities are prohibited in campaign creation, proposals, in app messages, communications with customer service or disputes, the community forum, and Advertiser or Publisher feedback.1.1 ILLEGAL, FRAUDULENT, HARMFUL, OR OFFENSIVE USESYou may not use, or encourage, promote, facilitate, or instructor induce others to use, the Site or Services for any activities that violate any law, statute, ordinance or regulation; for any other illegal, fraudulent, harmful, or offensive purpose; or to transmit, store, trade ,display, distribute or otherwise make available content or material that is illegal, harmful, or offensive. Examples of prohibited uses of the Site or Site Services include:• Seeking, offering, trading ,or approving illegal, obscene, or pornographic material (i) that would violate the intellectual property rights, including copyrights, of another person, entity, service, product, or website or (ii) that would involve the creation , review, editing and trading of pornographic, erotic, obscene, or sexually explicit material;• Posting content/material that is offensive, defamatory, profane, vulgar, obscene, threatening, discriminatory, illegal, pornographic, obscene or sexually explicit in nature;• Seeking, offering, or approving any material that would violate MediaBox’s Terms of Service or the terms of service of another website or any other contractual obligations; • Seeking, offering, or approving any material that violate the academic policies of any educational institution;• Fraudulently billing or attempting to fraudulently bill any advertiser, including by (i) falsifying or manipulating or attempting to falsify or manipulate the reach /statistics (ii) reporting, or otherwise billing advertisers for campaigns that was not actually worked• Expressing a preference in a media or proposal or otherwise unlawfully discriminating on the basis of race, religion, color, national origin, ancestry, physical or mental disability, medical condition, genetic information, marital status, sex, gender, gender identity, gender expression, age, sexual orientation, military/veteran status or any basis protected by applicable law;• Posting or exchanging material that is harassing towards another person or violates the rights of a third party;• Posting identifying information concerning another person;• Making or demanding bribes;• Making or demanding payments without the intention of providing or receiving services in exchange for the payment; and• Spamming other Users.1.2 ILLEGAL, FRAUDULENT, HARMFUL, OR OFFENSIVE USESMediaBox makes the Site and Services available for advertisers and publishers to find one another, enter into service relationships, make and receive payments, receive and perform Media Trading Services. Users are expected to use the Site and Services for their intended purposes and Users may not use the Site and Services in contravention of their intended purposes. The following are examples of prohibited use of the Site: • Posting the same product/site multiple times so that more than one version remains active at a given time ;• Duplicating or sharing accounts;• Selling, trading, or giving an account to another person without MediaBox’s consent;• Soliciting or processing payment outside of MediaBox in violation of the Terms of Service;• Listing products or services that are outside or beyond the scope of the MediaBox marketplace;1.3 USING THE SITE TO POST FALSE OR MISLEADING CONTENTAll profiles, proposals, and other content/material posted to the Site must be truthful and not misleading. Here are examples of uses that are prohibited:• Misrepresenting a Publishers reach or statistics , or information;• Allowing another person to use your account, which is misleading to other Users;• Falsely stating or implying a relationship with MediaBox or with another company with whom you do not have a relationship;• Falsely stating or implying a relationship with another User, including a user continuing to use a MediaBox’s profile or information after the user no longer works with the Agency/Advertiser/Publisher;2. ENFORCEMENTWe reserve the right, but do not assume the obligation, to investigate any violation of these Terms. We may investigate violations and may remove, disable access to, or modify any content that violates these Terms. We may report any activity that we suspect violates any law or regulation to appropriate law enforcement officials, regulators, or other appropriate third parties. Our reporting may include disclosing appropriate User information. We also may cooperate with appropriate law enforcement agencies, regulators, or other appropriate third parties to help with the investigation and prosecution of illegal conduct by providing network and systems information related to alleged violations of these Terms.3. REPORTING AND CORRECTING VIOLATIONSIf you become aware of any violation of these Terms, you must immediately report it to Customer Service. You agree to assist us with any investigation we undertake and to take any remedial steps we require in order to correct a violation of these Terms.</div></div><!-- /.col-md-8 --><div class=col-md-2></div>'),a.put("app/admin/admin.html","<div class=container><p class=text-center><em>This shop settings page is restricted to users with the 'admin' role.</em></p><div class=row><div class=col-md-9></div><div class=col-md-3></div></div></div>"),a.put("app/brand/brand.html","<div class=col-md-12><crud-table api=Brand cols=[{&quot;name&quot;:&quot;text&quot;},{&quot;info&quot;:&quot;text&quot;},{&quot;image&quot;:&quot;text&quot;},{&quot;active&quot;:&quot;boolean&quot;}]></crud-table></div>"),a.put("app/campaign/campaign.html",'<div class=col-md-12 ng-controller="CampaignCtrl as vm"><h3>Campaign History</h3><div class=box><div class=row><div class=col-sm-2 style="border-right: bold"><h3>Total :<br>&nbsp;<br><div style=margin-left:30px;color:red>{{vm.campaigns.totalCampaign}}</div></h3></div><div class=col-sm-2><h3>Pending<br>&nbsp;<br><div style=margin-left:30px;color:red>{{vm.campaignsPending.totalCampaign}}</div></h3></div><div class=col-sm-2><h3>Scheduled<br>&nbsp;<br><div style=margin-left:30px;color:red>{{vm.campaignsScheduled.totalCampaign}}</div></h3></div><div class=col-sm-2><h3>Running<br>&nbsp;<br><div style=margin-left:30px;color:red>{{vm.campaignsRunning.totalCampaign}}</div></h3></div><div class=col-sm-2><h3>Completed<br>&nbsp;<br><div style=margin-left:30px;color:red>{{vm.campaignsCompleted.totalCampaign}}</div></h3></div><div class=col-sm-2></div></div></div><div><div style=margin-top:20px class=small dw-loading=campaigns dw-loading-options="{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}"></div><md-content><md-tabs md-dynamic-height md-border-bottom><md-tab label=PENDING><md-content><section><md-content><div><div class=col-md-12 ng-controller="CampaignCtrl as vm"><!-- <h3  class="bg-info well text-center">Total Spent: {{campaigns.total | currency}}</h3> --><kendo-grid options=vm.mainGridOptions><div k-detail-template><kendo-tab-strip><ul><li class=k-state-active>CAMPAIGN INFORMATION</li><li>PUBLISHER</li></ul><div><div kendo-grid k-options=vm.detailGridOptions(dataItem)></div></div><div><ul class=contact-info-form><li><label>Name:</label>{{dataItem.items[0].publisher}}</li></ul></div></kendo-tab-strip></div></kendo-grid></div></div><div flex></div></md-content><md-sidenav class="md-sidenav-right md-whiteframe-4dp" md-component-id=right><md-toolbar style=background-color:#555555><h1 class=md-toolbar-tools>Messages</h1></md-toolbar><md-content ng-controller=RightCtrl layout-padding><simple-chat messages=vm.messages local-user=vm.you send-function=vm.sendMessage send-button-text=Send show-user-avatar=true show-composer=true composer-placeholder-text="Write your message here"></simple-chat></md-content></md-sidenav></section></md-content></md-tab><md-tab label=SCHEDULED><md-content><section><md-content><div><div class=col-md-12 ng-controller="CampaignScheduledCtrl as vm"><!-- <h3  class="bg-info well text-center">Total Spent: {{campaigns.total | currency}}</h3> --><kendo-grid options=vm.mainGridOptions><div k-detail-template><kendo-tab-strip><ul><li class=k-state-active>CAMPAIGN INFORMATION</li><li>PUBLISHER</li></ul><div><div kendo-grid k-options=vm.detailGridOptions(dataItem)></div></div><div><ul class=contact-info-form><li><label>Name:</label>{{dataItem.items[0].publisher}}</li></ul></div></kendo-tab-strip></div></kendo-grid></div></div><div flex></div></md-content><md-sidenav class="md-sidenav-right md-whiteframe-4dp" md-component-id=right><md-toolbar style=background-color:#555555><h1 class=md-toolbar-tools>Preview Request</h1></md-toolbar><md-content ng-controller=RightCtrl layout-padding><form><md-datepicker ng-model=request.startDate value={{items.startDate}} md-placeholder="Start Date"></md-datepicker><br><br><md-datepicker ng-model=request.endDate value={{items.endDate}} md-placeholder="End Date"></md-datepicker><br><br><md-datepicker ng-model=request.dueDate md-placeholder="Due Date"></md-datepicker><br><br><label>Budget&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><input ng-model=request.budget value={{p.price}} type=number step=0.01><br><br><label>Objective&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><input ng-model=request.objective><br><br><label>Brief&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><textarea ng-model=request.brief cols=20 rows=3>\n						        \n						      </textarea><br><br><label>Contact Name&nbsp;&nbsp;</label><input ng-model=request.contactName><br><br><label>Contact Email&nbsp;&nbsp;</label><input ng-model=request.contactEmail></form><md-button ng-click=close();vm.request(request) class=md-primary>SClose</md-button><md-button ng-click=request(request) class=md-primary>Send Request</md-button></md-content></md-sidenav></section></md-content></md-tab><md-tab label=RUNNING><md-content><section><md-content><div><div class=col-md-12 ng-controller="CampaignRunningCtrl as vm"><!-- <h3  class="bg-info well text-center">Total Spent: {{campaigns.total | currency}}</h3> --><kendo-grid options=vm.mainGridOptions><div k-detail-template><kendo-tab-strip><ul><li class=k-state-active>CAMPAIGN INFORMATION</li><li>PUBLISHER</li></ul><div><div kendo-grid k-options=vm.detailGridOptions(dataItem)></div></div><div><ul class=contact-info-form><li><label>Name:</label>{{dataItem.items[0].publisher}}</li></ul></div></kendo-tab-strip></div></kendo-grid></div></div><div flex></div></md-content><md-sidenav class="md-sidenav-right md-whiteframe-4dp" md-component-id=right><md-toolbar style=background-color:#555555><h1 class=md-toolbar-tools>Edit Request</h1></md-toolbar><md-content ng-controller=RightCtrl layout-padding><form><md-datepicker ng-model=request.startDate value={{items.startDate}} md-placeholder="Start Date"></md-datepicker><br><br><md-datepicker ng-model=request.endDate value={{items.endDate}} md-placeholder="End Date"></md-datepicker><br><br><md-datepicker ng-model=request.dueDate md-placeholder="Due Date"></md-datepicker><br><br><label>Budget&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><input ng-model=request.budget value={{p.price}} type=number step=0.01><br><br><label>Objective&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><input ng-model=request.objective><br><br><label>Brief&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><textarea ng-model=request.brief cols=20 rows=3>\n				        \n				      </textarea><br><br><label>Contact Name&nbsp;&nbsp;</label><input ng-model=request.contactName><br><br><label>Contact Email&nbsp;&nbsp;</label><input ng-model=request.contactEmail></form><md-button ng-click=close();vm.request(request) class=md-primary>SClose</md-button><md-button ng-click=request(request) class=md-primary>Send Request</md-button></md-content></md-sidenav></section></md-content></md-tab><!--running to be inseterd gere--><md-tab label=COMPLETED><md-content><div><div class=col-md-12 ng-controller="CampaignCompletedCtrl as vm"><!-- <h3  class="bg-info well text-center">Total Spent: {{campaigns.total | currency}}</h3> --><kendo-grid options=vm.mainGridOptions><div k-detail-template><kendo-tab-strip><ul><li class=k-state-active>CAMPAIGN INFORMATION</li><li>PUBLISHER</li></ul><div><div kendo-grid k-options=vm.detailGridOptions(dataItem)></div></div><div><ul class=contact-info-form><li><label>Name:</label>{{dataItem.items[0].publisher}}</li></ul></div></kendo-tab-strip></div></kendo-grid></div></div><div flex></div></md-content><md-sidenav class="md-sidenav-right md-whiteframe-4dp" md-component-id=right><md-toolbar style=background-color:#555555><h1 class=md-toolbar-tools>Preview Request</h1></md-toolbar><md-content ng-controller=RightCtrl layout-padding><form><md-datepicker ng-model=request.startDate value={{items.startDate}} md-placeholder="Start Date"></md-datepicker><br><br><md-datepicker ng-model=request.endDate value={{items.endDate}} md-placeholder="End Date"></md-datepicker><br><br><md-datepicker ng-model=request.dueDate md-placeholder="Due Date"></md-datepicker><br><br><label>Budget&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><input ng-model=request.budget value={{p.price}} type=number step=0.01><br><br><label>Objective&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><input ng-model=request.objective><br><br><label>Brief&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><textarea ng-model=request.brief cols=20 rows=3>\n					        \n					      </textarea><br><br><label>Contact Name&nbsp;&nbsp;</label><input ng-model=request.contactName><br><br><label>Contact Email&nbsp;&nbsp;</label><input ng-model=request.contactEmail></form><md-button ng-click=close();vm.request(request) class=md-primary>SClose</md-button><md-button ng-click=request(request) class=md-primary>Send Request</md-button></md-content></md-sidenav></md-tab></md-tabs></md-content></div></div><script>/*\n            This demo renders the grid in "DejaVu Sans" font family, which is\n            declared in kendo.common.css. It also declares the paths to the\n            fonts below using <tt>kendo.pdf.defineFont</tt>, because the\n            stylesheet is hosted on a different domain.\n        */\n        kendo.pdf.defineFont({\n            "DejaVu Sans"             : "//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans.ttf",\n            "DejaVu Sans|Bold"        : "//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Bold.ttf",\n            "DejaVu Sans|Bold|Italic" : "//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf",\n            "DejaVu Sans|Italic"      : "//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf"\n        });</script><script type=text/x-kendo-template id=template><div class="toolbar">\n                    <label class="category-label" for="category">Show products by category:</label>\n                    <input type="search" id="category" style="width: 150px"/>\n                </div></script><script type=x/kendo-template id=page-template><div class="page-template">\n        <div class="header">\n          <div style="float: right">Page #: pageNum # of #: totalPages #</div>\n          A Taste for convinience\n        </div>\n        <div class="watermark">MEDIABOX</div>\n        <div class="footer">\n          Page #: pageNum # of #: totalPages #\n        </div>\n      </div></script>'),
a.put("app/campaign/creative.html",'<div class=modal-header><h3 class=modal-title>I\'m a modal!</h3></div><div class=modal-body>Selected: <b>{{ selected.item }}</b></div><div class=modal-footer><button class="btn btn-primary" type=button ng-click=ok()>OK</button> <button class="btn btn-warning" type=button ng-click=cancel()>Cancel</button></div>'),a.put("app/campaign/myModalContent.html",'<div class=modal-header><h3 class=modal-title>I\'m a modal!</h3></div><div class=modal-body>Selected: <b>{{ selected.item }}</b></div><div class=modal-footer><button class="btn btn-primary" type=button ng-click=ok()>OK</button> <button class="btn btn-warning" type=button ng-click=cancel()>Cancel</button></div>'),a.put("app/campaign/templates/myModalContent.html",'<div class=modal-header><h3 class=modal-title>I\'m a modal!</h3></div><div class=modal-body><ul><li ng-repeat="item in items"><a href=# ng-click="$event.preventDefault(); selected.item = item">{{ item }}</a></li></ul>Selected: <b>{{ selected.item }}</b></div><div class=modal-footer><button class="btn btn-primary" type=button ng-click=ok()>OK</button> <button class="btn btn-warning" type=button ng-click=cancel()>Cancel</button></div>'),a.put("app/cart/cart.html",'<style>/*td{padding: 0 5px;}*/</style><button type=button class=close ng-click=cancel();><i class="fa fa-times-circle-o" style=margin:10px;color:blue></i></button><div class=modal-header><h3 class=modal-title>MediaCart Details</h3>Total Amount: {{cart.getTotalPrice() | currency}} - ({{cart.getTotalCount()}} items)</div><div class=modal-body><div class=actions-continue><button class="btn btn-default pull-left" ng-click=cart.clearItems(); ng-disabled="cart.getTotalCount() <= 0">Clear MediaCart</button> <input placeholder="Filter Cart" class="form-control col-md-4" style=width:200px;margin-left:20px ng-model=filterCart autofocus><div ng-hide=cart.products><button value="Configure Campaign →" name=proceed class="btn btn-danger pull-right" onclick="window.location.href=\'/newcampaign\'" ng-disabled="cart.getTotalCount() <= 0" ng-click=cancel();>Configure Campaign →</button></div><div ng-show=cart.products><button value="Checkout →" name=proceed class="btn btn-danger pull-right" onclick="window.location.href=\'/checkout\'" ng-disabled="cart.getTotalCount() <= 0" ng-click=cancel();>Checkout →</button></div><div class=clearfix></div></div><br><table class="cart table table-striped"><thead><tr><th>#</th><th></th><th>Product</th><th>Price</th><th>Inserts</th><th>Total</th><th>Remove</th></tr></thead><tbody><!-- empty cart message --><tr ng-hide="cart.getTotalCount() > 0"><td class=tdCenter colspan=7>Your MediaCart is empty. &nbsp;&nbsp;<a class="btn btn-primary" href="/" ng-click=cancel();>Build Campaign</a></td></tr><tr ng-repeat="item in cart.items | filter: filterCart"><td>{{$index+1}}</td><td class=product-thumbnail><a><img data-ng-src=data:image/png;base64,{{item.image}} alt={{item.publisher}} style="width: 100px"></a></td><td class=product-name>{{item.name}}</td><td>{{item.price | currency}}</td><td><div class=input-group style=width:105px><div class="input-group-addon btn" ng-disabled="item.quantity <= 1" ng-click="cart.addItem({sku:item.sku, name:item.name, slug:item.slug, mrp:item.mrp, price:item.price}, -1)">-</div><input class=form-control min=1 step=1 ng-model=item.quantity ng-change=cart.saveItems()><div class="input-group-addon btn" ng-disabled="item.quantity >= 1000" ng-click="cart.addItem({sku:item.sku, name:item.name, slug:item.slug, mrp:item.mrp, price:item.price}, +1)">+</div></div></td><td><span><strong>{{item.price * item.quantity | currency}}</strong></span></td><td class=product-actions><a title="Remove this item" class=remove href="" ng-click="cart.addItem({sku:item.sku}, -10000000)"><i class="fa fa-times"></i></a></td></tr></tbody></table></div>'),a.put("app/category/category.html","<div class=col-md-12><crud-table api=Category cols=[{&quot;name&quot;:&quot;text&quot;},{&quot;info&quot;:&quot;text&quot;},{&quot;category&quot;:&quot;number&quot;},{&quot;parentCategory&quot;:&quot;number&quot;},{&quot;active&quot;:&quot;boolean&quot;}]></crud-table></div>"),a.put("app/checkout/checkout.html",'<div class=col-md-12><ul class=breadcrumb><li><a href="/">Home</a></li><li>Checkout</li></ul></div><div class=col-md-7 id=checkout><div class=box><form name=checkout_form class=form-horizontal role=form novalidate ng-show="cart.getTotalCount() > 0"><ul class="nav nav-pills nav-justified"><li class="active disabled"><a href=#><i class="fa fa-map-marker"></i><br>Address</a></li><!-- <li class="active disabled"><a href="#"><i class="fa fa-truck"></i><br>Delivery Method</a>\n            </li> --><li class="active disabled"><a href=#><i class="fa fa-money"></i><br>Payment Method</a></li><li class="active disabled"><a href=#><i class="fa fa-eye"></i><br>Order Review</a></li></ul><div class=panel-heading><!-- <h3 class="panel-title">Enter A details</h3> --></div><div class=panel-body><div class=form-group><label class="col-sm-3 control-label no-padding-right">Phone</label><div class=col-sm-7><span class="block input-icon input-icon-right"><div class=input-group><div class=input-group-addon>{{customer.country.dial_code}}</div><input name=phone class=form-control placeholder="Your phone number" ng-model=customer.phone required tabindex=1 autofocus only-numbers></div><small class=errorMessage ng-show="checkout_form.phone.$dirty && checkout_form.phone.$error.isCustomer">Your phone number required.</small></span></div></div><div class=form-group><label class="col-sm-3 control-label no-padding-right">Name</label><div class=col-sm-7><span class="block input-icon input-icon-right"><input ng-model=customer.name name=name class=form-control required placeholder="Your name here" tabindex="2"> <small class=errorMessage ng-show="checkout_form.name.$dirty && checkout_form.name.$invalid">Your name required.</small></span></div></div><div class=form-group><label class="col-sm-3 control-label no-padding-right">Address</label><div class=col-sm-7><span class="block input-icon input-icon-right"><textarea name=address ng-model=customer.address class=form-control required placeholder=Address tabindex=4></textarea><small class=errorMessage ng-show="checkout_form.address.$dirty && checkout_form.address.$invalid">We need your address to deliver.</small></span></div></div><div class=form-group><label class="col-sm-3 control-label no-padding-right">City</label><div class=col-sm-7><span class="block input-icon input-icon-right"><input name=city ng-model=customer.city class=form-control placeholder="Your city" tabindex="5"> <small class=errorMessage ng-show="checkout_form.city.$dirty && checkout_form.city.$invalid">Please select your city.</small></span></div></div><div class=form-group><label class="col-sm-3 control-label no-padding-right">State</label><div class=col-sm-7><span class="block input-icon input-icon-right"><input name=state ng-model=customer.state class=form-control placeholder="Your state" tabindex="6"> <small class=errorMessage ng-show="checkout_form.state.$dirty && checkout_form.state.$invalid">Please select your state.</small></span></div></div><div class=form-group><label class="col-sm-3 control-label no-padding-right">Zip</label><div class=col-sm-7><span class="block input-icon input-icon-right"><input name=zip ng-model=customer.zip class=form-control placeholder="zip code " tabindex="6"> <small class=errorMessage ng-show="checkout_form.zip.$dirty && checkout_form.zip.$invalid">Please select your state.</small></span></div></div><div class=form-group><label class="col-sm-3 control-label no-padding-right">Country</label><div class=col-sm-7><span class="block input-icon input-icon-right"><select name=country ng-model=customer.country class=form-control required ng-options="option.name for option in countries | orderBy:\'name\' " class=form-control></select><!-- <div ng-if="!shipping._id">Sorry... We do not ship to this Country.</div> --><small class=errorMessage ng-show="checkout_form.country.$dirty && checkout_form.country.$invalid">Please select your country.</small><!-- <small>The system automatically choose the best shipping method available for your country</small> --></span></div></div><div class=form-group><label class="col-sm-3 control-label no-padding-right">Payment Method</label><div class=col-sm-7><span class="block input-icon input-icon-right"><select name=paymentMethod ng-model=customer.paymentMethod class=form-control required ng-options="option.name for option in paymentMethods | orderBy:\'name\' track by option._id" class=form-control></select><small class=errorMessage ng-show="checkout_form.paymentMethod.$dirty && checkout_form.paymentMethod.$invalid">Please select payment method.</small></span></div></div><!--  <div class="form-group">\n              <label class="col-sm-3 control-label no-padding-right"> Coupon </label>\n              <div class="col-sm-7">\n                 <span class="block input-icon input-icon-right">\n                      <input type="text" name="coupon" ng-model="customer.coupon" class="form-control" placeholder="Discount Coupon" tabindex="5" ng-change="checkCoupon(customer.coupon, cart.getTotalPrice());"/>\n                      <span class="text-muted text-success" ng-if="coupon.code">{{coupon.type}} of {{coupon.amount | currency}} was applied to the cart</span>\n  <small class="errorMessage"\n       ng-show="checkout_form.coupon.$dirty && checkout_form.coupon.$invalid"> Discount coupon was expired.</small>\n                  </span>\n              </div>\n          </div> --></div><div class=box-footer><div class=pull-left><a href="/" class="btn btn-default"><i class="fa fa-chevron-left"></i>Back to Media</a></div><div class=pull-right><button type=submit class="btn btn-primary" ng-click="placeOrder(cart.items,cart.getTotalPrice());cart.checkout({paymentMethod:customer.paymentMethod, options: cart.getTotalPrice()},true);cart.clearItems();" ng-disabled=checkout_form.$invalid tabindex=6>Make Payment<i class="fa fa-chevron-right"></i></button></div></div></form></div><!-- /.box --></div><!-- /.col-md-9 --><div class=col-md-5><div class=box id=order-summary ng-if="cart.getTotalCount()>0"><div class=box-header><h3>Order summary</h3></div><!--  <p class="text-muted">Shipping and additional costs are calculated based on the total weight and selected country.</p>\n --><div class=table-responsive><table class=table><tbody><!-- <tr>\n                        <td>Order subtotal</td>\n                        <th>{{cart.getTotalPrice() | currency}}</th>\n                    </tr> --><!-- <tr ng-if="shipping">\n                        <td>Shipping and handling</td>\n                        <td ng-if="cart.getTotalPriceAfterShipping(shipping , coupon.amount).charge==0">\n                            Free Shipping {{cart.getTotalPriceAfterShipping(shipping , coupon.amount).carrier}}\n                        </td>\n                        <td ng-if="cart.getTotalPriceAfterShipping(shipping , coupon.amount).charge>0">\n                            {{cart.getTotalPriceAfterShipping(shipping , coupon.amount).charge | currency}} {{cart.getTotalPriceAfterShipping(shipping , coupon.amount).carrier}} <br/>\n                            <small><i><a href="/">Shop</a> {{cart.getTotalPriceAfterShipping(shipping , coupon.amount).more | currency}} more for free shipping</i></small>\n                        </td>\n                    </tr> --><tr><td>Coupon Discount</td><td><small>$ 0.00</small></td></tr><tr><td>Total</td><th>{{cart.getTotalPrice() | currency}}</th><!-- <th ng-if="cart.getTotalPrice() < shipping.minOrderValue">\n                            {{cart.getTotalPriceAfterShipping(shipping , coupon.amount) | currency}}\n                        </th> --></tr></tbody></table></div></div><img data-ng-src=assets/images/3e4841c5.paypal_badge.jpg data-err-src="images/png/avatar.png"></div><!-- /.col-md-3 -->'),a.put("app/contact/contact.html",'<div class=col-md-12><ul class=breadcrumb><li><a href="/">Home</a></li><li>Contact</li></ul></div><div class=col-md-3><!-- *** PAGES MENU ***\n_________________________________________________________ --><div class="panel panel-default sidebar-menu"><div class=panel-heading><h3 class=panel-title>Pages</h3></div><div class=panel-body><ul class="nav nav-pills nav-stacked"><!--  <li>\n                    <a href="#">Text page</a>\n                </li> --><li><a href=#>Contact page</a></li><li><a href=#>FAQ</a></li></ul></div></div><!-- *** PAGES MENU END *** --><!-- <div class="banner">\n        <a href="#">\n            <img src="/assets/img/banner.jpg" alt="sales 2014" class="img-responsive">\n        </a>\n    </div> --></div><div class=col-md-9><div class=box id=contact><h1>Contact</h1><p class=lead>Are you curious about something? Or do you have some kind of problem with our product?</p><p>Please feel free to contact us, our customer service center is working for you 24/7.</p><hr><div class=row><div class=col-sm-4><h3><i class="fa fa-map-marker"></i> Address</h3><p>11 Impala Road<br>Borrowdale West<br><strong>Harare</strong></p></div><!-- /.col-sm-4 --><div class=col-sm-4><h3><i class="fa fa-phone"></i> Call center</h3><p class=text-muted>Or you can get hold of us on the following number</p><p><strong>+263 773439246</strong></p></div><!-- /.col-sm-4 --><div class=col-sm-4><h3><i class="fa fa-envelope"></i> Electronic support</h3><p class=text-muted>Please feel free to write an email to us</p><ul><li><strong><a href=mailto:>info@mediabox.co.zw</a></strong></li><!-- <li><strong><a href="#">Ticketio</a></strong> - our ticketing support platform</li> --></ul></div><!-- /.col-sm-4 --></div><!-- /.row --><hr><!--   <div id="map">\n\n        </div>\n\n        <hr> --><h2>Contact form</h2><form action=mailto:info@mediabox.co.zw><div class=row><div class=col-sm-6><div class=form-group><label for=firstname>Firstname</label><input class=form-control id=firstname></div></div><div class=col-sm-6><div class=form-group><label for=lastname>Lastname</label><input class=form-control id=lastname></div></div><div class=col-sm-6><div class=form-group><label for=email>Email</label><input class=form-control id=email></div></div><div class=col-sm-6><div class=form-group><label for=subject>Subject</label><input class=form-control id=subject></div></div><div class=col-sm-12><div class=form-group><label for=message>Message</label><textarea id=message class=form-control></textarea></div></div><div class="col-sm-12 text-center"><button type=submit class="btn btn-primary"><i class="fa fa-envelope-o"></i> Send message</button></div></div><!-- /.row --></form></div></div><!-- /.col-md-9 -->'),a.put("app/country/country.html","<crud-table api=Country cols=[{&quot;name&quot;:&quot;text&quot;},{&quot;dial_code&quot;:&quot;text&quot;},{&quot;code&quot;:&quot;text&quot;},{&quot;active&quot;:&quot;boolean&quot;}]></crud-table>"),a.put("app/coupon/coupon.html","<div class=col-md-12><crud-table api=Coupon cols=[{&quot;code&quot;:&quot;text&quot;},{&quot;amount&quot;:&quot;currency&quot;},{&quot;minimumCartValue&quot;:&quot;currency&quot;},{&quot;info&quot;:&quot;text&quot;},{&quot;type&quot;:&quot;text&quot;},{&quot;active&quot;:&quot;boolean&quot;}]></crud-table></div>"),a.put("app/customer/customer.html","<div class=col-md-12><crud-table api=User cols=[{&quot;name&quot;:&quot;text&quot;},{&quot;email&quot;:&quot;text&quot;},{&quot;company&quot;:&quot;text&quot;},{&quot;phone&quot;:&quot;text&quot;}] noedit=true></crud-table></div>"),a.put("app/dashboard/dashboard.html","<div class=col-md-12>This is the dashboard view.</div>"),a.put("app/directive/table.html",'<link rel=stylesheet href="bower_components/angular-tablesort/tablesort.css"><div class=box><div class=row><div class=col-sm-12><h1></h1><div class=table-responsive><div class="panel panel-primary"><div class=panel-heading>List of {{title}}<div class=sw-search><div class=nav-search id=nav-search><span class=input-icon><input placeholder="Filter list ..." class=nav-search-input ng-model=filter autocomplete=off style=width:300px autofocus> <i class="search-icon fa fa-search nav-search-icon"></i></span></div></div><!-- <span class="pull-right hidden-xs">\n                <div ng-hide="data.length>-1"><i class="fa fa-cog fa-3x fa-spin"></i>&nbsp;Loading</div>&nbsp;\n                <b>{{data.length}}</b> {{title}} found &nbsp;\n              </span> --></div><div class=panel-footer><div class=row><div class=col-xs-12 dw-loading=crudTable dw-loading-options="{text: \'\'}"><button type=button class="btn btn-danger" ng-click=edit({}); ng-if=!noadd>Add New <i class="fa fa-plus"></i></button></div></div></div><div class=panel-body><table class="table table-striped" ts-wrapper><thead><tr><th>#</th><th ng-repeat="c in cols" ts-criteria="{{c.heading}} | {{c.sortType}}">{{c.heading | labelCase}}</th><th>Edit / Remove</th></tr></thead><tbody><!-- <i class="fa fa-cog fa-spin fa-2x" ng-if="loadingTable"></i> --><tr ng-repeat="p in data.slice().reverse() | filter:filter track by p._id" id={{p._id}} ts-repeat><td>{{$index+1}}</td><td ng-repeat="c in cols" ng-switch=c.dataType><span ng-switch-when=boolean><button class=btn ng-class="{true:\'btn-success\', false:\'\'}[p[c.heading]]" ng-click=changeActive(p);>{{p.active | active}}</button></span> <span ng-switch-when=date>{{p[c.heading] | amCalendar}}</span> <span ng-switch-when=currency>{{p[c.heading] | currency}}</span> <span ng-switch-when=image><img src="images/{{p.image}}"></span> <span ng-switch-default>{{p[c.heading]}}</span></td><td><div class=btn-group><a class="btn btn-default btn-sm btn-default" ng-click=edit(p); ng-if=!noedit><i class="fa fa-edit"></i></a> <a class="btn btn-default btn-sm btn-danger" ng-confirm-message="Are you sure to delete?" ng-confirm-click=delete(p) item=p ng-if=!nodelete><i class="fa fa-trash-o"></i></a></div></td></tr></tbody></table></div></div></div></div></div></div>'),a.put("app/directive/templates/chatTemplate.html",'<div><div ng-show=visible class="row chat-window col-xs-5 col-md-3 {{vm.theme}}" ng-class="{minimized: vm.isHidden}"><div class="col-xs-12 col-md-12"><div class=panel><div class="panel-heading chat-top-bar"><div class="col-md-8 col-xs-8"><h3 class=panel-title><span class="fa fa-comment-o"></span> {{vm.title}}</h3></div><div class="col-md-4 col-xs-4 window-actions" style="text-align: right"><span class=fa ng-class=vm.chatButtonClass ng-click=vm.toggle()></span> <span class="fa fa-close" ng-click=vm.close()></span></div></div><div class="panel-body msg-container-base" ng-style=vm.panelStyle><div class="row msg-container" ng-repeat="message in vm.messages" ng-init="selfAuthored = vm.myUserId == message.fromUserId"><div class="col-md-12 col-xs-12"><div class=chat-msg ng-class="{\'chat-msg-sent\': selfAuthored, \'chat-msg-recieved\': !selfAuthored}"><span class=hide>myUserId:{{vm.myUserId}}</span> <img ng-if=message.imageUrl class=profile ng-class="{\'pull-right\': selfAuthored, \'pull-left\': !selfAuthored}" ng-src="{{message.imageUrl}}"><p>{{message.content}}</p><div class=chat-msg-author><strong>{{message.username}}</strong>&nbsp; <span class=date>{{message.date|date:hh:mm:a}}</span></div></div></div></div></div><div class="panel-footer chat-bottom-bar"><form style=display:inherit ng-submit=vm.submitFunction()><div class=input-group><input class="form-control input-sm chat-input" placeholder={{vm.inputPlaceholderText}} ng-model="vm.writingMessage"> <span class=input-group-btn><input type=submit class="btn btn-sm chat-submit-button" value="{{vm.submitButtonText}}"></span></div></form></div></div></div></div></div>'),a.put("app/documentation/documentation.html",'<div class=col-md-12><ul class=breadcrumb><li><a href=#>Home</a></li><li>Documentation</li></ul></div><!-- *** LEFT COLUMN ***\n_________________________________________________________ --><div class=col-sm-9 id=blog-listing data-spy=scroll data-target=#navbar-example><div class=post><h2 id=live-demos>Live Demos</h2><p class=intro>ShopNx is a ready to use single page ecommerce website developed using AngularJS, NodeJS, Express, MongoDB<br><a class="btn btn-primary" href="http://biri.in/">Live Demo</a></p><blockquote><p>Easy to start and rich user interactive</p></blockquote><p class=read-more><a href=#features class="btn btn-primary">More Features...</a></p><div class=image><img src=/assets/img/biri.jpg class=img-responsive alt="Live Demos"></div><hr></div><div class=post><h2 id=installation>Installation</h2><p class=intro>Just 3 steps to install the application in your local machine.</p><p><h4>Step-1:</h4></p><p>Download, Install <a href="https://nodejs.org/">NodeJS</a> (Acts as our Server)<br>Download, Install <a href="https://www.mongodb.org/">MongoDB</a> (The Database for our application). We also need to run mongodb. Browse to the <em>(MongoDB installation folder)/bin</em> and run mongod</p><h4>Step-2:</h4>Unzip the downloaded file<h4>Step-3:</h4><em>Windows</em> Double click on start.bat found inside the directory<br>Now your browser should automatically open up with the application running on <a href="http://localhost:8080/">http://localhost:8080</a><br><em>Linux</em> Open your terminal, navigate to the extracted directory and enter the command <em>node .</em><br>Open your browser and navigate to <a href="http://localhost:8080/">http://localhost:8080</a><br><br><b>If you face any issue, I will do it for you in your machine or server</b><blockquote>There are web hosting solutions which offers free hosting for this APP. (e.g. Openshift, Amazon web services, Heroku)</blockquote><div class=image><a><img src=/assets/img/installation.jpg class=img-responsive alt="Installation instructions"></a></div><hr></div><h3>:::::::::::::: Store Front :::::::::::::::::::::</h3><div class=post><h2 id=store>Store</h2><p>This example store is an ecommerce application to sell <em>Fashion Products</em> of different brands and types. But this single page web application is capable of selling any type of products, starting from Home Appliances, Mobiles, Grocerry, Footwear, Cosmetics, etc...</p><p>This view displays all products with following facilities<ul><li>Product search</li><div class=image><a><img src=/assets/img/search.jpg class=img-responsive alt=Search></a></div><li>Filter by brand, category, price (with price slider)</li><div class=image><a><img src=/assets/img/brand.jpg class=img-responsive alt="Brand Filter"></a></div><li>Sort products by price or product name</li><div class=image><a><img src=/assets/img/sort.jpg class=img-responsive alt=Sort></a></div><li>Add to cart</li><li>Checkout with paypal</li><li>Auto paging facility which activates on scroll (Like most of the advanced shopping websites)</li><li>Get detailed information about specific products by clicking in on its name or image</li><li>See a quick view of present quantity in the cart with option to change cart quantity.</li></ul></p><div class=image><a><img src=/assets/img/store.jpg class=img-responsive alt="Store Front"></a></div><hr></div><div class=post><h2 id=product-details>Product Details</h2><p>Shows all available details of the products<ul><li>Product Name</li><li>Product Description</li><li>Product Image</li><li>Brand</li><li>Category of the product</li><li>Product MRP (Max Retail Price) and Offer Price</li><li>Additional product details and instructions</li><li>This view also allow users to add the product into the cart or remove from cart</li></ul></p><div class=image><a><img src=/assets/img/product-details.jpg class=img-responsive alt="Product Details"></a></div><hr></div><div class=post><h2 id=orders-history>Orders History</h2><p><em>For Users:</em> All the orders placed by the logged in user is available in this view.</p><p><em>For Administrators:</em> This view presents all orders placed by users with the option to change order status and shipping</p><div class=image><a><img src=/assets/img/orders.jpg class=img-responsive alt="Orders History"></a></div><hr></div><div class=post><h2 id=shopping-cart>Shopping Cart</h2><p>This store is featured with a shopping cart facility which is easy to use and fast.<ul><li>Get quick summary of what is there in Cart</li><li>Modify the cart quantity</li><li>Checkout using Paypal</li></ul></p><div class=image><a><img src=/assets/img/cart.jpg class=img-responsive alt="Shopping Cart"></a></div><hr></div><div class=post><h2 id=accounts-page>Accounts Page</h2><p>Features like Signup / SignIn / Change Password / Logout is integrated into this application already with high level of security, so that you no longer need to be worry about implementing all those features into the application</p><div class=image><a><img src=/assets/img/user-menu.jpg class=img-responsive alt="Accounts Page"></a></div><div class=image><a><img src=/assets/img/login.jpg class=img-responsive alt="Accounts Page"></a></div><hr></div><h3>::::::::::::::: Store Administration ::::::::::::::</h3><blockquote><em>Only administrators can access the pages</em></blockquote><div class=post><h2 id=add-brands>Manage Brands</h2><p>Administrators can add, edit, delete, filter brands of their store from this view</p><div class=image><a><img src=/assets/img/brands.jpg class=img-responsive alt="Manage Brands"></a></div><hr></div><div class=post><h2 id=add-categories>Manage Categories</h2><p><ul><li>Categories are presented in Parent-Child manner in this store for better organisation of products.</li><li>Store\'s navigation bar at top contains all the categories arranged in parent-child fashion.</li><div class=image><a><img src=/assets/img/navbar.jpg class=img-responsive alt="Manage Categories"></a></div><li>This view provides facility to add both parent and child categories, edit them, re-arrange category association according to their requirement.</li></ul></p><div class=image><a><img src=/assets/img/categories.jpg class=img-responsive alt="Manage Categories"></a></div><hr></div><div class=post><h2 id=add-products>Manage Products</h2><p><em>This is the main page for administrators to manage products at store.</em><ul><li>The right sidebar lists all the available products with a search box to filter the list.</li><li>Clicking on a product at the product list will populate the details of the product at the left sidebar</li><li>The left sidebar has option to change product name, details, brand, category</li><li>This left sidebar also contains a module to manage product variants which has facility for Size, MRP, Price and Image for that perticular variant</li></ul></p><div class=image><a><img src=/assets/img/products.jpg class=img-responsive alt="Add Products"></a></div><hr></div><div class=post><h2 id=manage-users>Manage Users (Customers)</h2><p>Using this view administrators can add, remove or edit users of their shopping web application</p><div class=image><a><img src=/assets/img/customers.jpg class=img-responsive alt="Manage customers"></a></div><hr></div><div class=post><h2 id=features>All Features</h2><h3>### Store Front features</h3><ul><li>Single page web app (SPA) created using AngularJS, NodeJS, Express, MongoDB (MEAN)</li><li>Fastest shop experience</li><li>Fast Product Search, Filter with AJAX</li><li>Price slider and multiple brand selector</li><li>Faster Add to Cart and Product Details</li><li>Checkout with Paypal Integration</li><li>Minimal User Registration process</li><li>Order history and Password Management</li><li>Facility for Multi level Category</li><li>Mobile optimized with Bootstrap</li><li>Instant updates for any changes made across all clients with SocketIO implementation</li><li>Loads more products on scroll (No paging required)</li><li>Clean and responsive user interface</li></ul><h3>### Store Back Office Features</h3><ul><li>Products, Categories, Brand, Order Management from admin panel with easy directives</li><li>Manage Order and Change Status from admin panel</li><li>Facility for Multiple product variants (size, color, price, image)</li><li>User roles - Administrator, User, Guest</li><li>SEO friendly URLs for each page</li><li>Secure and quality code - Takes care all single page web app standards</li><li>Securely built and prevent security attacks</li></ul></div></div><!-- /.col-md-9 --><!-- **LEFT COLUMN END *** --><div class=col-md-3><!-- *** BLOG MENU ***\n_________________________________________________________ --><div class="panel panel-default sidebar-menu"><div class=panel-heading><h3 class=panel-title>Overview</h3></div><div class=panel-body id=navbar-example><ul class="nav nav-pills nav-stacked"><li class=active><a href=#live-demos>Live Demos</a></li><li><a href=#installation>Installation</a></li><li><a href=#store>Store</a></li><li><a href=#product-details>Product Details</a></li><li><a href=#shopping-cart>Shopping Cart</a></li><li><a href=#accounts-page>Accounts Page</a></li><li><a href=#orders-history>Orders History</a></li><li><a href=#add-brands>Add Brands</a></li><li><a href=#add-categories>Add Categories</a></li><li><a href=#add-products>Add Products</a></li><li><a href=#manage-users>Manage Users</a></li><li><a href=#features>Features</a></li></ul></div></div></div><!-- /.col-md-9 -->'),a.put("app/feature/feature.html","<div class=col-md-12><crud-table api=Feature cols=[{&quot;key&quot;:&quot;text&quot;},{&quot;val&quot;:&quot;text&quot;},{&quot;active&quot;:&quot;boolean&quot;}]></crud-table></div>"),a.put("app/inventory/inventory.html",'<div class=container><div class=row><div class=col-sm-12><h1></h1></div></div><div class=row><div class=col-lg-12><ul class="nav nav-tabs nav-stacked col-md-4 col-lg-4 col-sm-6" ng-repeat="thing in awesomeThings"><li><a href=# tooltip={{thing.info}}>{{thing.name}} <button type=button class=close ng-click=deleteThing(thing)>&times;</button></a></li></ul><ul class="nav nav-tabs nav-stacked col-md-4 col-lg-4 col-sm-6" ng-repeat="product in products"><li><a href=# tooltip={{product.info}} ng-click=editProduct(product)>{{product.name}} <button type=button class=close ng-click=deleteProduct(product.name,product)>&times;</button></a></li></ul></div></div><form class=product-form><label>Syncs in realtime across clients</label><p class=input-group><input class=form-control placeholder=Name ng-model=product.name> <input class=form-control placeholder=SKU ng-model=product.sku> <input class=form-control placeholder=SKU ng-model=product.category> <span class=input-group-btn><button type=submit class="btn btn-primary" ng-click=addProduct()>Add New</button></span></p></form></div>'),a.put("app/invoice/invoice.html","<div class=col-md-12>This is the invoice view.</div>"),a.put("app/main/campaign.html",'\n<div class="container">\n    <div class="row">\n\n      <div class="col-md-12">\n          <div class="row" id="productMain">\n             \n              <div class="col-sm-12">\n                    <div class="box">\n                      <div class="row">\n                            <div  class="col-xs-3 stats-graph">\n                            <h4 class="section-header">Campaign Name</h4>\n                             <md-input-container>\n                               <input   value="{{cart.campaignName}}" ng-model= "cart.campaignName"\\>\n                                </md-input-container>\n                            \n                            </div>\n                            <div  class="col-xs-3 stats-graph">\n                            <h4 class="section-header">Select Dates</h4>\n                                <div class="row">\n                                  <div class"col-md-12">\n\n                                      <md-datepicker ng-model="cart.startDate"  value="{{cart.startDate}}" md-placeholder="Enter start date"></md-datepicker></div>\n                                 \n                                </div>\n                                \n                                  \n                                 \n                                \n                            </div>\n                            <div id="productsContainer" class="col-xs-3 stats-graph">\n                                <h4 class="section-header">&nbsp;</h4>\n                                <md-datepicker ng-model="cart.endDate"  value="{{cart.endDate}}" md-placeholder="Enter end date"></md-datepicker>\n                             \n                                \n                                \n                            </div>\n                            <div id="totalContainer" class="col-xs-3 stats-graph">\n                                <h4 class="section-header">Total Spend</h4>\n                                  {{cart.getTotalPrice() | currency}} - ({{cart.getTotalCount()}} items)\n</div>\n                               \n                            </div>\n                        </div>\n\n              </div>\n\n          </div>\n\n\n          <div class="box" id="details">\n              <p>\n\n                    <div >\n                    <div class="actions-continue">\n                       \n\n                        <input type="text" placeholder="Filter ..." class="form-control col-md-4" style="width:250px;margin-left:20px;" ng-model="filterCart" autofocus/>\n\n                         <button value="Proceed to Checkout →" name="proceed" class="btn btn-danger pull-right" ng-click="createCampaign(cart);" ng-disabled="cart.getTotalCount() <= 0" ng-click="cancel();">Create Campaign →</button>\n\n          \n\n                        <div class="clearfix"></div>\n                    </div><br/>\n\n                    <table class="cart table table-striped">\n                        <thead>\n                            <tr>\n                                <th>#</th>\n                                <th></th>\n                                <th>Media </th>\n                                <th>Upload Creative</th>\n                                <th>Price</th>\n                                <th>Inserts</th>\n                                <th>Total</th>\n                                <th>Remove</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <!-- empty cart message -->\n                            <tr ng-hide="cart.getTotalCount() > 0" >\n                                <td class="tdCenter" colspan="7">\n                                    Your MediaCart is empty. &nbsp;&nbsp;<a class="btn btn-primary" href="/" ng-click="cancel();">Build Campaign</a>\n                                </td>\n                            </tr>\n\n                            <tr ng-repeat="item in cart.items | filter: filterCart">\n                                <td>{{$index+1}}</td>\n                                <td class="product-thumbnail">\n                                    <a>\n                                        <img data-ng-src="data:image/png;base64,{{item.image}}"  alt="{{item.publisher}}" style="width: 100px;">\n                                    </a>\n                                </td>\n\n                                <td class="product-name">\n                                  {{item.publisher}}&nbsp;@{{item.name}}\n                                </td>\n\n                                <td>\n                                <div ng-hide="item.creative">\n                                 <button  class="btn btn-danger" ng-hide="isAdmin()" ng-click="open(cart.items,item,item.creative,\'md\')" ><i class="fa fa-image"></i><span class="glyphicon glyphicon-upload"></span></button>\n\n                                </div>\n\n                                <div ng-show="item.creative">\n                                	 <button  class="btn btn-success" ng-hide="isAdmin()" ng-click="open(cart.items,item,item.creative,\'md\')" ><i class="fa fa-image"></i><span class="glyphicon glyphicon-upload"></span></button>\n                                </div>\n\n                                  \n                                 \n                                  \n                                </td>\n\n                                <td>{{item.price | currency}}</td>\n\n                                <td>\n                                    <div class="input-group" style="width:105px;">\n                                      <div class="input-group-addon btn" ng-disabled="item.quantity <= 1" ng-click="cart.addItem({sku:item.sku, name:item.name, slug:item.slug, mrp:item.mrp, price:item.price}, -1)">-</div>\n                                      <input class="form-control" type="text" min="1" step="1" ng-model="item.quantity" ng-change="cart.saveItems()">\n                                      <div class="input-group-addon btn" ng-disabled="item.quantity >= 1000" ng-click="cart.addItem({sku:item.sku, name:item.name, slug:item.slug, mrp:item.mrp, price:item.price}, +1)">+</div>\n                                    </div>\n                                </td>\n\n                                <td><span><strong>{{item.price * item.quantity | currency}}</strong></span></td>\n\n                                <td class="product-actions">\n                                    <a title="Remove this item" class="remove" href="" ng-click="cart.addItem({sku:item.sku}, -10000000)">\n                                        <i class="fa fa-times"></i>\n                                    </a>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n\n                  <hr>\n               \n          </div>\n    </div>\n</div>\n\n'),
a.put("app/main/main.html",'<link rel=stylesheet href="bower_components/angular-loading/angular-loading.css"><div class=col-md-12><ul class=breadcrumb><li><a ui-sref=main href="">Home</a></li><li ng-repeat="b in breadcrumb.items | reverse"><a href="/" ng-if=!$last>{{b.name}}</a> <span ng-if=$last>{{b.name}}</span></li></ul></div><div class=col-md-3><div class="panel panel-default sidebar-menu"><div class=panel-heading><h3 class=panel-title>Price Range <a class="btn btn-xs btn-danger pull-right" href="" ng-click=resetPriceRange();><i class="fa fa-times-circle"></i> Reset</a></h3></div><div class=panel-body><form><div class=form-group><rzslider rz-slider-floor=priceSlider.floor rz-slider-ceil=priceSlider.ceil rz-slider-model=priceSlider.min rz-slider-high=priceSlider.max rz-slider-translate=currencyFormatting rz-slider-on-end=filter()></rzslider>$<strong>{{priceSlider.min}}</strong> &nbsp;-&nbsp; $<strong>{{priceSlider.max}}</strong></div></form></div></div><div class="panel panel-default sidebar-menu"><div class=panel-heading><h3 class=panel-title>Categories<div class=nav-search id=nav-search><span class=input-icon><input placeholder="Filter Categories ..." class=nav-search-input ng-model=filterBrand autocomplete=off autofocus style=width:100%> <i class="search-icon fa fa-search nav-search-icon"></i></span></div></h3></div><div class="panel-body brand-filter-panel"><form><div class=form-group><div class=checkbox ng-repeat="b in brands | filter:filterBrand"><label><input type=checkbox value={{b.name}} checklist-model=fl.brands checklist-value=b ng-click="filter();"> {{b.name}}<span>&nbsp;</span></label></div></div><a class="btn btn-xs btn-warning pull-right" href="" ng-repeat="b in fl.brands" ng-click=removeBrand(b); style="margin:0 0 5px 5px"><i class="fa fa-times-circle"></i> {{b.name}}</a></form></div></div><div class="panel panel-default sidebar-menu"><div class=panel-heading><h3 class=panel-title>Targeting Features<div class=nav-search id=nav-search><span class=input-icon><input placeholder="Filter Features ..." class=nav-search-input ng-model=filterFeature autocomplete=off autofocus style=width:100%> <i class="search-icon fa fa-search nav-search-icon"></i></span></div></h3></div><div class=panel-body><form><div class=form-group><div ng-repeat="k in features | filter:filterFeature"><h4>{{k.key}}</h4><div class=checkbox ng-repeat="f in k.v"><label><input type=checkbox value={{f}} checklist-model=fl.features[k.key] checklist-value=f ng-click="filter();"> {{f}}<span>&nbsp;</span></label></div></div></div></form></div></div></div><div class=col-md-9><div class="box info-bar"><div class=row><div class="col-sm-12 col-md-5 products-showing">Showing {{products.items.length}} products of {{products.count}} in: $<strong>{{priceSlider.min}}</strong> &nbsp;-&nbsp; $<strong>{{priceSlider.max}}</strong></div><div class="col-sm-12 col-md-7 text-right products-number-sort"><div class=row><form class=form-inline><div class="col-md-12 col-sm-12"><div class=products-number><strong>Sort</strong><div class=btn-group><a href="" ng-repeat="o in sortOptions" ng-class="{active : o.val==products.sort}" class="btn btn-danger btn-sm btn-danger" ng-click=sortNow(o.val);>{{o.name}}</a></div></div></div></form></div></div><div class="col-sm-12 col-md-8 products-number-sort"><div class=products-sort-by><span ng-if="fl.brands.length>0">Categories:</span> <a class="btn btn-xs btn-warning" href="" ng-click=removeBrand(b); ng-repeat="b in fl.brands" style=margin-left:5px><i class="fa fa-times-circle"></i> {{b.name}}</a> <a ng-if="fl.categories.length>0" class="btn btn-xs btn-warning" href="" ng-click=removeCategory(); style=margin-left:5px><i class="fa fa-times-circle"></i>{{fl.categories[0].name}}</a> <span ng-repeat="features in fl.features"><a ng-if=features ng-click=removeFeatures(features); ng-repeat="f in features" class="btn btn-xs btn-warning" href="" style=margin-left:5px>{{f}}</a></span><!-- <select ng-model="products.brand"  ng-change="navigate(\'Brand\',products.brand);" ng-options="b.name for b in brands track by b._id" class="pull-right">\n                                      <option value="">All Brands</option>\n                                  </select> --></div></div></div></div><div infinite-scroll=scroll() infinite-scroll-disabled=products.busy infinite-scroll-distance=1><div class="row products" dw-loading=products dw-loading-options="{text: \'\'}"><div class=box ng-if="products.items.length==0 && !products.busy"><div class=row><div class=col-sm-12><h3>Nothing found. Try removing some filters.</h3></div></div></div><div class="col-md-4 col-sm-6" ng-repeat="product in products.items"><div class=product style="height: 400px"><div class=img-logo style="margin: 15px"><center><a ui-sref="productDetail({id:product._id, slug:product.slug})"><img width=150px height=80px data-ng-src=data:image/png;base64,{{product.logo[0].base64}} data-err-src="images/png/avatar.png"></a></center></div><div class="text text-center" style="margin-top: 10px;height: 250px"><a ui-sref="productDetail({id:product._id, slug:product.slug})"><h5>{{product.name}}</h5></a><br><a ng-href=http://{{product.website}}>{{product.website}}</a><div style="margin: 7px"><ol class=rounded-list><li ng-repeat="f in product.stats"><a href=#>{{f.key}} : {{f.val}}</a></li></ol></div><!--    <a href="/Brand/{{product.brand.name}}/{{product.brand._id}}">{{product.brand.name}}</a> --><!--      <p class="price"><del ng-if="product.variants[0].price!=product.variants[0].mrp">\n                                    Starting From {{product.variants[0].mrp | currency : \'$\'}}</del> {{product.variants[0].price | currency : \'$\'}}</p> --><!--  <p class="buttons">\n                                      <div class="btn-group">\n                                      <a ui-sref="productDetail({id:product._id, slug:product.slug})" class="btn btn-default">View detail</a>\n                                      <a ng-click="cart.addItem({sku:product._id, name:product.name, slug:product.slug, mrp:product.variants[0].mrp, price:product.variants[0].price, weight:product.variants[0].weight}, -1)" ng-hide="checkCart(product._id)" class="btn btn-info">-</a>\n\n                                      <a ng-hide="checkCart(product._id)" class="btn btn-info">{{getQuantity(product._id);}}</a>\n\n                                      <a ng-click="cart.addItem({sku:product._id, name:product.name, slug:product.slug, mrp:product.variants[0].mrp, price:product.variants[0].price, weight:product.variants[0].weight}, +1)" ng-hide="checkCart(product._id)" class="btn btn-info">+</a>\n                                      </div>\n                                      <a ng-click="cart.addItem({sku:product._id, name:product.name, slug:product.slug, mrp:product.variants[0].mrp, price:product.variants[0].price, quantity:1, image:product.variants[0].image,category:product.category, size:product.variants[0].size, weight:product.variants[0].weight} ,true);" ng-show="checkCart(product._id)" class="btn btn-primary"><i class="fa fa-shopping-cart"></i>Add to cart</a>\n                                    </p> --></div><div style="text-align:bottom;vertical-align: bottom;text-align: center;margin-bottom: 0px"><span><small>Category: <a href=/Category/{{product.category.slug}}/{{product.category._id}}>{{product.category.name}}</a></small></span></div><!-- /.text --></div><!-- /.product --></div><!-- /.col-md-4 --></div><!-- /.products --></div><!-- /.col-md-9 --></div><!-- /just to enable infinite scroll -->'),a.put("app/main/product-details.html",'<div class=container><div class=row><div class="col-sm-12 text-center"><ol class=breadcrumb><li><a ui-sref=main href="">Home</a></li><li ng-repeat="b in breadcrumb.items | reverse"><a href="/" ng-if=!$last>{{b.name}}</a> <span ng-if=$last>{{b.name}}</span></li></ol></div><hr class="clearfix"></div></div><div class=container><div class=row><div class=col-md-3><!-- *** MENUS AND FILTERS ***\n_________________________________________________________ --><div class="panel panel-default sidebar-menu"><div class=panel-heading><h3 class=panel-title>Categories</h3></div><div class=panel-body><ul class="nav nav-pills nav-stacked category-menu"><li ng-repeat="p in categories"><a href=category.html>{{p.name}} <span class="badge pull-right"></span></a><ul><li ng-repeat="c in p.sub_categories"><a href=/Category/{{c.slug}}/{{c._id}}>{{c.name}}</a></li></ul></li></ul></div></div><!-- *** MENUS AND FILTERS END *** --></div><div class=col-md-9><div class=row id=productMain><div class=col-sm-3><div id=mainImage style="height: 60%"><img data-ng-src=data:image/png;base64,{{product.logo[0].base64}} alt={{product.name}} class=img-responsive></div></div><div class=col-sm-9><div class=box><h3 class=text-center>{{product.name}}</h3><div ng-if=product.info><h4>Details</h4><blockquote><p>{{product.info}}</p></blockquote><div ng-if="product.stats.length>0"><h4>Stats</h4><div class=row><div class="col-xs-6 col-md-3" ng-repeat="f in product.stats"><div class=thumbnail><p><h6><center>{{f.key}}</center></h6><div><center><h4>{{f.val}}</h4></center></div></p></div></div></div></div><div class=row><div class=col-sm-3><div ng-if=product.brand><h4>Category</h4><p><a href=/Brand/{{product.brand.name}}/{{product.brand._id}}>{{product.brand.name}}</a></p></div></div><div class=col-sm-4><div ng-if=product.category><h4>Platform</h4><p><a href=/Category/{{product.category.slug}}/{{product.category._id}}>{{product.category.name}}</a></p></div></div><div class=col-sm-5><h4>Contact Details</h4><span><i class="fa fa-envelope-o bigicon"></i></span>&nbsp;{{product.email}}<br><span><i class="fa fa-phone-square bigicon"></i></span>&nbsp;{{product.phone}}</div></div></div><div class=row><div class="col-xs-6 col-md-3" ng-repeat="f in product.keyFeatures"><div><p><h6><center>{{f.key}}</center></h6><div><center><h6 style=color:red>{{f.val}}</h6></center></div></p></div></div></div><p class=goToDescription><a href=#details class=scroll-to>Scroll to publisher media options</a></p></div></div></div><div class=box id=details><div class=row><div class=col-md-5><div class=box style="height: 450px"><img ng-hide=name src=/assets/img/preview.png width=100%><div ng-if=name style="height: 330px"><div ng-show=fileInput><canvas-viewer src=fileInput title=Preview overlays=overlays options=options></canvas-viewer></div></div><p><summary><small>{{name}} &nbsp; {{formart}} &nbsp;{{size}}</small></summary><br></p></div></div><div class=col-md-7 style="height: 420px;overflow:scroll"><p><table class="table table-striped"><thead><tr><th></th><th>Media Options</th><th>Pricing</th><th></th></tr></thead><tbody><tr data-ng-repeat="adspace in product.variants" ng-click=preview(adspace)><td>{{$index+1}}</td><td>{{adspace.name}}<br><span><small>{{adspace.size}} &nbsp;{{adspace.maxSize}}<br>&nbsp;{{adspace.formart}}</small></span></td><td>{{adspace.price | currency}}<br><small>{{adspace.model}}</small></td><td><small><div class="btn-group btn-min"><a ng-click="cart.addItem({sku:adspace.sku, name:adspace.name,  price:adspace.price}, -1)" ng-hide=checkCart(adspace.sku) class="btn btn-danger btn-sm btn-min">-</a> <a ng-hide=checkCart(adspace.sku) class="btn btn-danger btn-sm btn-min">{{getQuantity(adspace.sku)}}</a></div><a ng-click="cart.addItem({sku:adspace.sku, name:adspace.name,slug:adspace.formart,mrp:adspace.model, weight:adspace.maxSize,size:adspace.size,price:adspace.price ,status: {name:\'New\', val:402}, publisher:product.name,advertiser:user,uid:product.uid,category:product.brand.name,image:product.logo[0].base64,quantity:1} ,true);" ng-show=checkCart(adspace.sku) class="btn btn-danger btn-sm btn-min"><i class="fa fa-shopping-cart"></i></a></small></td></tr></tbody></table></p></div></div></div><hr><div ng-show=newspapers class=box><div ng-include="\'components/messages/newspapers.html\'"></div></div><div ng-show=magazines class=box><div ng-include="\'components/messages/magazines.html\'"></div></div><div ng-show=radio class=box><div ng-include="\'components/messages/radio.html\'"></div></div><div ng-show=airline class=box><div ng-include="\'components/messages/airline.html\'"></div></div><div ng-show=outdoor class=box><div ng-include="\'components/messages/outdoor.html\'"></div></div><div ng-show=nontraditional class=box><div ng-include="\'components/messages/nontraditional.html\'"></div></div><div ng-show=email class=box><div ng-include="\'components/messages/email.html\'"></div></div><div ng-show=television class=box><div ng-include="\'components/messages/tv.html\'"></div></div></div></div></div>'),a.put("app/media/media.html",'<link rel=stylesheet href="bower_components/angular-loading/angular-loading.css"><div ng-cloak><div class=row><div class=row><div class=col-md-4><h3>Campaigns</h3></div><div class=col-md-8><div class="alert alert-danger">New Requests/ Proposals will expire in 7 days if not responded to</div></div></div><div class=box ng-controller="MediaCtrl as vm"><div class=row><div class=col-sm-2 style="border-right: bold"><h3>Total :<br>&nbsp;<br><div style=margin-left:30px;color:red>{{vm.campaigns.totalCampaign}}</div></h3></div><div class=col-sm-2><h3>Pending<br>&nbsp;<br><div style=margin-left:30px;color:red>{{vm.campaignsPending.totalCampaign}}</div></h3></div><div class=col-sm-2><h3>Scheduled<br>&nbsp;<br><div style=margin-left:30px;color:red>{{vm.campaignsScheduled.totalCampaign}}</div></h3></div><div class=col-sm-2><h3>Running<br>&nbsp;<br><div style=margin-left:30px;color:red>{{vm.campaignsRunning.totalCampaign}}</div></h3></div><div class=col-sm-2><h3>Completed<br>&nbsp;<br><div style=margin-left:30px;color:red>{{vm.campaignsCompleted.totalCampaign}}</div></h3></div><div class=col-sm-2></div></div></div></div><md-content><md-tabs md-dynamic-height md-border-bottom><md-tab label=PENDING><md-content><section><md-content><div><div class=col-md-12 ng-controller="MediaCtrl as vm"><!-- <h3  class="bg-info well text-center">Total Spent: {{campaigns.total | currency}}</h3> --><div style=margin-top:20px class=small dw-loading=vm.items dw-loading-options="{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}"></div><kendo-grid options=vm.mainGridOptions><div k-detail-template><kendo-tab-strip><ul><li class=k-state-active>PRODUCTS/SITES</li><li>ADVERTISER DETAILS</li></ul><div><div kendo-grid k-options=vm.detailGridOptions(dataItem)></div></div><div><ul class=contact-info-form><li><label>Name:</label>{{dataItem.items[0].advertiser.company}}</li><li><label>Address:</label>{{dataItem.items[0].advertiser.address}}</li><li><label>Email:</label>{{dataItem.items[0].advertiser.email}}</li><li><label>Phone:</label>{{dataItem.items[0].advertiser.phone}}</li></ul></div></kendo-tab-strip></div></kendo-grid></div></div><div flex></div></md-content><md-sidenav class="md-sidenav-right md-whiteframe-4dp" md-component-id=right><md-toolbar style=background-color:#555555><h1 class=md-toolbar-tools>Edit Request</h1></md-toolbar><md-content ng-controller=RightCtrl layout-padding><form><md-datepicker ng-model=request.startDate value={{items.startDate}} md-placeholder="Start Date"></md-datepicker><br><br><md-datepicker ng-model=request.endDate value={{items.endDate}} md-placeholder="End Date"></md-datepicker><br><br><md-datepicker ng-model=request.dueDate md-placeholder="Due Date"></md-datepicker><br><br><label>Budget&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><input ng-model=request.budget value={{p.price}} type=number step=0.01><br><br><label>Objective&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><input ng-model=request.objective><br><br><label>Brief&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><textarea ng-model=request.brief cols=20 rows=3>\n				        \n				      </textarea><br><br><label>Contact Name&nbsp;&nbsp;</label><input ng-model=request.contactName><br><br><label>Contact Email&nbsp;&nbsp;</label><input ng-model=request.contactEmail></form><md-button ng-click=close();vm.request(request) class=md-primary>SClose</md-button><md-button ng-click=request(request) class=md-primary>Send Request</md-button></md-content></md-sidenav></section></md-content></md-tab><md-tab label=SCHEDULED><md-content><section><md-content><div><div class=col-md-12 ng-controller="MediaScheduledCtrl as vm"><!-- <h3  class="bg-info well text-center">Total Spent: {{campaigns.total | currency}}</h3> --><div style=margin-top:20px class=small dw-loading=vm.items dw-loading-options="{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}"></div><kendo-grid options=vm.mainGridOptions><div k-detail-template><kendo-tab-strip><ul><li class=k-state-active>PRODUCTS/SITES</li><li>ADVERTISER DETAILS</li></ul><div><div kendo-grid k-options=vm.detailGridOptions(dataItem)></div></div><div><ul class=contact-info-form><li><label>Name:</label>{{dataItem.items[0].advertiser.company}}</li><li><label>Address:</label>{{dataItem.items[0].advertiser.address}}</li><li><label>Email:</label>{{dataItem.items[0].advertiser.email}}</li><li><label>Phone:</label>{{dataItem.items[0].advertiser.phone}}</li></ul></div></kendo-tab-strip></div></kendo-grid></div></div><div flex></div></md-content><md-sidenav class="md-sidenav-right md-whiteframe-4dp" md-component-id=right><md-toolbar style=background-color:#555555><h1 class=md-toolbar-tools>Preview Request</h1></md-toolbar><md-content ng-controller=RightCtrl layout-padding><form><md-datepicker ng-model=request.startDate value={{items.startDate}} md-placeholder="Start Date"></md-datepicker><br><br><md-datepicker ng-model=request.endDate value={{items.endDate}} md-placeholder="End Date"></md-datepicker><br><br><md-datepicker ng-model=request.dueDate md-placeholder="Due Date"></md-datepicker><br><br><label>Budget&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><input ng-model=request.budget value={{p.price}} type=number step=0.01><br><br><label>Objective&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><input ng-model=request.objective><br><br><label>Brief&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><textarea ng-model=request.brief cols=20 rows=3>\n						        \n						      </textarea><br><br><label>Contact Name&nbsp;&nbsp;</label><input ng-model=request.contactName><br><br><label>Contact Email&nbsp;&nbsp;</label><input ng-model=request.contactEmail></form><md-button ng-click=close();vm.request(request) class=md-primary>SClose</md-button><md-button ng-click=request(request) class=md-primary>Send Request</md-button></md-content></md-sidenav></section></md-content></md-tab><md-tab label=RUNNING><md-content><section><md-content><div><div class=col-md-12 ng-controller="MediaRunningCtrl as vm"><!-- <h3  class="bg-info well text-center">Total Spent: {{campaigns.total | currency}}</h3> --><div style=margin-top:20px class=small dw-loading=vm.items dw-loading-options="{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}"></div><kendo-grid options=vm.mainGridOptions><div k-detail-template><kendo-tab-strip><ul><li class=k-state-active>PRODUCTS/SITES</li><li>ADVERTISER DETAILS</li></ul><div><div kendo-grid k-options=vm.detailGridOptions(dataItem)></div></div><div><ul class=contact-info-form><li><label>Name:</label>{{dataItem.items[0].advertiser.company}}</li><li><label>Address:</label>{{dataItem.items[0].advertiser.address}}</li><li><label>Email:</label>{{dataItem.items[0].advertiser.email}}</li><li><label>Phone:</label>{{dataItem.items[0].advertiser.phone}}</li></ul></div></kendo-tab-strip></div></kendo-grid></div></div><div flex></div></md-content><md-sidenav class="md-sidenav-right md-whiteframe-4dp" md-component-id=right><md-toolbar style=background-color:#555555><h1 class=md-toolbar-tools>Edit Request</h1></md-toolbar><md-content ng-controller=RightCtrl layout-padding><form><md-datepicker ng-model=request.startDate value={{items.startDate}} md-placeholder="Start Date"></md-datepicker><br><br><md-datepicker ng-model=request.endDate value={{items.endDate}} md-placeholder="End Date"></md-datepicker><br><br><md-datepicker ng-model=request.dueDate md-placeholder="Due Date"></md-datepicker><br><br><label>Budget&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><input ng-model=request.budget value={{p.price}} type=number step=0.01><br><br><label>Objective&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><input ng-model=request.objective><br><br><label>Brief&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><textarea ng-model=request.brief cols=20 rows=3>\n				        \n				      </textarea><br><br><label>Contact Name&nbsp;&nbsp;</label><input ng-model=request.contactName><br><br><label>Contact Email&nbsp;&nbsp;</label><input ng-model=request.contactEmail></form><md-button ng-click=close();vm.request(request) class=md-primary>SClose</md-button><md-button ng-click=request(request) class=md-primary>Send Request</md-button></md-content></md-sidenav></section></md-content></md-tab><!--running to be inseterd gere--><md-tab label=COMPLETED><md-content><div><div class=col-md-12 ng-controller="MediaFinishedCtrl as vm"><!-- <h3  class="bg-info well text-center">Total Spent: {{campaigns.total | currency}}</h3> --><div style=margin-top:20px class=small dw-loading=vm.items dw-loading-options="{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}"></div><kendo-grid options=vm.mainGridOptions><div k-detail-template><kendo-tab-strip><ul><li class=k-state-active>PRODUCTS/SITES</li><li>ADVERTISER DETAILS</li></ul><div><div kendo-grid k-options=vm.detailGridOptions(dataItem)></div></div><div><ul class=contact-info-form><li><label>Name:</label>{{dataItem.items[0].advertiser.company}}</li><li><label>Address:</label>{{dataItem.items[0].advertiser.address}}</li><li><label>Email:</label>{{dataItem.items[0].advertiser.email}}</li><li><label>Phone:</label>{{dataItem.items[0].advertiser.phone}}</li></ul></div></kendo-tab-strip></div></kendo-grid></div></div><div flex></div></md-content><md-sidenav class="md-sidenav-right md-whiteframe-4dp" md-component-id=right><md-toolbar style=background-color:#555555><h1 class=md-toolbar-tools>Preview Request</h1></md-toolbar><md-content ng-controller=RightCtrl layout-padding><form><md-datepicker ng-model=request.startDate value={{items.startDate}} md-placeholder="Start Date"></md-datepicker><br><br><md-datepicker ng-model=request.endDate value={{items.endDate}} md-placeholder="End Date"></md-datepicker><br><br><md-datepicker ng-model=request.dueDate md-placeholder="Due Date"></md-datepicker><br><br><label>Budget&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><input ng-model=request.budget value={{p.price}} type=number step=0.01><br><br><label>Objective&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><input ng-model=request.objective><br><br><label>Brief&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><textarea ng-model=request.brief cols=20 rows=3>\n					        \n					      </textarea><br><br><label>Contact Name&nbsp;&nbsp;</label><input ng-model=request.contactName><br><br><label>Contact Email&nbsp;&nbsp;</label><input ng-model=request.contactEmail></form><md-button ng-click=close();vm.request(request) class=md-primary>SClose</md-button><md-button ng-click=request(request) class=md-primary>Send Request</md-button></md-content></md-sidenav></md-tab></md-tabs></md-content></div><script>/*\n            This demo renders the grid in "DejaVu Sans" font family, which is\n            declared in kendo.common.css. It also declares the paths to the\n            fonts below using <tt>kendo.pdf.defineFont</tt>, because the\n            stylesheet is hosted on a different domain.\n        */\n        kendo.pdf.defineFont({\n            "DejaVu Sans"             : "//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans.ttf",\n            "DejaVu Sans|Bold"        : "//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Bold.ttf",\n            "DejaVu Sans|Bold|Italic" : "//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf",\n            "DejaVu Sans|Italic"      : "//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf"\n        });</script><script type=text/x-kendo-template id=template><div class="toolbar">\n                    <label class="category-label" for="category">Show products by category:</label>\n                    <input type="search" id="category" style="width: 150px"/>\n                </div></script><script type=x/kendo-template id=page-template><div class="page-template">\n        <div class="header">\n          <div style="float: right">Page #: pageNum # of #: totalPages #</div>\n          A Taste for convinience\n        </div>\n        <div class="watermark">MEDIABOX</div>\n        <div class="footer">\n          Page #: pageNum # of #: totalPages #\n        </div>\n      </div></script>'),a.put("app/order/order.html",'<div class=col-md-12><h3>Transaction History</h3><div class=box><div class=row><div class=col-sm-4 style="border-right: bold"><h3>Total Spent:<br>&nbsp;<br>{{orders.total | currency}}</h3></div><div class=col-sm-4><h3>How you pay</h3><br><small>manage</small></div><div class=col-sm-4><h3><a href=/profile>Advertising Profile</a></h3><br><p>Company:{{user.company}}<br>Contact Name:{{user.name}}<b><br>Phone :{{user.phone}}<br>Email: {{user.email}}</p></div></div></div><div class=box><div class=row><div class=col-md-12><div style=margin-top:20px class=small dw-loading=orders dw-loading-options="{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}"></div><div ng-controller="OrderCtrl as vm"><kendo-grid options=vm.mainGridOptions><div k-detail-template><kendo-tab-strip><ul><li class=k-state-active>ORDER DETAILS</li><li>PUBLISHER</li></ul><div><div kendo-grid k-options=vm.detailGridOptions(dataItem)></div></div><div><ul class=contact-info-form><li><label>Name:</label>{{dataItem.items[0].publisher}}</li><li><label>City:</label>{{dataItem.City}}</li><li><label>Address:</label>{{dataItem.Address}}</li><li><label>Home phone:</label>{{dataItem.HomePhone}}</li></ul></div></kendo-tab-strip></div></kendo-grid></div></div></div></div></div><script>/*\n            This demo renders the grid in "DejaVu Sans" font family, which is\n            declared in kendo.common.css. It also declares the paths to the\n            fonts below using <tt>kendo.pdf.defineFont</tt>, because the\n            stylesheet is hosted on a different domain.\n        */\n        kendo.pdf.defineFont({\n            "DejaVu Sans"             : "//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans.ttf",\n            "DejaVu Sans|Bold"        : "//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Bold.ttf",\n            "DejaVu Sans|Bold|Italic" : "//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf",\n            "DejaVu Sans|Italic"      : "//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf"\n        });</script><script type=text/x-kendo-template id=template><div class="toolbar">\n                    <label class="category-label" for="category">Show products by category:</label>\n                    <input type="search" id="category" style="width: 150px"/>\n                </div></script><script type=x/kendo-template id=page-template><div class="page-template">\n        <div class="header">\n          <div style="float: right">Page #: pageNum # of #: totalPages #</div>\n          A Taste for convinience\n        </div>\n        <div class="watermark">MEDIABOX</div>\n        <div class="footer">\n          Page #: pageNum # of #: totalPages #\n        </div>\n      </div></script>'),a.put("app/paymentMethod/paymentMethod.html",'<div class=col-md-12><crud-table api=PaymentMethod cols=[{&quot;name&quot;:&quot;text&quot;},{&quot;email&quot;:&quot;text&quot;},{&quot;active&quot;:&quot;boolean&quot;}]></crud-table></div><!-- <div class="row">\n    <div class="col-md-3"></div>\n    <div class="col-md-6">\n        <div class="box">\n            <h1>Payment Options</h1>\n      <form class="form" name="paymentForm" ng-submit="savePaymentMethod(payment)" novalidate>\n\n        <div class="form-group">\n          <label>Paypal Email ID</label>\n\n          <input type="text" name="paypal" class="form-control" ng-model="payment.paypal"\n                 mongoose-error placeholder="Paypal Email" required/>\n                 <input type="checkbox" name="cod" ng-model="payment.cod"\n                        mongoose-error placeholder="COD"/>\n          <p class="help-block" ng-show="paymentForm.paypal.$error.mongoose">\n              {{ errors.other }}\n          </p>\n        </div>\n        <div class="form-group">\n          <label>Stripe publishable key</label>\n\n          <input type="text" name="stripe" class="form-control" ng-model="payment.stripe"\n                 mongoose-error placeholder="Stripe Key" required/>\n          <p class="help-block" ng-show="paymentForm.stripe.$error.mongoose">\n              {{ errors.other }}\n          </p>\n        </div>\n        <div class="form-group">\n          <label>Google Wallet</label>\n\n          <input type="text" name="google" class="form-control" ng-model="payment.google"\n                 mongoose-error placeholder="Google Email ID" required/>\n          <p class="help-block" ng-show="paymentForm.google.$error.mongoose">\n              {{ errors.other }}\n          </p>\n        </div>\n        <div class="form-group">\n          <label>Cash on Delivery</label>\n\n          <input type="checkbox" name="cod" class="form-control" ng-model="payment.cod"\n                 mongoose-error placeholder="COD"/>\n          <p class="help-block" ng-show="paymentForm.cod.$error.mongoose">\n              {{ errors.other }}\n          </p>\n        </div>\n\n        <p class="help-block"> {{ message }} </p>\n\n        <button class="btn btn-lg btn-warning" type="submit" ng-disabled="paymentForm.$pristine" ng-disabled="paymentForm.$dirty && paymentForm.$invalid">Save Payment Methods</button>\n      </form>\n    </div>\n    </div>\n    <div class="col-md-3"></div>\n  </div>\n -->'),a.put("app/product/product.html",'<link rel=stylesheet href="bower_components/angular-tablesort/tablesort.css"><form name=product_form><!-- <div class="col-sm-12">\n      <div class="box">\n        <h1>Products Manager</h1>\n        <div class="alert alert-info">Shipping will be free, if no weight specified</div>\n      </div>\n    </div> --><div class=col-md-7><button type=button class="btn btn-danger" ng-click=edit({});><i class="fa fa-plus"></i>&nbsp;Add New</button> <button type=submit class="btn btn-info" ng-click=save(product);><i class="fa fa-save"></i> &nbsp;Save</button> &nbsp;&nbsp;<a ui-sref="productDetail({id:product._id, slug:product.slug})">{{product.name}}</a> <button type=button class=btn ng-click=delete(product); ng-if=product._id><i class="fa fa-trash"></i>&nbsp;Delete</button><hr><div class=box ng-if=product._id><form class=form-horizontal role=form><div class=form-group><div class=col-md-12><div class="form-group row"><label for=name class="col-md-2 control-label text-right">Name</label><div class=col-md-8><input ng-model=product.name class=form-control placeholder="Name"></div></div><hr><div class="form-group row"><label for=id class="col-md-2 control-label">Platform</label><div class=col-md-8><ui-select ng-model=product.category theme=bootstrap title="Select Platform"><ui-select-match class=ui-select-match placeholder="Select Platform...">{{$select.selected.name}}</ui-select-match><ui-select-choices class=ui-select-choices repeat="c in categories | propsFilter: {name: $select.search}"><span ng-bind-html="c.name | highlight: $select.search"></span></ui-select-choices></ui-select></div></div><hr><div class="form-group row"><label for=id class="col-md-2 control-label">Category</label><div class=col-md-8><ui-select ng-model=product.brand theme=bootstrap title="Select Category"><ui-select-match class=ui-select-match placeholder="Select Category...">{{$select.selected.name}}</ui-select-match><ui-select-choices class=ui-select-choices repeat="b in brands | propsFilter: {name: $select.search}"><span ng-bind-html="b.name | highlight: $select.search"></span></ui-select-choices></ui-select></div></div><hr><div class="form-group row"><label for=logo class="col-md-2 control-label">Logo</label><div class=col-md-8><input class=form-control type=file ng-model=product.logo name=inputFile base-sixty-four-input maxsize=500 accept=image/*></div></div><hr><div class="form-group row"><label for=id class="col-md-2 control-label">Description</label><div class=col-md-8><textarea ng-model=product.info class=form-control></textarea></div></div><hr><div class="form-group row"><label for=id class="col-md-2 control-label">Website</label><div class=col-md-8><input ng-model=product.website class=form-control placeholder="Website"></div></div><hr><div class="form-group row"><label for=id class="col-md-2 control-label">Phone</label><div class=col-md-4><input ng-model=product.phone class=form-control placeholder="Phone"></div><label for=id class="col-md-1 control-label">Email</label><div class=col-md-4><input ng-model=product.email class=form-control placeholder="Email"></div></div><hr><div class="form-group row"><label for=id class="col-md-2 control-label">Terms Of Use</label><div class=col-md-10><textarea ng-model=product.terms class=form-control></textarea></div></div></div></div><hr><hr><!-- <div class="clearfix"></div>\n<div class="panel panel-primary">\n  <div class="panel-heading">Key Features</div>\n  <div class="panel-body">\n    <table class="table table-striped table-responsive">\n    <thead>\n        <tr>\n            <th>#</th>\n            <th></th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr ng-repeat="kf in product.keyFeatures track by $index">\n            <td>{{$index+1}}</td>\n            <td><input type="text" ng-model="product.keyFeatures[$index]" style="width:150px;" placeholder="Feature"/></td>\n            <td>\n                <div class="btn-group">\n                  <button type="button" class="btn btn-danger" ng-click="deleteKF($index,product);"><i class="fa fa-trash-o"></i></button>\n                </div>\n            </td>\n        </tr>\n        <tr>\n            <td>New</td>\n            <td><input type="text" ng-model="newKF.val" style="width:150px;" placeholder="Key Feature"></input></td>\n            <td>\n\n            </td>\n        </tr>\n    </tbody>\n    </table>\n</div>\n</div> --><hr><div class=clearfix></div></form></div><div dw-loading=products dw-loading-options="{text: \'\'}"></div><div class=box ng-if=!product._id><h3>Click on the product name to view details... <i class="fa fa-arrow-right"></i></h3></div></div><div class=col-md-5 style="margin-top: 73px"><div class="panel panel-primary"><div class=panel-heading>List of products<div class=sw-search><div class=nav-search id=nav-search><span class=input-icon><input placeholder="Filter products list ..." class=nav-search-input ng-model=filter autocomplete=off autofocus> <i class="search-icon fa fa-search nav-search-icon"></i></span></div></div></div><div class=panel-body><div infinite-scroll=loadMore()><table class="table table-striped table-responsive" ts-wrapper><thead><tr><th ts-criteria=id>ID</th><th ts-criteria=name>Name</th><th ts-criteria=active>Status</th></tr></thead><tbody><tr ng-repeat="p in products | filter:filter" id={{p._id}} animate-on-change=p.price+p.quantity+p.size+p.name ng-animate="\'animate\'" ts-repeat><!-- <td><img src="images/{{p.category}}/{{p.image}}"/> </td>--><td>{{$index+1}}</td><td><a href="" ng-click=productDetail(p);>{{p.name}}</a></td><td><button class=btn ng-class="{true:\'btn-success\', false:\'\'}[p.active]" ng-click=changeActive(p);>{{p.active | active}}</button></td></tr></tbody></table></div><!-- Infinite Scroll --></div></div></div><div class=col-sm-12><div class=box ng-if=product._id><div ng-cloak><md-content><md-tabs md-dynamic-height md-border-bottom><md-tab label=Features><md-content class=md-padding><section layout=row flex><md-content flex layout-padding><table class="table table-striped table-responsive"><thead><tr><th>#</th><th>Key</th><th>Value</th></tr></thead><tbody><tr ng-repeat="feature in product.features track by $index"><td>{{$index+1}}</td><td><input class=form-control ng-model=feature.key ng-value={{feature.key}} style=width:150px placeholder="Key"><!-- <select ng-model="newFK.key" ng-value="{{feature.key}}" ng-options="o.key as o.key for o in features | unique: \'key\'" class="form-control">\n                  <option value="">Select Feature Key</option>\n              </select> --></td><td><input class=form-control ng-model=feature.val ng-value={{feature.key}} style=width:150px placeholder="Key"><!--  <select ng-model="newKF.val" ng-value="{{feature.val}}" ng-options="o.val as o.val for o in features | unique: \'val\'" class="form-control">\n                  <option value="">Select Feature Value</option>\n              </select> --><!-- <ui-select ng-model="selected.feature[$index]" theme="bootstrap" title="Select Feature Value"\n              ng-init="selected.feature[$index] = feature" style="    max-width: 200px;">\n                <ui-select-match placeholder="Select Feature Value...">{{$select.selected.val}} </ui-select-match>\n                <ui-select-choices repeat="f in features | propsFilter: {val: $select.search}">\n                  <span ng-bind-html="f.val | highlight: $select.search"></span>\n                </ui-select-choices>\n              </ui-select> --><!-- <input type="text" ng-model="feature.val" style="width:150px;" placeholder="Value"/> --></td><td><div class=btn-group><small></small><button type=submit class="btn btn-info" ng-click=save(product);><i class="fa fa-save"></i></button> <small><button type=button class="btn btn-danger" ng-click=deleteFeature($index,product);><i class="fa fa-trash-o"></i></button></small></div></td></tr><tr><td>New</td><td><!-- <input type="text" ng-model="newFeature.key" style="width:150px;" placeholder="Key"/> --><select ng-model=newFeature.key ng-options="o.key as o.key for o in features | unique: \'key\'" class=form-control><option value="">Select Feature</option></select></td><td><select ng-model=newFeature.val ng-options="o.val as o.val for o in features | unique: \'val\'" class=form-control><option value="">Select Feature Value</option></select></td><td><div class=btn-group><button type=submit class="btn btn-info" ng-click=save(product);><i class="fa fa-save"></i></button></div></td></tr></tbody></table><div flex></div></md-content></section></md-content></md-tab><md-tab label=STATISTICS><md-content class=md-padding><section layout=row flex><md-content flex layout-padding><div flex></div><table class="table table-striped table-responsive"><thead><tr><th>#</th><th>Key</th><th>Value</th></tr></thead><tbody><tr ng-repeat="stats in product.stats track by $index"><td style="width: 5%">{{$index+1}}</td><td style="width: 30%"><input ng-model=stats.key class=form-control value=stats.key placeholder="Key"><!--  <select ng-model="stats.key"  class="form-control">\n                  <option value="{{stats.key}}">{{stats.key}}</option>\n              </select> --></td><td style="width: 30%"><input ng-model=stats.val class=form-control value={{stats.val}} class=form-control><!-- <ui-select ng-model="selected.feature[$index]" theme="bootstrap" title="Select Feature Value"\n              ng-init="selected.feature[$index] = feature" style="    max-width: 200px;">\n                <ui-select-match placeholder="Select Feature Value...">{{$select.selected.val}} </ui-select-match>\n                <ui-select-choices repeat="f in features | propsFilter: {val: $select.search}">\n                  <span ng-bind-html="f.val | highlight: $select.search"></span>\n                </ui-select-choices>\n              </ui-select> --><!-- <input type="text" ng-model="feature.val" style="width:150px;" placeholder="Value"/> --></td><td style="width: 25%"><div class=btn-group><button type=submit class="btn btn-info" ng-click=save(product);><i class="fa fa-save"></i></button> <button type=button class="btn btn-danger" ng-click=deleteStats($index,product);><i class="fa fa-trash-o"></i></button></div></td></tr><tr><td>New</td><td><!-- <input type="text" ng-model="newFeature.key" style="width:150px;" placeholder="Key"/> --><select ng-model=newStats.key ng-options="o.key as o.key for o in statistics | unique: \'key\'" class=form-control><option value="">Select Feature</option></select></td><td><input class=form-control ng-model=newStats.val style=width:375px placeholder="Value"></td><td><div class=btn-group><button type=submit class="btn btn-info" ng-click=save(product);><i class="fa fa-save"></i></button></div></td></tr></tbody></table></md-content></section></md-content></md-tab><!--running to be inseterd gere--><md-tab label="MEDIA OPTIONS "><md-content class=md-padding><section layout=row flex><md-content flex layout-padding><table class="table table-striped table-responsive"><thead><tr><th>#</th><th>sku</th><th>Name</th><th>Price</th><th>Model</th><th>Dimensions</th><!--  ts-default --><th>Max Size</th><th>Formart</th><th>Preview</th><th></th></tr></thead><tbody><tr ng-repeat="p in product.variants track by $index" id={{p._id}}><!-- <td><img src="images/{{p.category}}/{{p.image}}"/> </td>--><td>{{$index+1}}</td><td><input class=form-control ng-model=p.sku style=width:70px placeholder="sku"></td><td><input class=form-control ng-model=p.name style=width:200px placeholder="Name"></td><td><input class=form-control ng-model=p.price style=width:70px placeholder="Price"></td><td><input class=form-control ng-model=p.model style=width:70px placeholder="Model"></td><td><input class=form-control ng-model=p.size style=width:70px placeholder="Dimensions/Size"></td><td><input class=form-control ng-model=p.maxSize style=width:70px placeholder="Max Size"></td><td><input class=form-control ng-model=p.formart style=width:100px placeholder="Formarts"></td><td><label class="fileUpload btn btn-info btn-sm" ng-hide=p.preview><input type=file class=upload type=file ng-model=p.preview name=inputFile base-sixty-four-input maxsize=500 accept="image/*"> <span>Upload <i class="fa fa-upload"></i></span></label><label class="fileUpload btn btn-success btn-sm" ng-show=p.preview><input type=file class=upload type=file ng-model=p.preview name=inputFile base-sixty-four-input maxsize=500 accept="image/*"> <span>Upload <i class="fa fa-upload"></i></span></label></td><td><div class=btn-group><button type=submit class="btn btn-info btn-sm" ng-click=save(product);><i class="fa fa-save"></i></button> <button type=button class="btn btn-danger btn-sm" ng-click=deleteVariants($index,product);><i class="fa fa-trash-o"></i></button></div></td></tr><tr><!-- <td><img src="images/{{p.category}}/{{p.image}}"/> </td>--><td>New</td><td><input class=form-control ng-model=variant.sku style=width:70px placeholder="sku"></td><td><input class=form-control ng-model=variant.name style=width:200px placeholder="Name"></td><td><input class=form-control ng-model=variant.price style=width:70px placeholder="Price"></td><td><input class=form-control ng-model=variant.model style=width:70px placeholder="Pricing Model"></td><td><input class=form-control ng-model=variant.size style=width:70px placeholder="Dimensions"></td><td><input class=form-control ng-model=variant.maxSize style=width:70px placeholder="Max Size"></td><td><input class=form-control ng-model=variant.formart style=width:100px placeholder="formart"></td><td><div class=btn-group><button type=submit class="btn btn-info" ng-click=save(product);><i class="fa fa-save"></i></button></div></td></tr></tbody></table></md-content></section></md-content></md-tab><md-tab label="Time Line"><md-content class=md-padding><section layout=row flex><md-content flex layout-padding><table class="table table-striped table-responsive"><thead><tr><th>#</th><th>Key</th><th>Value</th></tr></thead><tbody><tr ng-repeat="kf in product.keyFeatures track by $index"><td style="width: 5%">{{$index+1}}</td><td style="width: 30%"><input ng-model=kf.key class=form-control value=kf.key placeholder="Key"><!--  <select ng-model="stats.key"  class="form-control">\n                  <option value="{{stats.key}}">{{stats.key}}</option>\n              </select> --></td><td style="width: 30%"><input ng-model=kf.val class=form-control value={{kf.val}} class=form-control><!-- <ui-select ng-model="selected.feature[$index]" theme="bootstrap" title="Select Feature Value"\n              ng-init="selected.feature[$index] = feature" style="    max-width: 200px;">\n                <ui-select-match placeholder="Select Feature Value...">{{$select.selected.val}} </ui-select-match>\n                <ui-select-choices repeat="f in features | propsFilter: {val: $select.search}">\n                  <span ng-bind-html="f.val | highlight: $select.search"></span>\n                </ui-select-choices>\n              </ui-select> --><!-- <input type="text" ng-model="feature.val" style="width:150px;" placeholder="Value"/> --></td><td style="width: 25%"><div class=btn-group><button type=submit class="btn btn-info" ng-click=save(product);><i class="fa fa-save"></i></button> <button type=button class="btn btn-danger" ng-click=deleteKF($index,product);><i class="fa fa-trash-o"></i></button></div></td></tr><tr><td>New</td><td><!-- <input type="text" class="form-control" ng-model="newFeature.key" style="width:150px;" placeholder="Key"/> --><select ng-model=newKF.key ng-options="o.key as o.key for o in executionDetails | unique: \'key\'" class=form-control><option value="">Select Feature</option></select></td><td><input class=form-control ng-model=newKF.val style=width:375px placeholder="Value"></td><td><div class=btn-group><button type=submit class="btn btn-info" ng-click=save(product);><i class="fa fa-save"></i></button></div></td></tr></tbody></table><div flex></div></md-content></section></md-content></md-tab></md-tabs></md-content></div><!-- feature and Stats --><!-- <div class="col-md-12">\n              <div class="col-md-5"> --><!-- features --><!-- <div class="clearfix"></div>\n                      <div class="panel panel-primary">\n                        <div class="panel-heading">Features 0</div>\n                        <div class="panel-body">\n                         \n                      </div>\n                      </div> --><!-- </div>\n              <div class="col-md-7"> --><!-- stats --><!-- <div class="panel panel-primary">\n                    <div class="panel-heading">Statistics </div>\n                    <div class="panel-body">\n                      \n                  </div>\n                  </div>\n                  \n              </div>\n          </div>\n      <hr/>\n      <div class="clearfix"></div><br><br> --><!-- mediaKit --><!-- <div class="clearfix"></div>\n      <div class="panel panel-primary">\n        <div class="panel-heading">MediaKit</div>\n        <div class="panel-body">\n          \n      </div>\n      </div>\n\n    </div> --></div></div></form>'),
a.put("app/profile/profile.html",'<link rel=stylesheet href="bower_components/angular-tablesort/tablesort.css"><form name=product_form><!-- <div class="col-sm-12">\n      <div class="box">\n        <h1>Products Manager</h1>\n        <div class="alert alert-info">Shipping will be free, if no weight specified</div>\n      </div>\n    </div> --><div class=col-md-6><!--  <button type="button" class="btn btn-danger" ng-click="edit({});"><i class="fa fa-plus"></i>&nbsp;Add New</button> --><button type=submit class="btn btn-info" ng-click=save(user);><i class="fa fa-save"></i> &nbsp;Save</button> &nbsp;&nbsp;<a ui-sref="productDetail({id:product._id, slug:product.slug})">{{product.name}}</a> <button type=button class=btn ng-disable=true ng-click=delete(product); ng-if=profile._id><i class="fa fa-trash"></i>&nbsp;Delete</button><hr><div class=box ng-if=profile._id><form class=form-horizontal role=form><div class=form-group><div class=col-md-12><div class=col-md-1></div><div class=col-md-10><hr><span><h3>Details</h3></span><hr><div class="form-group row"><label for=id class=col-md-4>Advertising-ID</label><div class=col-md-8><input ng-model=profile._id disabled class=form-control placeholder="ID"></div></div><hr><div class="form-group row"><label for=name class="col-md-4 control-label text-right">First Name</label><div class=col-md-8><input ng-model=profile.name class=form-control placeholder="Name"></div></div><hr><div class="form-group row"><label for=name class="col-md-4 control-label text-right">Last Name</label><div class=col-md-8><input ng-model=profile.lastname class=form-control placeholder="Name"></div></div><hr><div class="form-group row"><label for=name class="col-md-4 control-label text-right">Company</label><div class=col-md-8><input ng-model=profile.company class=form-control placeholder="Name"></div></div><hr><div class="form-group row"><label for=name class="col-md-4 control-label text-right">Address</label><div class=col-md-8><input ng-model=profile.address class=form-control placeholder="Address"></div></div><hr><div class="form-group row"><label for=name class="col-md-4 control-label text-right">Email</label><div class=col-md-8><input ng-model=profile.email class=form-control placeholder="Name"></div></div><hr><div class="form-group row"><label for=name class="col-md-4 control-label text-right">Phone Number</label><div class=col-md-8><input ng-model=profile.phone class=form-control placeholder="Name"></div></div><hr><div class="form-group row"><label for=logo class="col-md-4 control-label">Upload your Logo</label><div class=col-md-8><input class=form-control type=file ng-model=profile.photo name=inputFile base-sixty-four-input maxsize=500 accept=image/*></div></div><div ng-show="profile.role==\'admin\'"><hr><span><h3>How you get Paid</h3></span><hr><div class="form-group row"><label for=name class="col-md-4 control-label text-right">Bank Name</label><div class=col-md-8><input ng-model=profile.bankname class=form-control placeholder="Name"></div></div><hr><div class="form-group row"><label for=name class="col-md-4 control-label text-right">Branch</label><div class=col-md-8><input ng-model=profile.branch class=form-control placeholder="Name"></div></div><hr><div class="form-group row"><label for=name class="col-md-4 control-label text-right">A/C Number</label><div class=col-md-8><input ng-model=profile.accountNumber class=form-control placeholder="Name"></div></div><hr><button type=submit class="btn btn-info" ng-click=save(user);><i class="fa fa-save"></i> &nbsp;Save</button></div></div></div><div class=col-md-1></div></div><hr><hr><!-- <div class="clearfix"></div>\n<div class="panel panel-primary">\n  <div class="panel-heading">Key Features</div>\n  <div class="panel-body">\n    <table class="table table-striped table-responsive">\n    <thead>\n        <tr>\n            <th>#</th>\n            <th></th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr ng-repeat="kf in product.keyFeatures track by $index">\n            <td>{{$index+1}}</td>\n            <td><input type="text" ng-model="product.keyFeatures[$index]" style="width:150px;" placeholder="Feature"/></td>\n            <td>\n                <div class="btn-group">\n                  <button type="button" class="btn btn-danger" ng-click="deleteKF($index,product);"><i class="fa fa-trash-o"></i></button>\n                </div>\n            </td>\n        </tr>\n        <tr>\n            <td>New</td>\n            <td><input type="text" ng-model="newKF.val" style="width:150px;" placeholder="Key Feature"></input></td>\n            <td>\n\n            </td>\n        </tr>\n    </tbody>\n    </table>\n</div>\n</div> --><hr><div class=clearfix></div></form></div><div dw-loading=products dw-loading-options="{text: \'\'}"></div><div class=box ng-if=!profile._id><h3>Click on the name to view details... <i class="fa fa-arrow-right"></i></h3></div></div><div class=col-md-1></div><div class=col-md-5 style="margin-top: 73px"><div class="panel panel-primary"><div class=panel-heading>Profile</div><div class=panel-body><div infinite-scroll=loadMore()><table class="table table-striped table-responsive" ts-wrapper><thead><tr><th ts-criteria=active>&nbsp;</th><th ts-criteria=name>Details</th></tr></thead><tbody><tr><td><a href="" ng-click=profileDetail(user);><img class=thumbnail data-ng-src=data:image/png;base64,{{user.photo.base64}} data-err-src="/assets/images/photo.png"></a></td><td><a href="" ng-click=profileDetail(user);>&nbsp;{{user.company}}&nbsp;<br>{{user.address}}<br>{{user.phone}}</a></td></tr><tr></tr></tbody></table></div><!-- Infinite Scroll --></div></div></div></form>'),a.put("app/puborder/puborder.html",'<div class=col-md-12><div class=box><div class=row><div class=col-sm-4 style="border-right: bold"><h3>Orders Total :<br>&nbsp;<br>{{orders.total | currency}}</h3></div><div class=col-sm-4><h3>How You get paid</h3><br><small><a href=/profile>manage</a></small></div><div class=col-sm-4><h3><a href=/profile>Advertising Profile</a></h3><br><p>Company:{{user.company}}<br>Contact Name:{{user.name}}<b><br>Phone :{{user.phone}}<br>Email: {{user.email}}</p></div></div></div><div class=box><div style=margin-top:20px class=small dw-loading=orders dw-loading-options="{active: true, text: \'\', className: \'custom-loading\', spinnerOptions: {lines: 12, length: 20, width: 6, radius: 20, color: \'#d9534f\', direction: -1, speed: 3}}"></div><div ng-controller="PubOrderCtrl as vm"><kendo-grid options=vm.mainGridOptions><div k-detail-template><kendo-tab-strip><ul><li class=k-state-active>ORDER DETAILS</li><li>ADVERTISER</li></ul><div><div kendo-grid k-options=vm.detailGridOptions(dataItem)></div></div><div><ul class=contact-info-form><li><label>Name:</label>{{dataItem.advertiser.company}}</li><li><label>Address:</label>{{dataItem.advertiser.address}}</li><li><label>Email:</label>{{dataItem.advertiser.email}}</li><li><label>Phone:</label>{{dataItem.advertiser.phone}}</li></ul></div></kendo-tab-strip></div></kendo-grid></div></div></div><script>/*\n            This demo renders the grid in "DejaVu Sans" font family, which is\n            declared in kendo.common.css. It also declares the paths to the\n            fonts below using <tt>kendo.pdf.defineFont</tt>, because the\n            stylesheet is hosted on a different domain.\n        */\n        kendo.pdf.defineFont({\n            "DejaVu Sans"             : "//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans.ttf",\n            "DejaVu Sans|Bold"        : "//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Bold.ttf",\n            "DejaVu Sans|Bold|Italic" : "//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf",\n            "DejaVu Sans|Italic"      : "//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf"\n        });</script><script type=text/x-kendo-template id=template><div class="toolbar">\n                    <label class="category-label" for="category">Show products by category:</label>\n                    <input type="search" id="category" style="width: 150px"/>\n                </div></script><script type=x/kendo-template id=page-template><div class="page-template">\n        <div class="header">\n          <div style="float: right">Page #: pageNum # of #: totalPages #</div>\n          A Taste for convinience\n        </div>\n        <div class="watermark">MEDIABOX</div>\n        <div class="footer">\n          Page #: pageNum # of #: totalPages #\n        </div>\n      </div></script>'),a.put("app/shipping/shipping.html",'<div class=col-md-12><div class=row><div class=box><h3>Shipping Settings</h3><div class=alert-info>Weight is always in grams. Please enter stripped out version. e.g.: 100 instead of 100g or 100kg</div></div></div></div><crud-table api=Shipping cols=[{&quot;carrier&quot;:&quot;text&quot;},{&quot;country&quot;:&quot;text&quot;},{&quot;charge&quot;:&quot;currency&quot;},{&quot;minWeight&quot;:&quot;number&quot;},{&quot;maxWeight&quot;:&quot;number&quot;},{&quot;freeShipping&quot;:&quot;currency&quot;},{&quot;active&quot;:&quot;boolean&quot;}]></crud-table><!-- <div class="col-md-12">\n      <div class="row">\n        <div class="box">\n          <form class="form" name="shippingForm" ng-submit="saveSettings(settings)" novalidate>\n\n      <div class="form-group">\n        <label>Free shipping on minimum order value of </label>\n        <input type="text" name="shipping" class="form-control" ng-model="settings.freeShipping"\n               mongoose-error placeholder="Minimum Order Value" required/>\n        <p class="help-block" ng-show="shippingForm.shipping.$error.mongoose">\n            {{ errors.other }}\n        </p>\n        </div>\n\n        <div class="form-group">\n          <label>Shipping Charge</label>\n          <input type="text" name="shippingCharge" class="form-control" ng-model="settings.shippingCharge"\n                 mongoose-error placeholder="Charge" required/>\n          <p class="help-block" ng-show="shippingForm.shippingCharge.$error.mongoose">\n              {{ errors.other }}\n          </p>\n        </div>\n\n        <p class="help-block"> {{ message }} </p>\n\n        <button class="btn btn-lg btn-warning" type="submit" ng-disabled="shippingForm.$pristine" ng-disabled="shippingForm.$dirty && shippingForm.$invalid">Save Shipping Settings</button>\n      </form>\n    </div>\n  </div>\n</div> -->'),a.put("app/shop/shop.html","<div class=col-md-12>This is the shop view.</div>"),a.put("components/messages/airline.html","Airline Advertising Travelling inspires people and removes them from the distractions of their everyday routine. This is the perfect moment for brands to reach and engage with a real audience when they have the time, focus and mind-set to respond. Airline passengers tend to spend money and make decisions in their local community. A high level of this highly desirable captive audience are the business decision makers because corporate executives often fly out regardless of the ticket cost – it is a matter of convenience because time is money! Airport Advertising Airport is positioned as a unique and unrivalled platform for advertisers to reach out to a premium audience. The MediaBox offers exciting advertising opportunities at prime locations across all terminals, including award-winning landmarks, digital networks, and dynamic static sites. Airport advertising delivers your message to business and leisure travelers. Whether you’re trying to raise awareness about your brand, product or service, or encourage point-of-sale, Airport ads are the way to go. Choose from a variety of traditional and experiential displays and locations that are best suited for your campaign. Place your ad throughout terminals in arrival and departure areas, ticketing areas, baggage claim, gates, concourses and VIP lounges."),a.put("components/messages/cinema.html","Cinema advertising is an excellent medium for premium audience targeting. Today, people are in full control of what they watch. As advertisers, you are constantly battling fragmented audience, declining reach, and ad-skipping technology. Who's even watching your ads anymore? That's where cinema comes in. Its audience is in full show me what you got mode - staring up at a giant screen in a dark, comfortable movie theater. Restaurants, bars and retail outlets surrounding cinema can appeal to consumers with special offers valid directly after the movie, and nearby service providers can connect with people who they know are active participants in the economy."),a.put("components/messages/email.html","Non-traditional marketing strategies rely on new and unorthodox marketing methods. Anything that falls outside the categories of traditional marketing can be considered non-traditional, but the term has typically referred to a more specific range of marketing tactics. The goal of non-traditional advertising is to create striking advertising experiences that capture interest through their creativity and unpredictably. Much of non-traditional marketing involves putting ads in unusual places, or displaying ads in unusual ways, hoping to command the attention of unassuming viewers. Non traditional advertising can encompass a variety of efforts and methods of getting your message seen. Non-traditional advertising works well for people with a limited budget and an audience that could be easily. It’s an effective method of displaying your message and making it more memorable because of the unusual way in which it may be shown. It is useful for a very targeted audience"),a.put("components/messages/magazines.html","Magazine advertising has a wide range of pricing. Smaller regional and local magazines charge less than national magazines with millions of subscribers and may be a better bet for your small business, depending on your industry Magazine advertising doesn't just vary in size, but also in type. It includes display ads, advertorials, classified and special promotions. Why You Should Advertise In Magazines<ul><li>Magazines and magazine ads capture focused attention: the focused process of magazine reading leads to less media multi-tasking, ensuring single minded attention to advertising.</li><li>Magazine status: some magazine titles are well respected in their field, so an advertisement in these will increase your product/service’s prestige by association.</li><li>Magazine advertising is targeted: magazines engage readers in very personal ways. There’s a magazine for every passion and a passion for every magazine. Use magazines to reach your target audience in a meaningful way.</li><li>Magazine advertising is relevant and welcomed: consumers value magazine advertising, reading it almost as much as the editorial itself. The ads are accepted as an essential part of the magazine mix.</li><li>Magazines are credible: consumers trust magazines so much that they are the leading sources of information that readers recommend by word-of-mouth to others.</li><li>Magazines offer a lasting message: ads keep working 24/7. They provide a lasting, durable message with time to study a brand’s benefits. Consumers clip and save magazine ads for future reference.</li><li>Tell The Entire Brand Story - Magazines allow in-depth, detailed communication of the entire brand story.</li><li>Flexibility - Magazines provide opportunities for inserts, supplements, advertorials and a variety of size and positioning options to meet any advertiser‘s specific creative needs. Ways In Which Magazines Deliver Engagement</li><li>The intimacy between reader and Magazines benefits advertisers. Also the strong positive brand values of the Magazines can transfer onto the advertisements.</li><li>Because advertisements are relevant and valued, ad clutter is not a problem in Magazines.</li><li>Readers take action as a result of seeing advertising in Magazines.</li><li>Targeting with precision and without wastage is a key strength of Magazines.</li><li>Creative formats such as gatefolds, textures, special papers, samples, sponsorship, advertisement features (‘advertorials’), and so on can create additional impact and interaction.</li><li>Advertising in Magazines is a great, cost-effective way to reach an exclusive group of affluent and highly educated managers, owners, professionals and executives.</li>Effectiveness Of Magazine Advertising<br>The effectiveness of magazine advertising depends on your advertising and promotion objectives, as well as the budget you have for advertising. Magazine advertising has strengths and weaknesses relative to other ad media. In general, you want to use media that reach your target audience and allow you to present effective messages affordably.</ul>"),a.put("components/messages/newspapers.html","<p>Advertising in Newspapers gives you an opportunity to reach out to your target audience. In order to get your brand’s advertising message out, you need to reach your consumers a number of times (i.e. frequency). Too little exposure and audiences will fail to notice the advertising. Too much, and recipients will be saturated. The Media Ant is uniquely positioned to help you grow your business with highly effective, targeted print media buying. Newspapers are the top traditional media source to influence purchase decisions. Newspapers advertising can span across multiple columns - and can even cover full page, half page, quarter page or other custom sizes. They are designed in high resolution colored and black/white formats providing higher visibility for the mass audiences of Newspapers.</p><p>The Journal of Advertising Research found “sound experimental evidence that newspaper advertising can stimulate an immediate response observable in purchasing terms.” In a study of 1200, one and a half days after ads for various brands ran in the newspaper:<ul><li>14% more purchases of the brands advertised in the newspaper</li><li></li><li>10% greater brand share for the brands advertised in the newspaper</li></ul></p>"),a.put("components/messages/nontraditional.html","Non-traditional marketing strategies rely on new and unorthodox marketing methods. Anything that falls outside the categories of traditional marketing can be considered non-traditional, but the term has typically referred to a more specific range of marketing tactics. The goal of non-traditional advertising is to create striking advertising experiences that capture interest through their creativity and unpredictably. Much of non-traditional marketing involves putting ads in unusual places, or displaying ads in unusual ways, hoping to command the attention of unassuming viewers. Non traditional advertising can encompass a variety of efforts and methods of getting your message seen. Non-traditional advertising works well for people with a limited budget and an audience that could be easily. It’s an effective method of displaying your message and making it more memorable because of the unusual way in which it may be shown. It is useful for a very targeted audience"),a.put("components/messages/outdoor.html","If you need to make a big impact in your local area, outdoor advertising can raise your company's profile and deliver results. Outdoor ads put your message right in front of your potential customers.<nr>Why Outdoor Advertising Works<br>Outdoor advertising is highly prominent and does not require the consumer to do anything to access it. You don't have to tune in or click onto it or turn a page. At the same time, most people regard it as less intrusive than other methods of advertising. Indeed, a lot of outdoor advertising engages the consumer, providing colour, humour and insight. In locations where it sits in front of a captive audience — on public transport or at waiting places, for instance — it can even be seen as a welcome distraction.<br>Where To Advertise Outdoors<br>Outdoor promotion is not just about massive hoardings, pole kiosks, bus shelters etc on the side of the road. There are poster sites and sizes to suit all budgets. Your choice will be driven by how well you understand your target market. If your target market is largely defined by geographical location, a few well-chosen spots and advertising signs in your area could raise your company's profile and drive sales. Outdoor advertising on the high street catches your potential customers while they are in shopping mode. A good poster campaign can prompt shoppers to buy your products there and then, especially if you are running a promotion as an incentive.</nr>"),a.put("components/messages/radio.html","Busy, people are particularly strong radio listeners because of its accessibility while they are on the go – at work, driving, relaxing at home or using the internet. Advantages Of Using Radio Advertising<ul><li>Radio’s cost-efficiency allows advertisers to be heard every day and multiple times throughout the day.</li><li>This average frequency is critically important for delivering rapid advertising response, such as – web visits, store traffic, sales, brand recall and intent-to-purchase.</li><li>Radio has strong reach across reions and each week attracts a large number of engaged listeners.</li><li>Busy, mobile people are particularly strong radio listeners because of its accessibility while they are on the go – at work, driving, walking, relaxing at home or using the internet.</li><li>Radio’s reach provides advertisers’ with cut through, campaign extension, frequency and message reinforcement.</li></ul>"),a.put("components/messages/tv.html","When Should You Use TV Advertising<ul><li>Repositioning Your Brand: changing perceptions about a brand is a difficult task. A strong branding effort is required to change the current association, beliefs and feelings about a brand</li><li>Changing Behavior: not all advertising is about consumption. Sometimes it’s about trying to persuade people to change what they do.</li><li>Generate Response: your Brands can use TV's ability to drive people to buy directly online or offline.</li><li>Demonstration: one of TV’s greatest strength is its ability to demonstrate. Sometimes a viewer needs to see a product in action in order to understand fully its benefits. It is the power of the moving image accompanied by sound that makes TV advertising so powerful. Demonstration shows viewers how to consume a new product.</li><li>Customer Retention: it is much easier to retain existing customers than to find new customers. Therefore, it is really important to remind your existing customers why they love your brand. A television campaign is capable of making a customer feel proud of ‘their’ brand, remind them why they bought into the brand in the first place and of all the positive elements of the brand and keep them feeling positive and warm about their choice of brand. Most of all it protects them against the advances of all those other brands who want to get their hands on your customers.</li><li></li><li>Launching Brands: TV is without doubt the most effective medium for launching brands. It combines the scale and reach that a new brand needs with impact and persuasiveness. No other medium can offer both these qualities.</li>What Environment Should Your TV Ad Be In?<br>Part of the planning process is determining which channels give you access to the right programmes and, ultimately, are most effective at reaching your audience. In order to meet your communication objectives efficiently, it is essential that the right mix of channels is bought. There are three measures that are used to describe a channel’s profile:<ul><li>Age</li><li>Gender</li><li>Class</li>These can be compared to either the population as a whole, or the overall profile of commercial TV</ul></ul>"),a.put("components/modal/modal.html",'<div class=modal-header><button type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=options.title ng-bind=options.title class=modal-title></h4></div><form name=modal-form class=form-horizontal role=form novalidate><div class=modal-body><p ng-if=options.body ng-bind=options.body></p><div class=form-group ng-repeat="i in options.columns" ng-if=options.columns><label class="col-sm-3 control-label no-padding-right">{{i.heading | labelCase}}</label><div class=col-sm-7><span class="block input-icon input-icon-right"><input class=form-control name=name ng-model=data[i.heading] ng-disabled="i.heading==\'_id\' || (i.heading==options.disabledColumn && options.title===\'Add New\')" autofocus placeholder="{{i.heading | labelCase}}" ng-if="i.sortType===\'parseFloat\'" only-numbers> <input class=form-control name=name ng-model=data[i.heading] ng-disabled="i.heading==\'_id\' || (i.heading==options.disabledColumn && data._id)" autofocus placeholder="{{i.heading | labelCase}}" ng-if="i.sortType!==\'parseFloat\' && i.dataType!==\'boolean\'"> <input type=checkbox ng-model=data[i.heading] ng-if="i.dataType===\'boolean\'" class=form-control></span></div></div><div class=form-group ng-repeat="(i, name) in data track by $index" ng-if=!options.columns><label class="col-sm-3 control-label no-padding-right">{{i}}</label><div class=col-sm-7><span class="block input-icon input-icon-right"><input class=form-control name=name ng-model=data[i] ng-disabled="i==\'_id\'" autofocus></span></div></div></div><div class=modal-footer><!-- <button ng-repeat="button in options.buttons" ng-class="button.classes" ng-click="button.click($event)" ng-bind="button.text" class="btn"></button> --><!-- <button type="button" class="btn" ng-click="cancel();">Cancel</button> --><button class="btn btn-primary" ng-click=saveItem(data); type=submit>Save</button></div></form>'),a.put("components/navbar/navbar.html",'<div ng-controller=NavbarCtrl><!-- *** TOPBAR ***\n_________________________________________________________ --><div id=top><div class=container><div class="col-md-6 offer" data-animate=fadeInDown></div><div class=col-md-6 data-animate=fadeInDown><ul class=menu><li ng-hide=isLoggedIn() ng-class="{active: isActive(\'/signup\')}"><a href=/signup>Sign up</a></li><li ng-hide=isLoggedIn() ng-class="{active: isActive(\'/login\')}"><a href=/login>Login</a></li><li ng-show=isLoggedIn()><a href="">Hello {{ getCurrentUser().name }}</a></li><li class=dropdown ng-show=isLoggedIn() dropdown=""><a href=# dropdown-toggle="" class=dropdown-toggle data-toggle=dropdown><i class="fa fa-dashboard">&nbsp;</i>Dashboard<b class=caret></b></a><ul class=dropdown-menu role=menu><li ng-show=isAdmin() ng-class="{active: isActive(\'/product\')}"><a href=/product><i class="fa fa-truck">&nbsp;</i>Inventory</a></li><li ng-show=isAdmin() ng-class="{active: isActive(\'/media\')}"><a href=/media><i class="fa fa-tag">&nbsp;</i>Media</a></li><li ng-show=isAdmin() ng-class="{active: isActive(\'/puborder\')}"><a href=/puborder><i class="fa fa-tag">&nbsp;</i>Orders</a></li><li ng-show=isLoggedIn() ng-hide=isAdmin() ng-class="{active: isActive(\'/campaign\')}"><a href=/campaign><i class="fa fa-road">&nbsp;</i>Campaigns</a></li><li ng-show=isLoggedIn() ng-hide=isAdmin() ng-class="{active: isActive(\'/order\')}"><a href=/order><i class="fa fa-road">&nbsp;</i>Transaction History</a></li><li class=divider></li><li ng-show=isLoggedIn() ng-class="{active: isActive(\'/profile\')}"><a href=/profile><i class="fa fa-user">&nbsp;</i>Account</a></li><li ng-show=isLoggedIn() ng-class="{active: isActive(\'/settings\')}"><a href=/settings><i class="fa fa-user">&nbsp;</i>Change Password</a></li><!-- <li ng-show="isAdmin()" ng-class="{active: isActive(\'/customer\')}">\n                    <a href="/customer"><i class="fa fa-user">&nbsp;</i>Customers</a>\n                  </li> --><li ng-show=isLoggedIn() ng-class="{active: isActive(\'/logout\')}"><a href="" ng-click=logout()><i class="fa fa-sign-out">&nbsp;</i>Logout</a></li><li class=divider></li></ul></li><li><a href=/contact>Contact</a></li></ul></div></div><div class="modal fade" id=login-modal tabindex=-1 role=dialog aria-labelledby=Login aria-hidden=true><div class="modal-dialog modal-sm"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=Login>Customer login</h4></div><div class=modal-body><form action=customer-orders.html method=post><div class=form-group><input class=form-control id=email-modal placeholder=email></div><div class=form-group><input type=password class=form-control id=password-modal placeholder=password></div><p class=text-center><button class="btn btn-danger"><i class="fa fa-sign-in"></i> Log in</button></p></form><p class="text-center text-muted">Not registered yet?</p><p class="text-center text-muted"><a href=register.html><strong>Register now</strong></a>! It is easy and done in 1&nbsp;minute and gives you access to special discounts and much more!</p></div></div></div></div></div><!-- *** TOP BAR END *** --><!-- *** NAVBAR ***\n_________________________________________________________ --><div class="navbar navbar-default yamm" role=navigation id=navbar><div class=container><div class=col-md-12><div class=navbar-header><a class="navbar-brand home" href=index.html data-animate-hover=bounce><img src=/assets/img/logo.png class=hidden-xs> <img src=/assets/img/logo.png class=visible-xs><span class=sr-only></span></a><div class=navbar-buttons><button type=button class=navbar-toggle data-toggle=collapse data-target=#navigation ng-click="isCollapsed1 = !isCollapsed1"><span class=sr-only>Toggle navigation</span> <i class="fa fa-align-justify"></i></button> <button type=button class=navbar-toggle data-toggle=collapse data-target=#search><span class=sr-only>Toggle search</span> <i class="fa fa-search"></i></button> <a class="btn btn-danger navbar-toggle" ng-click="openCart(cart,\'lg\');" href=""><i class="fa fa-shopping-cart">&nbsp;</i> <span class=hidden-xs>({{cart.getTotalCount()}}) - {{cart.getTotalPrice() | currency:"$"}}</span></a></div></div><!--/.navbar-header --><div class="navbar-collapse collapse navbar-static-top megamenu" id=navigation><div collapse=isCollapsed1 class="navbar-collapse collapse" id=navbar-main2><ul class="nav navbar-nav navbar-left" ng-hide=isAdmin()><li class="dropdown yamm-fw" ng-repeat="p in categories"><a href=Category/{{p.slug}}/{{p._id}} class=dropdown-toggle data-toggle=dropdown data-hover=dropdown data-delay=200>{{p.name}} <b class=caret></b></a><ul class=dropdown-menu><li><div class=yamm-content><div class=row><div class=col-sm-3 ng-repeat="c in p.sub_categories"><!-- <h5>All</h5> --><ul><li><a href=/Category/{{c.slug}}/{{c._id}} ng-click=hideSubMenu();>{{c.name}}</a></li></ul></div></div></div><!-- /.yamm-content --></li></ul></li></ul><ul class="nav navbar-nav navbar-left" ng-show=isAdmin()><li ng-show=isAdmin() ng-class="{active: isActive(\'/product\')}"><a href=/product>Inventory</a></li><li ng-show=isAdmin() ng-class="{active: isActive(\'/media\')}"><a href=/media>Media</a></li><li ng-show=isAdmin() ng-class="{active: isActive(\'/puborder\')}"><a href=/puborder>Orders</a></li><li ng-show=isAdmin()>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li ng-show=isLoggedIn() ng-class="{active: isActive(\'/profile\')}"><a href=/profile>Account</a></li><!-- <li ng-show="isAdmin()" ng-class="{active: isActive(\'/customer\')}">\n                    <a href="/customer"><i class="fa fa-user">&nbsp;</i>Customers</a>\n                  </li> --><li ng-show=isLoggedIn() ng-class="{active: isActive(\'/logout\')}"><a href="" ng-click=logout()><i class="fa fa-sign-out">&nbsp;</i>Logout</a></li><li class=divider></li></ul></div></div><!--/.nav-collapse --><div class=navbar-buttons ng-hide=isAdmin()><small><div class="navbar-collapse collapse right" id=basket-overview><a class="btn btn-danger navbar-btn" ng-click="openCart(cart,\'lg\');" href=""><i class="fa fa-shopping-cart">&nbsp;</i> <span class=hidden-sm>{{cart.getTotalPrice() | currency:"$"}}</span></a></div></small><!--/.nav-collapse --><div class="navbar-collapse collapse right" id=search-not-mobile><button type=button class="btn navbar-btn btn-danger" data-toggle=collapse data-target=#search><span class=sr-only>Toggle search</span> <i class="fa fa-search"></i></button></div></div><div class="collapse clearfix" id=search><form id=searchForm class="ng-scope ng-pristine ng-valid navbar-form" role=search><div class="nav-search text-center" id=nav-search><span class=input-icon><script type=text/ng-template id=searchTemplate.html><a><span>{{match.model.name}}</span></a></script><div class=input-group><input class="form-control text-left" name=q id=q autocomplete=off placeholder="Search for a publishers..." ng-model=search typeahead="p as p.name for p in globalSearch($viewValue)" typeahead-loading=loadingLocations typeahead-no-results=noResults typeahead-template-url=searchTemplate.html typeahead-on-select="onSelectProduct($item, $model, $label)" autofocus> <span class=input-group-btn><button type=submit class="btn btn-danger"><i class="fa fa-search"></i>Search</button></span></div></span></div></form></div><!--/.nav-collapse --></div><!-- /.container --></div><!-- /#navbar --></div><!-- *** NAVBAR END *** --></div>');
}]);